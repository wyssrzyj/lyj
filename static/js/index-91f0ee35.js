import{d as h,r as a,x as m,o as x,a as b,g as c,ab as C,F as S,u as g,R as k,c as f,e as u,f as w,w as d,i as _,k as y,ac as v,h as R,D as O,p as B,q as I,_ as j}from"./index-b9c76e4f.js";import{C as D}from"./cropper-48b5700c.js";const N={aspectRatio:16/9,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,autoCrop:!0,background:!0,highlight:!0,center:!0,responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,scalable:!0,modal:!0,guides:!0,movable:!0,rotatable:!0},z={src:{type:String,required:!0},alt:{type:String},width:{type:[String,Number],default:""},height:{type:[String,Number],default:"360px"},crossorigin:{type:String||Object,default:void 0},imageStyle:{type:Object,default(){return{}}},options:{type:Object,default(){return{}}}},E=h({name:"ReCropper",props:z,setup(e){const r=a(null),s=a(),o=a(!1),p=m(()=>({height:e.height,width:e.width,maxWidth:"100%",...e.imageStyle})),i=m(()=>{const{height:t,width:l}=e;return{width:`${l}`.replace(/px/,"")+"px",height:`${t}`.replace(/px/,"")+"px"}});function n(){const t=g(s);t&&(r.value=new D(t,{...N,ready:()=>{o.value=!0},...e.options}))}return x(()=>{b(()=>{n()})}),{props:e,imgElRef:s,cropper:r,getWrapperStyle:i,getImageStyle:p}},render(){return c(S,null,[c("div",{class:C({excludeListeners:!0,excludeKeys:["class"]}),style:this.getWrapperStyle},[c("img",{ref:"imgElRef",src:this.props.src,alt:this.props.alt,crossorigin:this.props.crossorigin,style:this.getImageStyle},null)])])}}),T=k(E),V=T,W="/vue-pure-admin/static/jpeg/picture-596f7aa0.jpeg",F=e=>(B("data-v-72ab430c"),e=e(),I(),e),M=F(()=>_("div",{class:"card-header"},[_("span",{class:"font-medium"},"图片裁剪组件")],-1)),$={class:"cropper-container"},q=["src"],L={key:0},A=h({name:"Cropping"}),H=h({...A,setup(e){const r=a(),s=a(null),o=a(""),p=()=>{b(()=>{r.value.cropper.getCroppedCanvas().toBlob(i=>{const n=new FileReader;n.onloadend=t=>{o.value=t.target.result,s.value=r.value.cropper.getData()},n.readAsDataURL(i)},"image/jpeg")})};return(i,n)=>{const t=f("el-button"),l=f("el-card");return u(),w(l,{shadow:"never"},{header:d(()=>[M]),default:d(()=>[_("div",$,[c(g(V),{ref_key:"refCropper",ref:r,width:"40vw",src:g(W)},null,8,["src"]),o.value?(u(),y("img",{key:0,src:o.value,class:"croppered"},null,8,q)):v("",!0)]),c(t,{type:"primary",onClick:p},{default:d(()=>[R("裁剪")]),_:1}),o.value?(u(),y("p",L,"裁剪后图片信息："+O(s.value),1)):v("",!0)]),_:1})}}});const G=j(H,[["__scopeId","data-v-72ab430c"]]);export{G as default};
