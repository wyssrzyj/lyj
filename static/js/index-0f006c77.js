import{S as wC,d as Hi,r as Sn,o as Xm,u as cr,c as _i,e as on,k as co,i as xn,F as Ym,l as Wm,g9 as mm,g as Ko,w as Vo,B as bm,a9 as Km,_ as ad,ac as Vm,D as AC,f as ed,R as ud,h as Om,p as NC,q as DC}from"./index-b9c76e4f.js";import{u as jC}from"./hooks-10978ac7.js";import{V as CC}from"./styles-08aedaa1.js";import{S as RC}from"./set-up-729eb907.js";import"./vue.runtime.esm-bundler-376205b2.js";const IC=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"开始",x:280,y:200,text:{x:280,y:200,value:"开始"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"结束",x:920,y:200,text:{x:920,y:200,value:"结束"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"网关",x:580,y:200,text:{x:580,y:200,value:"网关"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"用户",x:420,y:200,text:{x:420,y:200,value:"用户"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"服务",x:760,y:200,text:{x:760,y:200,value:"服务"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"边",text:{x:331,y:200,value:"边"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"边2",text:{x:507,y:200,value:"边2"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"边3",text:{x:664,y:200,value:"边3"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"边4",text:{x:871,y:200,value:"边4"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}],_C={flowElementList:IC};var We={},BC={get exports(){return We},set exports(m){We=m}};(function(m,v){(function(c,i){m.exports=i()})(window,function(){return function(u){var c={};function i(s){if(c[s])return c[s].exports;var l=c[s]={i:s,l:!1,exports:{}};return u[s].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=u,i.c=c,i.d=function(s,l,y){i.o(s,l)||Object.defineProperty(s,l,{enumerable:!0,get:y})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,l){if(l&1&&(s=i(s)),l&8||l&4&&typeof s=="object"&&s&&s.__esModule)return s;var y=Object.create(null);if(i.r(y),Object.defineProperty(y,"default",{enumerable:!0,value:s}),l&2&&typeof s!="string")for(var b in s)i.d(y,b,function(x){return s[x]}.bind(null,b));return y},i.n=function(s){var l=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(l,"a",l),l},i.o=function(s,l){return Object.prototype.hasOwnProperty.call(s,l)},i.p="",i(i.s=215)}([function(u,c,i){(function(s,l){i.d(c,"a",function(){return C}),i.d(c,"b",function(){return ii}),i.d(c,"c",function(){return ln}),i.d(c,"d",function(){return dr}),i.d(c,"e",function(){return Xe}),i.d(c,"f",function(){return De}),i.d(c,"g",function(){return $i}),i.d(c,"h",function(){return to}),i.d(c,"i",function(){return at}),i.d(c,"j",function(){return wr}),i.d(c,"k",function(){return Xr}),i.d(c,"l",function(){return _r}),i.d(c,"m",function(){return Mr}),i.d(c,"n",function(){return hl}),i.d(c,"o",function(){return ce}),i.d(c,"p",function(){return Ol}),i.d(c,"q",function(){return oi}),i.d(c,"r",function(){return yl}),i.d(c,"s",function(){return jr}),i.d(c,"t",function(){return ea}),i.d(c,"u",function(){return fl}),i.d(c,"v",function(){return gl}),i.d(c,"w",function(){return ml}),i.d(c,"x",function(){return Nn}),i.d(c,"y",function(){return Lr}),i.d(c,"z",function(){return Xt}),i.d(c,"A",function(){return Or}),i.d(c,"B",function(){return Dn}),i.d(c,"C",function(){return mt}),i.d(c,"D",function(){return El}),i.d(c,"E",function(){return ni}),i.d(c,"F",function(){return dl}),i.d(c,"G",function(){return ll}),i.d(c,"H",function(){return Vi}),i.d(c,"I",function(){return Pl}),i.d(c,"J",function(){return Ar}),i.d(c,"K",function(){return re}),i.d(c,"L",function(){return bl}),i.d(c,"M",function(){return Cn});var y="An invariant failed, however the error is obfuscated because this is a production build.",b=[];Object.freeze(b);var x={};Object.freeze(x);function S(){return++Ge.mobxGuid}function T(d){throw w(!1,d),"X"}function w(d,h){if(!d)throw new Error("[mobx] "+(h||y))}function M(d){var h=!1;return function(){if(!h)return h=!0,d.apply(this,arguments)}}var j=function(){};function R(d){var h=[];return d.forEach(function(E){h.indexOf(E)===-1&&h.push(E)}),h}function _(d){return d!==null&&typeof d=="object"}function z(d){if(d===null||typeof d!="object")return!1;var h=Object.getPrototypeOf(d);return h===Object.prototype||h===null}function U(d){if(Q(d)||Xt(d))return d;if(Array.isArray(d))return new Map(d);if(z(d)){var h=new Map;for(var E in d)h.set(E,d[E]);return h}else return T("Cannot convert to map from '"+d+"'")}function Y(d,h,E){Object.defineProperty(d,h,{enumerable:!1,writable:!0,configurable:!0,value:E})}function le(d,h,E){Object.defineProperty(d,h,{enumerable:!1,writable:!1,configurable:!0,value:E})}function se(d,h){var E=Object.getOwnPropertyDescriptor(d,h);return!E||E.configurable!==!1&&E.writable!==!1}function te(d,h){var E="isMobX"+d;return h.prototype[E]=!0,function(D){return _(D)&&D[E]===!0}}function Q(d){return d instanceof Map}function ee(d){return d instanceof Set}function L(d){var h=new Set;for(var E in d)h.add(E);return Object.getOwnPropertySymbols(d).forEach(function(D){Object.getOwnPropertyDescriptor(d,D).enumerable&&h.add(D)}),Array.from(h)}function $(d){return d&&d.toString?d.toString():new String(d).toString()}function I(d){return d===null?null:typeof d=="object"?""+d:d}var A=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:Object.getOwnPropertyNames,C=Symbol("mobx administration"),W=function(){function d(h){h===void 0&&(h="Atom@"+S()),this.name=h,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=tt.NOT_TRACKING}return d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.reportObserved=function(){return Yi(this)},d.prototype.reportChanged=function(){Tt(),tl(this),mr()},d.prototype.toString=function(){return this.name},d}(),Z=te("Atom",W);function ce(d,h,E){h===void 0&&(h=j),E===void 0&&(E=j);var D=new W(d);return h!==j&&pl(D,h),E!==j&&ni(D,E),D}function Pe(d,h){return d===h}function me(d,h){return So(d,h)}function be(d,h){return So(d,h,1)}function Se(d,h){return Object.is(d,h)}var Oe={identity:Pe,structural:me,default:Se,shallow:be};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var Ae=function(d,h){return Ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var F in D)D.hasOwnProperty(F)&&(E[F]=D[F])},Ae(d,h)};function Fe(d,h){Ae(d,h);function E(){this.constructor=d}d.prototype=h===null?Object.create(h):(E.prototype=h.prototype,new E)}var Ve=function(){return Ve=Object.assign||function(h){for(var E,D=1,F=arguments.length;D<F;D++){E=arguments[D];for(var V in E)Object.prototype.hasOwnProperty.call(E,V)&&(h[V]=E[V])}return h},Ve.apply(this,arguments)};function Be(d){var h=typeof Symbol=="function"&&d[Symbol.iterator],E=0;return h?h.call(d):{next:function(){return d&&E>=d.length&&(d=void 0),{value:d&&d[E++],done:!d}}}}function Ee(d,h){var E=typeof Symbol=="function"&&d[Symbol.iterator];if(!E)return d;var D=E.call(d),F,V=[],fe;try{for(;(h===void 0||h-- >0)&&!(F=D.next()).done;)V.push(F.value)}catch(Te){fe={error:Te}}finally{try{F&&!F.done&&(E=D.return)&&E.call(D)}finally{if(fe)throw fe.error}}return V}function Le(){for(var d=[],h=0;h<arguments.length;h++)d=d.concat(Ee(arguments[h]));return d}var Ue=Symbol("mobx did run lazy initializers"),k=Symbol("mobx pending decorators"),X={},q={};function he(d,h){var E=h?X:q;return E[d]||(E[d]={configurable:!0,enumerable:h,get:function(){return xe(this),this[d]},set:function(D){xe(this),this[d]=D}})}function xe(d){var h,E;if(d[Ue]!==!0){var D=d[k];if(D){Y(d,Ue,!0);var F=Le(Object.getOwnPropertySymbols(D),Object.keys(D));try{for(var V=Be(F),fe=V.next();!fe.done;fe=V.next()){var Te=fe.value,$e=D[Te];$e.propertyCreator(d,$e.prop,$e.descriptor,$e.decoratorTarget,$e.decoratorArguments)}}catch(dt){h={error:dt}}finally{try{fe&&!fe.done&&(E=V.return)&&E.call(V)}finally{if(h)throw h.error}}}}}function pe(d,h){return function(){var D,F=function(fe,Te,$e,dt){if(dt===!0)return h(fe,Te,$e,fe,D),null;if(!Object.prototype.hasOwnProperty.call(fe,k)){var pt=fe[k];Y(fe,k,Ve({},pt))}return fe[k][Te]={prop:Te,propertyCreator:h,descriptor:$e,decoratorTarget:fe,decoratorArguments:D},he(Te,d)};return He(arguments)?(D=b,F.apply(null,arguments)):(D=Array.prototype.slice.call(arguments),F)}}function He(d){return(d.length===2||d.length===3)&&(typeof d[1]=="string"||typeof d[1]=="symbol")||d.length===4&&d[3]===!0}function nt(d,h,E){return Nn(d)?d:Array.isArray(d)?mt.array(d,{name:E}):z(d)?mt.object(d,void 0,{name:E}):Q(d)?mt.map(d,{name:E}):ee(d)?mt.set(d,{name:E}):d}function Ke(d,h,E){return d==null||Or(d)||Lr(d)||Xt(d)||pr(d)?d:Array.isArray(d)?mt.array(d,{name:E,deep:!1}):z(d)?mt.object(d,void 0,{name:E,deep:!1}):Q(d)?mt.map(d,{name:E,deep:!1}):ee(d)?mt.set(d,{name:E,deep:!1}):T(!1)}function it(d){return d}function ve(d,h,E){return So(d,h)?h:d}function lt(d){w(d);var h=pe(!0,function(D,F,V,fe,Te){var $e=V?V.initializer?V.initializer.call(D):V.value:void 0;ai(D).addObservableProp(F,$e,d)}),E=(typeof s<"u"&&s.env,h);return E.enhancer=d,E}var ot={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};Object.freeze(ot);function ze(d){return d==null?ot:typeof d=="string"?{name:d,deep:!0,proxy:!0}:d}var et=lt(nt),At=lt(Ke),vt=lt(it),Ot=lt(ve);function ae(d){return d.defaultDecorator?d.defaultDecorator.enhancer:d.deep===!1?it:nt}function jt(d,h,E){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return et.apply(null,arguments);if(Nn(d))return d;var D=z(d)?mt.object(d,h,E):Array.isArray(d)?mt.array(d,h):Q(d)?mt.map(d,h):ee(d)?mt.set(d,h):d;if(D!==d)return D;T(!1)}var xt={box:function(d,h){arguments.length>2&&Vt("box");var E=ze(h);return new sn(d,ae(E),E.name,!0,E.equals)},array:function(d,h){arguments.length>2&&Vt("array");var E=ze(h);return Dl(d,ae(E),E.name)},map:function(d,h){arguments.length>2&&Vt("map");var E=ze(h);return new ii(d,ae(E),E.name)},set:function(d,h){arguments.length>2&&Vt("set");var E=ze(h);return new fa(d,ae(E),E.name)},object:function(d,h,E){typeof arguments[1]=="string"&&Vt("object");var D=ze(E);if(D.proxy===!1)return oi({},d,h,D);var F=Qi(D),V=oi({},void 0,void 0,D),fe=In(V);return qi(fe,d,h,F),fe},ref:vt,shallow:At,deep:et,struct:Ot},mt=jt;Object.keys(xt).forEach(function(d){return mt[d]=xt[d]});function Vt(d){T("Expected one or two arguments to observable."+d+". Did you accidentally try to use observable."+d+" as decorator?")}var gr=pe(!1,function(d,h,E,D,F){var V=E.get,fe=E.set,Te=F[0]||{};ai(d).addComputedProp(d,h,Ve({get:V,set:fe,context:d},Te))}),Qt=gr({equals:Oe.structural}),Mr=function(h,E,D){if(typeof E=="string"||h!==null&&typeof h=="object"&&arguments.length===1)return gr.apply(null,arguments);var F=typeof E=="object"?E:{};return F.get=h,F.set=typeof E=="function"?E:F.set,F.name=F.name||h.name||"",new Tn(F)};Mr.struct=Qt;var tt;(function(d){d[d.NOT_TRACKING=-1]="NOT_TRACKING",d[d.UP_TO_DATE=0]="UP_TO_DATE",d[d.POSSIBLY_STALE=1]="POSSIBLY_STALE",d[d.STALE=2]="STALE"})(tt||(tt={}));var Pt;(function(d){d[d.NONE=0]="NONE",d[d.LOG=1]="LOG",d[d.BREAK=2]="BREAK"})(Pt||(Pt={}));var ar=function(){function d(h){this.cause=h}return d}();function Ce(d){return d instanceof ar}function Ye(d){switch(d.dependenciesState){case tt.UP_TO_DATE:return!1;case tt.NOT_TRACKING:case tt.STALE:return!0;case tt.POSSIBLY_STALE:{for(var h=De(!0),E=ne(),D=d.observing,F=D.length,V=0;V<F;V++){var fe=D[V];if(Mn(fe)){if(Ge.disableErrorBoundaries)fe.get();else try{fe.get()}catch{return Me(E),Xe(h),!0}if(d.dependenciesState===tt.STALE)return Me(E),Xe(h),!0}}return yt(d),Me(E),Xe(h),!1}}}function at(){return Ge.trackingDerivation!==null}function Je(d){var h=d.observers.size>0;Ge.computationDepth>0&&h&&T(!1),!Ge.allowStateChanges&&(h||Ge.enforceActions==="strict")&&T(!1)}function ct(d,h,E){var D=De(!0);yt(d),d.newObserving=new Array(d.observing.length+100),d.unboundDepsCount=0,d.runId=++Ge.runId;var F=Ge.trackingDerivation;Ge.trackingDerivation=d;var V;if(Ge.disableErrorBoundaries===!0)V=h.call(E);else try{V=h.call(E)}catch(fe){V=new ar(fe)}return Ge.trackingDerivation=F,G(d),Xe(D),V}function G(d){for(var h=d.observing,E=d.observing=d.newObserving,D=tt.UP_TO_DATE,F=0,V=d.unboundDepsCount,fe=0;fe<V;fe++){var Te=E[fe];Te.diffValue===0&&(Te.diffValue=1,F!==fe&&(E[F]=Te),F++),Te.dependenciesState>D&&(D=Te.dependenciesState)}for(E.length=F,d.newObserving=null,V=h.length;V--;){var Te=h[V];Te.diffValue===0&&Ur(Te,d),Te.diffValue=0}for(;F--;){var Te=E[F];Te.diffValue===1&&(Te.diffValue=0,el(Te,d))}D!==tt.UP_TO_DATE&&(d.dependenciesState=D,d.onBecomeStale())}function J(d){var h=d.observing;d.observing=[];for(var E=h.length;E--;)Ur(h[E],d);d.dependenciesState=tt.NOT_TRACKING}function re(d){var h=ne();try{return d()}finally{Me(h)}}function ne(){var d=Ge.trackingDerivation;return Ge.trackingDerivation=null,d}function Me(d){Ge.trackingDerivation=d}function De(d){var h=Ge.allowStateReads;return Ge.allowStateReads=d,h}function Xe(d){Ge.allowStateReads=d}function yt(d){if(d.dependenciesState!==tt.UP_TO_DATE){d.dependenciesState=tt.UP_TO_DATE;for(var h=d.observing,E=h.length;E--;)h[E].lowestObserverState=tt.UP_TO_DATE}}var qt=0,er=1,Kn=Object.getOwnPropertyDescriptor(function(){},"name");Kn&&Kn.configurable;function kr(d,h,E){var D=function(){return Gi(d,h,E||this,arguments)};return D.isMobxAction=!0,D}function Gi(d,h,E,D){var F=wr();try{return h.apply(E,D)}catch(V){throw F.error=V,V}finally{$i(F)}}function wr(d,h,E){var D=Ct(),F=0,V=ne();Tt();var fe=Pn(!0),Te=De(!0),$e={prevDerivation:V,prevAllowStateChanges:fe,prevAllowStateReads:Te,notifySpy:D,startTime:F,actionId:er++,parentActionId:qt};return qt=$e.actionId,$e}function $i(d){qt!==d.actionId&&T("invalid action stack. did you forget to finish an action?"),qt=d.parentActionId,d.error!==void 0&&(Ge.suppressReactionErrors=!0),Vn(d.prevAllowStateChanges),Xe(d.prevAllowStateReads),mr(),Me(d.prevDerivation),d.notifySpy,Ge.suppressReactionErrors=!1}function dr(d,h){var E=Pn(d),D;try{D=h()}finally{Vn(E)}return D}function Pn(d){var h=Ge.allowStateChanges;return Ge.allowStateChanges=d,h}function Vn(d){Ge.allowStateChanges=d}var sn=function(d){Fe(h,d);function h(E,D,F,V,fe){F===void 0&&(F="ObservableValue@"+S()),V===void 0&&(V=!0),fe===void 0&&(fe=Oe.default);var Te=d.call(this,F)||this;return Te.enhancer=D,Te.name=F,Te.equals=fe,Te.hasUnreportedChange=!1,Te.value=D(E,void 0,F),V&&Ct(),Te}return h.prototype.dehanceValue=function(E){return this.dehancer!==void 0?this.dehancer(E):E},h.prototype.set=function(E){var D=this.value;if(E=this.prepareNewValue(E),E!==Ge.UNCHANGED){var F=Ct();this.setNewValue(E)}},h.prototype.prepareNewValue=function(E){if(Je(this),Nr(this)){var D=Dr(this,{object:this,type:"update",newValue:E});if(!D)return Ge.UNCHANGED;E=D.newValue}return E=this.enhancer(E,this.value,this.name),this.equals(this.value,E)?Ge.UNCHANGED:E},h.prototype.setNewValue=function(E){var D=this.value;this.value=E,this.reportChanged(),br(this)&&tr(this,{type:"update",object:this,newValue:E,oldValue:D})},h.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},h.prototype.intercept=function(E){return qn(this,E)},h.prototype.observe=function(E,D){return D&&E({object:this,type:"update",newValue:this.value,oldValue:void 0}),eo(this,E)},h.prototype.toJSON=function(){return this.get()},h.prototype.toString=function(){return this.name+"["+this.value+"]"},h.prototype.valueOf=function(){return I(this.get())},h.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},h}(W),Zn=te("ObservableValue",sn),Tn=function(){function d(h){this.dependenciesState=tt.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=tt.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+S(),this.value=new ar(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Pt.NONE,w(h.get,"missing option for computed: get"),this.derivation=h.get,this.name=h.name||"ComputedValue@"+S(),h.set&&(this.setter=kr(this.name+"-setter",h.set)),this.equals=h.equals||(h.compareStructural||h.struct?Oe.structural:Oe.default),this.scope=h.context,this.requiresReaction=!!h.requiresReaction,this.keepAlive=!!h.keepAlive}return d.prototype.onBecomeStale=function(){nl(this)},d.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(h){return h()})},d.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(h){return h()})},d.prototype.get=function(){this.isComputing&&T("Cycle detected in computation "+this.name+": "+this.derivation),Ge.inBatch===0&&this.observers.size===0&&!this.keepAlive?Ye(this)&&(this.warnAboutUntrackedRead(),Tt(),this.value=this.computeValue(!1),mr()):(Yi(this),Ye(this)&&this.trackAndCompute()&&rl(this));var h=this.value;if(Ce(h))throw h.cause;return h},d.prototype.peek=function(){var h=this.computeValue(!1);if(Ce(h))throw h.cause;return h},d.prototype.set=function(h){if(this.setter){w(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,h)}finally{this.isRunningSetter=!1}}else w(!1,!1)},d.prototype.trackAndCompute=function(){var h=this.value,E=this.dependenciesState===tt.NOT_TRACKING,D=this.computeValue(!0),F=E||Ce(h)||Ce(D)||!this.equals(h,D);return F&&(this.value=D),F},d.prototype.computeValue=function(h){this.isComputing=!0,Ge.computationDepth++;var E;if(h)E=ct(this,this.derivation,this.scope);else if(Ge.disableErrorBoundaries===!0)E=this.derivation.call(this.scope);else try{E=this.derivation.call(this.scope)}catch(D){E=new ar(D)}return Ge.computationDepth--,this.isComputing=!1,E},d.prototype.suspend=function(){this.keepAlive||(J(this),this.value=void 0)},d.prototype.observe=function(h,E){var D=this,F=!0,V=void 0;return _r(function(){var fe=D.get();if(!F||E){var Te=ne();h({type:"update",object:D,newValue:fe,oldValue:V}),Me(Te)}F=!1,V=fe})},d.prototype.warnAboutUntrackedRead=function(){},d.prototype.toJSON=function(){return this.get()},d.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},d.prototype.valueOf=function(){return I(this.get())},d.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},d}(),Mn=te("ComputedValue",Tn),ho=function(){function d(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1}return d}(),qs={};function vo(){return typeof window<"u"?window:typeof l<"u"?l:typeof self<"u"?self:qs}var yo=!0,ki=!1,Ge=function(){var d=vo();return d.__mobxInstanceCount>0&&!d.__mobxGlobals&&(yo=!1),d.__mobxGlobals&&d.__mobxGlobals.version!==new ho().version&&(yo=!1),yo?d.__mobxGlobals?(d.__mobxInstanceCount+=1,d.__mobxGlobals.UNCHANGED||(d.__mobxGlobals.UNCHANGED={}),d.__mobxGlobals):(d.__mobxInstanceCount=1,d.__mobxGlobals=new ho):(setTimeout(function(){ki||T("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new ho)}();function Ui(){(Ge.pendingReactions.length||Ge.inBatch||Ge.isRunningReactions)&&T("isolateGlobalState should be called before MobX is running any reactions"),ki=!0,yo&&(--vo().__mobxInstanceCount===0&&(vo().__mobxGlobals=void 0),Ge=new ho)}function el(d,h){d.observers.add(h),d.lowestObserverState>h.dependenciesState&&(d.lowestObserverState=h.dependenciesState)}function Ur(d,h){d.observers.delete(h),d.observers.size===0&&Xi(d)}function Xi(d){d.isPendingUnobservation===!1&&(d.isPendingUnobservation=!0,Ge.pendingUnobservations.push(d))}function Tt(){Ge.inBatch++}function mr(){if(--Ge.inBatch===0){Ki();for(var d=Ge.pendingUnobservations,h=0;h<d.length;h++){var E=d[h];E.isPendingUnobservation=!1,E.observers.size===0&&(E.isBeingObserved&&(E.isBeingObserved=!1,E.onBecomeUnobserved()),E instanceof Tn&&E.suspend())}Ge.pendingUnobservations=[]}}function Yi(d){var h=Ge.trackingDerivation;return h!==null?(h.runId!==d.lastAccessedBy&&(d.lastAccessedBy=h.runId,h.newObserving[h.unboundDepsCount++]=d,d.isBeingObserved||(d.isBeingObserved=!0,d.onBecomeObserved())),!0):(d.observers.size===0&&Ge.inBatch>0&&Xi(d),!1)}function tl(d){d.lowestObserverState!==tt.STALE&&(d.lowestObserverState=tt.STALE,d.observers.forEach(function(h){h.dependenciesState===tt.UP_TO_DATE&&(h.isTracing!==Pt.NONE&&go(h,d),h.onBecomeStale()),h.dependenciesState=tt.STALE}))}function rl(d){d.lowestObserverState!==tt.STALE&&(d.lowestObserverState=tt.STALE,d.observers.forEach(function(h){h.dependenciesState===tt.POSSIBLY_STALE?h.dependenciesState=tt.STALE:h.dependenciesState===tt.UP_TO_DATE&&(d.lowestObserverState=tt.UP_TO_DATE)}))}function nl(d){d.lowestObserverState===tt.UP_TO_DATE&&(d.lowestObserverState=tt.POSSIBLY_STALE,d.observers.forEach(function(h){h.dependenciesState===tt.UP_TO_DATE&&(h.dependenciesState=tt.POSSIBLY_STALE,h.isTracing!==Pt.NONE&&go(h,d),h.onBecomeStale())}))}function go(d,h){if(console.log("[mobx.trace] '"+d.name+"' is invalidated due to a change in: '"+h.name+"'"),d.isTracing===Pt.BREAK){var E=[];Wi(ea(d),E,1),new Function(`debugger;
/*
Tracing '`+d.name+`'

You are entering this break point because derivation '`+d.name+"' is being traced and '"+h.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(d instanceof Tn?d.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+E.join(`
`)+`
*/
    `)()}}function Wi(d,h,E){if(h.length>=1e3){h.push("(and many more)");return}h.push(""+new Array(E).join("	")+d.name),d.dependencies&&d.dependencies.forEach(function(D){return Wi(D,h,E+1)})}var ln=function(){function d(h,E,D,F){h===void 0&&(h="Reaction@"+S()),F===void 0&&(F=!1),this.name=h,this.onInvalidate=E,this.errorHandler=D,this.requiresObservable=F,this.observing=[],this.newObserving=[],this.dependenciesState=tt.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+S(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Pt.NONE}return d.prototype.onBecomeStale=function(){this.schedule()},d.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ge.pendingReactions.push(this),Ki())},d.prototype.isScheduled=function(){return this._isScheduled},d.prototype.runReaction=function(){if(!this.isDisposed){if(Tt(),this._isScheduled=!1,Ye(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending&&Ct()}catch(h){this.reportExceptionInDerivation(h)}}mr()}},d.prototype.track=function(h){if(!this.isDisposed){Tt(),this._isRunning=!0;var E=ct(this,h,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&J(this),Ce(E)&&this.reportExceptionInDerivation(E.cause),mr()}},d.prototype.reportExceptionInDerivation=function(h){var E=this;if(this.errorHandler){this.errorHandler(h,this);return}if(Ge.disableErrorBoundaries)throw h;var D="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ge.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(D,h),Ge.globalReactionErrorHandlers.forEach(function(F){return F(h,E)})},d.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Tt(),J(this),mr()))},d.prototype.getDisposer=function(){var h=this.dispose.bind(this);return h[C]=this,h},d.prototype.toString=function(){return"Reaction["+this.name+"]"},d.prototype.trace=function(h){h===void 0&&(h=!1),Tl(this,h)},d}(),ei=100,ti=function(d){return d()};function Ki(){Ge.inBatch>0||Ge.isRunningReactions||ti(ol)}function ol(){Ge.isRunningReactions=!0;for(var d=Ge.pendingReactions,h=0;d.length>0;){++h===ei&&(console.error("Reaction doesn't converge to a stable state after "+ei+" iterations."+(" Probably there is a cycle in the reactive function: "+d[0])),d.splice(0));for(var E=d.splice(0),D=0,F=E.length;D<F;D++)E[D].runReaction()}Ge.isRunningReactions=!1}var mo=te("Reaction",ln);function il(d){var h=ti;ti=function(E){return d(function(){return h(E)})}}function Ct(){return!1}function dd(d){}function pd(d){}function hd(d){}function Vi(d){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function al(){T(!1)}function Zi(d){return function(h,E,D){if(D){if(D.value)return{value:kr(d,D.value),enumerable:!1,configurable:!0,writable:!0};var F=D.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return kr(d,F.call(this))}}}return ul(d).apply(this,arguments)}}function ul(d){return function(h,E,D){Object.defineProperty(h,E,{configurable:!0,enumerable:!1,get:function(){},set:function(F){Y(this,E,Xr(d,F))}})}}function sl(d,h,E,D){return D===!0?(ri(d,h,E.value),null):E?{configurable:!0,enumerable:!1,get:function(){return ri(this,h,E.value||E.initializer.call(this)),this[h]},set:al}:{enumerable:!1,configurable:!0,set:function(F){ri(this,h,F)},get:function(){}}}var Xr=function(h,E,D,F){if(arguments.length===1&&typeof h=="function")return kr(h.name||"<unnamed action>",h);if(arguments.length===2&&typeof E=="function")return kr(h,E);if(arguments.length===1&&typeof h=="string")return Zi(h);if(F===!0)Y(h,E,kr(h.name||E,D.value,this));else return Zi(E).apply(null,arguments)};Xr.bound=sl;function ll(d,h){var E=typeof d=="string"?d:d.name||"<unnamed action>",D=typeof d=="function"?d:h;return Gi(E,D,this,void 0)}function fl(d){return typeof d=="function"&&d.isMobxAction===!0}function ri(d,h,E){Y(d,h,kr(h,E.bind(d)))}function _r(d,h){h===void 0&&(h=x);var E=h&&h.name||d.name||"Autorun@"+S(),D=!h.scheduler&&!h.delay,F;if(D)F=new ln(E,function(){this.track(Te)},h.onError,h.requiresObservable);else{var V=wn(h),fe=!1;F=new ln(E,function(){fe||(fe=!0,V(function(){fe=!1,F.isDisposed||F.track(Te)}))},h.onError,h.requiresObservable)}function Te(){d(F)}return F.schedule(),F.getDisposer()}var cl=function(d){return d()};function wn(d){return d.scheduler?d.scheduler:d.delay?function(h){return setTimeout(h,d.delay)}:cl}function dl(d,h,E){E===void 0&&(E=x);var D=E.name||"Reaction@"+S(),F=Xr(D,E.onError?Jn(E.onError,h):h),V=!E.scheduler&&!E.delay,fe=wn(E),Te=!0,$e=!1,dt,pt=E.compareStructural?Oe.structural:E.equals||Oe.default,Et=new ln(D,function(){Te||V?St():$e||($e=!0,fe(St))},E.onError,E.requiresObservable);function St(){if($e=!1,!Et.isDisposed){var Bt=!1;Et.track(function(){var Yt=d(Et);Bt=Te||!pt(dt,Yt),dt=Yt}),Te&&E.fireImmediately&&F(dt,Et),!Te&&Bt===!0&&F(dt,Et),Te&&(Te=!1)}}return Et.schedule(),Et.getDisposer()}function Jn(d,h){return function(){try{return h.apply(this,arguments)}catch(E){d.call(this,E)}}}function pl(d,h,E){return Ji("onBecomeObserved",d,h,E)}function ni(d,h,E){return Ji("onBecomeUnobserved",d,h,E)}function Ji(d,h,E,D){var F=typeof D=="function"?jr(h,E):jr(h),V=typeof D=="function"?D:E,fe=d+"Listeners";F[fe]?F[fe].add(V):F[fe]=new Set([V]);var Te=F[d];return typeof Te!="function"?T(!1):function(){var $e=F[fe];$e&&($e.delete(V),$e.size===0&&delete F[fe])}}function hl(d){var h=d.enforceActions,E=d.computedRequiresReaction,D=d.computedConfigurable,F=d.disableErrorBoundaries,V=d.reactionScheduler,fe=d.reactionRequiresObservable,Te=d.observableRequiresReaction;if(d.isolateGlobalState===!0&&Ui(),h!==void 0){var $e=void 0;switch(h){case!0:case"observed":$e=!0;break;case!1:case"never":$e=!1;break;case"strict":case"always":$e="strict";break;default:T("Invalid value for 'enforceActions': '"+h+"', expected 'never', 'always' or 'observed'")}Ge.enforceActions=$e,Ge.allowStateChanges=!($e===!0||$e==="strict")}E!==void 0&&(Ge.computedRequiresReaction=!!E),fe!==void 0&&(Ge.reactionRequiresObservable=!!fe),Te!==void 0&&(Ge.observableRequiresReaction=!!Te,Ge.allowStateReads=!Ge.observableRequiresReaction),D!==void 0&&(Ge.computedConfigurable=!!D),F!==void 0&&(F===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ge.disableErrorBoundaries=!!F),V&&il(V)}function oi(d,h,E,D){D=ze(D);var F=Qi(D);return xe(d),ai(d,D.name,F.enhancer),h&&qi(d,h,E,F),d}function Qi(d){return d.defaultDecorator||(d.deep===!1?vt:et)}function qi(d,h,E,D){var F,V,fe,Te;Tt();try{var Te=A(h);try{for(var $e=Be(Te),dt=$e.next();!dt.done;dt=$e.next()){var fe=dt.value,pt=Object.getOwnPropertyDescriptor(h,fe),Et=E&&fe in E?E[fe]:pt.get?gr:D,St=Et(d,fe,pt,!0);St&&Object.defineProperty(d,fe,St)}}catch(Yt){F={error:Yt}}finally{try{dt&&!dt.done&&(V=$e.return)&&V.call($e)}finally{if(F)throw F.error}}}finally{mr()}}function ea(d,h){return ta(jr(d,h))}function ta(d){var h={name:d.name};return d.observing&&d.observing.length>0&&(h.dependencies=R(d.observing).map(ta)),h}var vl=0;function ra(){this.message="FLOW_CANCELLED"}ra.prototype=Object.create(Error.prototype);function yl(d){arguments.length!==1&&T("Flow expects 1 argument and cannot be used as decorator");var h=d.name||"<unnamed flow>";return function(){var E=this,D=arguments,F=++vl,V=Xr(h+" - runid: "+F+" - init",d).apply(E,D),fe,Te=void 0,$e=new Promise(function(dt,pt){var Et=0;fe=pt;function St(Mt){Te=void 0;var Er;try{Er=Xr(h+" - runid: "+F+" - yield "+Et++,V.next).call(V,Mt)}catch(_n){return pt(_n)}Yt(Er)}function Bt(Mt){Te=void 0;var Er;try{Er=Xr(h+" - runid: "+F+" - yield "+Et++,V.throw).call(V,Mt)}catch(_n){return pt(_n)}Yt(Er)}function Yt(Mt){if(Mt&&typeof Mt.then=="function"){Mt.then(Yt,pt);return}return Mt.done?dt(Mt.value):(Te=Promise.resolve(Mt.value),Te.then(St,Bt))}St(void 0)});return $e.cancel=Xr(h+" - runid: "+F+" - cancel",function(){try{Te&&na(Te);var dt=V.return(void 0),pt=Promise.resolve(dt.value);pt.then(j,j),na(pt),fe(new ra)}catch(Et){fe(Et)}}),$e}}function na(d){typeof d.cancel=="function"&&d.cancel()}function oa(d,h){if(d==null)return!1;if(h!==void 0){if(Or(d)===!1||!d[C].values.has(h))return!1;var E=jr(d,h);return Mn(E)}return Mn(d)}function gl(d){return arguments.length>1?T(!1):oa(d)}function ml(d,h){return typeof h!="string"?T(!1):oa(d,h)}function An(d,h){return d==null?!1:h!==void 0?Or(d)?d[C].values.has(h):!1:Or(d)||!!d[C]||Z(d)||mo(d)||Mn(d)}function Nn(d){return arguments.length!==1&&T(!1),An(d)}function Dn(d){return Or(d)?d[C].getKeys():Xt(d)||pr(d)?Array.from(d.keys()):Lr(d)?d.map(function(h,E){return E}):T(!1)}function bl(d){return Or(d)?Dn(d).map(function(h){return d[h]}):Xt(d)?Dn(d).map(function(h){return d.get(h)}):pr(d)?Array.from(d.values()):Lr(d)?d.slice():T(!1)}function Ol(d){return Or(d)?Dn(d).map(function(h){return[h,d[h]]}):Xt(d)?Dn(d).map(function(h){return[h,d.get(h)]}):pr(d)?Array.from(d.entries()):Lr(d)?d.map(function(h,E){return[E,h]}):T(!1)}function ia(d,h,E){if(arguments.length===2&&!pr(d)){Tt();var D=h;try{for(var F in D)ia(d,F,D[F])}finally{mr()}return}if(Or(d)){var V=d[C],fe=V.values.get(h);fe?V.write(h,E):V.addObservableProp(h,E,V.defaultEnhancer)}else if(Xt(d))d.set(h,E);else if(pr(d))d.add(h);else if(Lr(d))typeof h!="number"&&(h=parseInt(h,10)),w(h>=0,"Not a valid index: '"+h+"'"),Tt(),h>=d.length&&(d.length=h+1),d[h]=E,mr();else return T(!1)}function El(d,h,E,D){return typeof E=="function"?Sl(d,h,E,D):bo(d,h,E)}function bo(d,h,E){return to(d).observe(h,E)}function Sl(d,h,E,D){return to(d,h).observe(E,D)}var xl={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function jn(d,h,E,D){return D.detectCycles&&d.set(h,E),E}function Yr(d,h,E){if(!h.recurseEverything&&!Nn(d)||typeof d!="object")return d;if(d===null)return null;if(d instanceof Date)return d;if(Zn(d))return Yr(d.get(),h,E);Nn(d)&&Dn(d);var D=h.detectCycles===!0;if(D&&d!==null&&E.has(d))return E.get(d);if(Lr(d)||Array.isArray(d)){var F=jn(E,d,[],h),V=d.map(function(Bt){return Yr(Bt,h,E)});F.length=V.length;for(var fe=0,Te=V.length;fe<Te;fe++)F[fe]=V[fe];return F}if(pr(d)||Object.getPrototypeOf(d)===Set.prototype)if(h.exportMapsAsObjects===!1){var $e=jn(E,d,new Set,h);return d.forEach(function(Bt){$e.add(Yr(Bt,h,E))}),$e}else{var dt=jn(E,d,[],h);return d.forEach(function(Bt){dt.push(Yr(Bt,h,E))}),dt}if(Xt(d)||Object.getPrototypeOf(d)===Map.prototype)if(h.exportMapsAsObjects===!1){var pt=jn(E,d,new Map,h);return d.forEach(function(Bt,Yt){pt.set(Yt,Yr(Bt,h,E))}),pt}else{var Et=jn(E,d,{},h);return d.forEach(function(Bt,Yt){Et[Yt]=Yr(Bt,h,E)}),Et}var St=jn(E,d,{},h);return L(d).forEach(function(Bt){St[Bt]=Yr(d[Bt],h,E)}),St}function Pl(d,h){typeof h=="boolean"&&(h={detectCycles:h}),h||(h=xl),h.detectCycles=h.detectCycles===void 0?h.recurseEverything===!0:h.detectCycles===!0;var E;return h.detectCycles&&(E=new Map),Yr(d,h,E)}function Tl(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var E=!1;typeof d[d.length-1]=="boolean"&&(E=d.pop());var D=Ml(d);if(!D)return T(!1);D.isTracing===Pt.NONE&&console.log("[mobx.trace] '"+D.name+"' tracing enabled"),D.isTracing=E?Pt.BREAK:Pt.LOG}function Ml(d){switch(d.length){case 0:return Ge.trackingDerivation;case 1:return jr(d[0]);case 2:return jr(d[0],d[1])}}function Ar(d,h){h===void 0&&(h=void 0),Tt();try{return d.apply(h)}finally{mr()}}function Cn(d,h,E){return arguments.length===1||h&&typeof h=="object"?wl(d,h):Qn(d,h,E||{})}function Qn(d,h,E){var D;typeof E.timeout=="number"&&(D=setTimeout(function(){if(!V[C].isDisposed){V();var fe=new Error("WHEN_TIMEOUT");if(E.onError)E.onError(fe);else throw fe}},E.timeout)),E.name=E.name||"When@"+S();var F=kr(E.name+"-effect",h),V=_r(function(fe){d()&&(fe.dispose(),D&&clearTimeout(D),F())},E);return V}function wl(d,h){var E,D=new Promise(function(F,V){var fe=Qn(d,F,Ve(Ve({},h),{onError:V}));E=function(){fe(),V("WHEN_CANCELLED")}});return D.cancel=E,D}function Oo(d){return d[C]}function Eo(d){return typeof d=="string"||typeof d=="number"||typeof d=="symbol"}var Rn={has:function(d,h){if(h===C||h==="constructor"||h===Ue)return!0;var E=Oo(d);return Eo(h)?E.has(h):h in d},get:function(d,h){if(h===C||h==="constructor"||h===Ue)return d[h];var E=Oo(d),D=E.values.get(h);if(D instanceof W){var F=D.get();return F===void 0&&E.has(h),F}return Eo(h)&&E.has(h),d[h]},set:function(d,h,E){return Eo(h)?(ia(d,h,E),!0):!1},deleteProperty:function(d,h){if(!Eo(h))return!1;var E=Oo(d);return E.remove(h),!0},ownKeys:function(d){var h=Oo(d);return h.keysAtom.reportObserved(),Reflect.ownKeys(d)},preventExtensions:function(d){return T("Dynamic observable objects cannot be frozen"),!1}};function In(d){var h=new Proxy(d,Rn);return d[C].proxy=h,h}function Nr(d){return d.interceptors!==void 0&&d.interceptors.length>0}function qn(d,h){var E=d.interceptors||(d.interceptors=[]);return E.push(h),M(function(){var D=E.indexOf(h);D!==-1&&E.splice(D,1)})}function Dr(d,h){var E=ne();try{for(var D=Le(d.interceptors||[]),F=0,V=D.length;F<V&&(h=D[F](h),w(!h||h.type,"Intercept handlers should return nothing or a change object"),!!h);F++);return h}finally{Me(E)}}function br(d){return d.changeListeners!==void 0&&d.changeListeners.length>0}function eo(d,h){var E=d.changeListeners||(d.changeListeners=[]);return E.push(h),M(function(){var D=E.indexOf(h);D!==-1&&E.splice(D,1)})}function tr(d,h){var E=ne(),D=d.changeListeners;if(D){D=D.slice();for(var F=0,V=D.length;F<V;F++)D[F](h);Me(E)}}var Al=1e4,Nl={get:function(d,h){return h===C?d[C]:h==="length"?d[C].getArrayLength():typeof h=="number"?Br.get.call(d,h):typeof h=="string"&&!isNaN(h)?Br.get.call(d,parseInt(h)):Br.hasOwnProperty(h)?Br[h]:d[h]},set:function(d,h,E){return h==="length"&&d[C].setArrayLength(E),typeof h=="number"&&Br.set.call(d,h,E),typeof h=="symbol"||isNaN(h)?d[h]=E:Br.set.call(d,parseInt(h),E),!0},preventExtensions:function(d){return T("Observable arrays cannot be frozen"),!1}};function Dl(d,h,E,D){E===void 0&&(E="ObservableArray@"+S()),D===void 0&&(D=!1);var F=new aa(E,h,D);le(F.values,C,F);var V=new Proxy(F.values,Nl);if(F.proxy=V,d&&d.length){var fe=Pn(!0);F.spliceWithArray(0,0,d),Vn(fe)}return V}var aa=function(){function d(h,E,D){this.owned=D,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new W(h||"ObservableArray@"+S()),this.enhancer=function(F,V){return E(F,V,h+"[..]")}}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.dehanceValues=function(h){return this.dehancer!==void 0&&h.length>0?h.map(this.dehancer):h},d.prototype.intercept=function(h){return qn(this,h)},d.prototype.observe=function(h,E){return E===void 0&&(E=!1),E&&h({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),eo(this,h)},d.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},d.prototype.setArrayLength=function(h){if(typeof h!="number"||h<0)throw new Error("[mobx.array] Out of range: "+h);var E=this.values.length;if(h!==E)if(h>E){for(var D=new Array(h-E),F=0;F<h-E;F++)D[F]=void 0;this.spliceWithArray(E,0,D)}else this.spliceWithArray(h,E-h)},d.prototype.updateArrayLength=function(h,E){if(h!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=E},d.prototype.spliceWithArray=function(h,E,D){var F=this;Je(this.atom);var V=this.values.length;if(h===void 0?h=0:h>V?h=V:h<0&&(h=Math.max(0,V+h)),arguments.length===1?E=V-h:E==null?E=0:E=Math.max(0,Math.min(E,V-h)),D===void 0&&(D=b),Nr(this)){var fe=Dr(this,{object:this.proxy,type:"splice",index:h,removedCount:E,added:D});if(!fe)return b;E=fe.removedCount,D=fe.added}D=D.length===0?D:D.map(function($e){return F.enhancer($e,void 0)});var Te=this.spliceItemsIntoValues(h,E,D);return(E!==0||D.length!==0)&&this.notifyArraySplice(h,D,Te),this.dehanceValues(Te)},d.prototype.spliceItemsIntoValues=function(h,E,D){var F;if(D.length<Al)return(F=this.values).splice.apply(F,Le([h,E],D));var V=this.values.slice(h,h+E);return this.values=this.values.slice(0,h).concat(D,this.values.slice(h+E)),V},d.prototype.notifyArrayChildUpdate=function(h,E,D){var F=!this.owned&&Ct(),V=br(this),fe=V||F?{object:this.proxy,type:"update",index:h,newValue:E,oldValue:D}:null;this.atom.reportChanged(),V&&tr(this,fe)},d.prototype.notifyArraySplice=function(h,E,D){var F=!this.owned&&Ct(),V=br(this),fe=V||F?{object:this.proxy,type:"splice",index:h,removed:D,added:E,removedCount:D.length,addedCount:E.length}:null;this.atom.reportChanged(),V&&tr(this,fe)},d}(),Br={intercept:function(d){return this[C].intercept(d)},observe:function(d,h){h===void 0&&(h=!1);var E=this[C];return E.observe(d,h)},clear:function(){return this.splice(0)},replace:function(d){var h=this[C];return h.spliceWithArray(0,h.values.length,d)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(d,h){for(var E=[],D=2;D<arguments.length;D++)E[D-2]=arguments[D];var F=this[C];switch(arguments.length){case 0:return[];case 1:return F.spliceWithArray(d);case 2:return F.spliceWithArray(d,h)}return F.spliceWithArray(d,h,E)},spliceWithArray:function(d,h,E){var D=this[C];return D.spliceWithArray(d,h,E)},push:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var E=this[C];return E.spliceWithArray(E.values.length,0,d),E.values.length},pop:function(){return this.splice(Math.max(this[C].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var E=this[C];return E.spliceWithArray(0,0,d),E.values.length},reverse:function(){var d=this.slice();return d.reverse.apply(d,arguments)},sort:function(d){var h=this.slice();return h.sort.apply(h,arguments)},remove:function(d){var h=this[C],E=h.dehanceValues(h.values).indexOf(d);return E>-1?(this.splice(E,1),!0):!1},get:function(d){var h=this[C];if(h){if(d<h.values.length)return h.atom.reportObserved(),h.dehanceValue(h.values[d]);console.warn("[mobx.array] Attempt to read an array index ("+d+") that is out of bounds ("+h.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(d,h){var E=this[C],D=E.values;if(d<D.length){Je(E.atom);var F=D[d];if(Nr(E)){var V=Dr(E,{type:"update",object:E.proxy,index:d,newValue:h});if(!V)return;h=V.newValue}h=E.enhancer(h,F);var fe=h!==F;fe&&(D[d]=h,E.notifyArrayChildUpdate(d,h,F))}else if(d===D.length)E.spliceWithArray(d,0,[h]);else throw new Error("[mobx.array] Index out of bounds, "+d+" is larger than "+D.length)}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(d){typeof Array.prototype[d]=="function"&&(Br[d]=function(){var h=this[C];h.atom.reportObserved();var E=h.dehanceValues(h.values);return E[d].apply(E,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(d){typeof Array.prototype[d]=="function"&&(Br[d]=function(h,E){var D=this,F=this[C];F.atom.reportObserved();var V=F.dehanceValues(F.values);return V[d](function(fe,Te){return h.call(E,fe,Te,D)},E)})}),["reduce","reduceRight"].forEach(function(d){Br[d]=function(){var h=this,E=this[C];E.atom.reportObserved();var D=arguments[0];return arguments[0]=function(F,V,fe){return V=E.dehanceValue(V),D(F,V,fe,h)},E.values[d].apply(E.values,arguments)}});var jl=te("ObservableArrayAdministration",aa);function Lr(d){return _(d)&&jl(d[C])}var ua,sa={},ii=function(){function d(h,E,D){if(E===void 0&&(E=nt),D===void 0&&(D="ObservableMap@"+S()),this.enhancer=E,this.name=D,this[ua]=sa,this._keysAtom=ce(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(h)}return d.prototype._has=function(h){return this._data.has(h)},d.prototype.has=function(h){var E=this;if(!Ge.trackingDerivation)return this._has(h);var D=this._hasMap.get(h);if(!D){var F=D=new sn(this._has(h),it,this.name+"."+$(h)+"?",!1);this._hasMap.set(h,F),ni(F,function(){return E._hasMap.delete(h)})}return D.get()},d.prototype.set=function(h,E){var D=this._has(h);if(Nr(this)){var F=Dr(this,{type:D?"update":"add",object:this,newValue:E,name:h});if(!F)return this;E=F.newValue}return D?this._updateValue(h,E):this._addValue(h,E),this},d.prototype.delete=function(h){var E=this;if(Je(this._keysAtom),Nr(this)){var D=Dr(this,{type:"delete",object:this,name:h});if(!D)return!1}if(this._has(h)){var F=Ct(),V=br(this),D=V||F?{type:"delete",object:this,oldValue:this._data.get(h).value,name:h}:null;return Ar(function(){E._keysAtom.reportChanged(),E._updateHasMapEntry(h,!1);var Te=E._data.get(h);Te.setNewValue(void 0),E._data.delete(h)}),V&&tr(this,D),!0}return!1},d.prototype._updateHasMapEntry=function(h,E){var D=this._hasMap.get(h);D&&D.setNewValue(E)},d.prototype._updateValue=function(h,E){var D=this._data.get(h);if(E=D.prepareNewValue(E),E!==Ge.UNCHANGED){var F=Ct(),V=br(this),fe=V||F?{type:"update",object:this,oldValue:D.value,name:h,newValue:E}:null;D.setNewValue(E),V&&tr(this,fe)}},d.prototype._addValue=function(h,E){var D=this;Je(this._keysAtom),Ar(function(){var Te=new sn(E,D.enhancer,D.name+"."+$(h),!1);D._data.set(h,Te),E=Te.value,D._updateHasMapEntry(h,!0),D._keysAtom.reportChanged()});var F=Ct(),V=br(this),fe=V||F?{type:"add",object:this,name:h,newValue:E}:null;V&&tr(this,fe)},d.prototype.get=function(h){return this.has(h)?this.dehanceValue(this._data.get(h).get()):this.dehanceValue(void 0)},d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},d.prototype.values=function(){var h=this,E=this.keys();return xo({next:function(){var D=E.next(),F=D.done,V=D.value;return{done:F,value:F?void 0:h.get(V)}}})},d.prototype.entries=function(){var h=this,E=this.keys();return xo({next:function(){var D=E.next(),F=D.done,V=D.value;return{done:F,value:F?void 0:[V,h.get(V)]}}})},d.prototype[ua=C,Symbol.iterator]=function(){return this.entries()},d.prototype.forEach=function(h,E){var D,F;try{for(var V=Be(this),fe=V.next();!fe.done;fe=V.next()){var Te=Ee(fe.value,2),$e=Te[0],dt=Te[1];h.call(E,dt,$e,this)}}catch(pt){D={error:pt}}finally{try{fe&&!fe.done&&(F=V.return)&&F.call(V)}finally{if(D)throw D.error}}},d.prototype.merge=function(h){var E=this;return Xt(h)&&(h=h.toJS()),Ar(function(){var D=Pn(!0);try{z(h)?L(h).forEach(function(F){return E.set(F,h[F])}):Array.isArray(h)?h.forEach(function(F){var V=Ee(F,2),fe=V[0],Te=V[1];return E.set(fe,Te)}):Q(h)?(h.constructor!==Map&&T("Cannot initialize from classes that inherit from Map: "+h.constructor.name),h.forEach(function(F,V){return E.set(V,F)})):h!=null&&T("Cannot initialize map from "+h)}finally{Vn(D)}}),this},d.prototype.clear=function(){var h=this;Ar(function(){re(function(){var E,D;try{for(var F=Be(h.keys()),V=F.next();!V.done;V=F.next()){var fe=V.value;h.delete(fe)}}catch(Te){E={error:Te}}finally{try{V&&!V.done&&(D=F.return)&&D.call(F)}finally{if(E)throw E.error}}})})},d.prototype.replace=function(h){var E=this;return Ar(function(){var D,F,V,fe,Te=U(h),$e=new Map,dt=!1;try{for(var pt=Be(E._data.keys()),Et=pt.next();!Et.done;Et=pt.next()){var St=Et.value;if(!Te.has(St)){var Bt=E.delete(St);if(Bt)dt=!0;else{var Yt=E._data.get(St);$e.set(St,Yt)}}}}catch(fn){D={error:fn}}finally{try{Et&&!Et.done&&(F=pt.return)&&F.call(pt)}finally{if(D)throw D.error}}try{for(var Mt=Be(Te.entries()),Er=Mt.next();!Er.done;Er=Mt.next()){var _n=Ee(Er.value,2),St=_n[0],Yt=_n[1],ma=E._data.has(St);if(E.set(St,Yt),E._data.has(St)){var ba=E._data.get(St);$e.set(St,ba),ma||(dt=!0)}}}catch(fn){V={error:fn}}finally{try{Er&&!Er.done&&(fe=Mt.return)&&fe.call(Mt)}finally{if(V)throw V.error}}if(!dt)if(E._data.size!==$e.size)E._keysAtom.reportChanged();else for(var Oa=E._data.keys(),Ea=$e.keys(),si=Oa.next(),Bn=Ea.next();!si.done;){if(si.value!==Bn.value){E._keysAtom.reportChanged();break}si=Oa.next(),Bn=Ea.next()}E._data=$e}),this},Object.defineProperty(d.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.toPOJO=function(){var h,E,D={};try{for(var F=Be(this),V=F.next();!V.done;V=F.next()){var fe=Ee(V.value,2),Te=fe[0],$e=fe[1];D[typeof Te=="symbol"?Te:$(Te)]=$e}}catch(dt){h={error:dt}}finally{try{V&&!V.done&&(E=F.return)&&E.call(F)}finally{if(h)throw h.error}}return D},d.prototype.toJS=function(){return new Map(this)},d.prototype.toJSON=function(){return this.toPOJO()},d.prototype.toString=function(){var h=this;return this.name+"[{ "+Array.from(this.keys()).map(function(E){return $(E)+": "+(""+h.get(E))}).join(", ")+" }]"},d.prototype.observe=function(h,E){return eo(this,h)},d.prototype.intercept=function(h){return qn(this,h)},d}(),Xt=te("ObservableMap",ii),la,Cl={},fa=function(){function d(h,E,D){if(E===void 0&&(E=nt),D===void 0&&(D="ObservableSet@"+S()),this.name=D,this[la]=Cl,this._data=new Set,this._atom=ce(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(F,V){return E(F,V,D)},h&&this.replace(h)}return d.prototype.dehanceValue=function(h){return this.dehancer!==void 0?this.dehancer(h):h},d.prototype.clear=function(){var h=this;Ar(function(){re(function(){var E,D;try{for(var F=Be(h._data.values()),V=F.next();!V.done;V=F.next()){var fe=V.value;h.delete(fe)}}catch(Te){E={error:Te}}finally{try{V&&!V.done&&(D=F.return)&&D.call(F)}finally{if(E)throw E.error}}})})},d.prototype.forEach=function(h,E){var D,F;try{for(var V=Be(this),fe=V.next();!fe.done;fe=V.next()){var Te=fe.value;h.call(E,Te,Te,this)}}catch($e){D={error:$e}}finally{try{fe&&!fe.done&&(F=V.return)&&F.call(V)}finally{if(D)throw D.error}}},Object.defineProperty(d.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),d.prototype.add=function(h){var E=this;if(Je(this._atom),Nr(this)){var D=Dr(this,{type:"add",object:this,newValue:h});if(!D)return this}if(!this.has(h)){Ar(function(){E._data.add(E.enhancer(h,void 0)),E._atom.reportChanged()});var F=Ct(),V=br(this),D=V||F?{type:"add",object:this,newValue:h}:null;V&&tr(this,D)}return this},d.prototype.delete=function(h){var E=this;if(Nr(this)){var D=Dr(this,{type:"delete",object:this,oldValue:h});if(!D)return!1}if(this.has(h)){var F=Ct(),V=br(this),D=V||F?{type:"delete",object:this,oldValue:h}:null;return Ar(function(){E._atom.reportChanged(),E._data.delete(h)}),V&&tr(this,D),!0}return!1},d.prototype.has=function(h){return this._atom.reportObserved(),this._data.has(this.dehanceValue(h))},d.prototype.entries=function(){var h=0,E=Array.from(this.keys()),D=Array.from(this.values());return xo({next:function(){var F=h;return h+=1,F<D.length?{value:[E[F],D[F]],done:!1}:{done:!0}}})},d.prototype.keys=function(){return this.values()},d.prototype.values=function(){this._atom.reportObserved();var h=this,E=0,D=Array.from(this._data.values());return xo({next:function(){return E<D.length?{value:h.dehanceValue(D[E++]),done:!1}:{done:!0}}})},d.prototype.replace=function(h){var E=this;return pr(h)&&(h=h.toJS()),Ar(function(){var D=Pn(!0);try{Array.isArray(h)?(E.clear(),h.forEach(function(F){return E.add(F)})):ee(h)?(E.clear(),h.forEach(function(F){return E.add(F)})):h!=null&&T("Cannot initialize set from "+h)}finally{Vn(D)}}),this},d.prototype.observe=function(h,E){return eo(this,h)},d.prototype.intercept=function(h){return qn(this,h)},d.prototype.toJS=function(){return new Set(this)},d.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},d.prototype[la=C,Symbol.iterator]=function(){return this.values()},d}(),pr=te("ObservableSet",fa),ca=function(){function d(h,E,D,F){E===void 0&&(E=new Map),this.target=h,this.values=E,this.name=D,this.defaultEnhancer=F,this.keysAtom=new W(D+".keys")}return d.prototype.read=function(h){return this.values.get(h).get()},d.prototype.write=function(h,E){var D=this.target,F=this.values.get(h);if(F instanceof Tn){F.set(E);return}if(Nr(this)){var V=Dr(this,{type:"update",object:this.proxy||D,name:h,newValue:E});if(!V)return;E=V.newValue}if(E=F.prepareNewValue(E),E!==Ge.UNCHANGED){var fe=br(this),Te=Ct(),V=fe||Te?{type:"update",object:this.proxy||D,oldValue:F.value,name:h,newValue:E}:null;F.setNewValue(E),fe&&tr(this,V)}},d.prototype.has=function(h){var E=this.pendingKeys||(this.pendingKeys=new Map),D=E.get(h);if(D)return D.get();var F=!!this.values.get(h);return D=new sn(F,it,this.name+"."+$(h)+"?",!1),E.set(h,D),D.get()},d.prototype.addObservableProp=function(h,E,D){D===void 0&&(D=this.defaultEnhancer);var F=this.target;if(Nr(this)){var V=Dr(this,{object:this.proxy||F,name:h,type:"add",newValue:E});if(!V)return;E=V.newValue}var fe=new sn(E,D,this.name+"."+$(h),!1);this.values.set(h,fe),E=fe.value,Object.defineProperty(F,h,Rl(h)),this.notifyPropertyAddition(h,E)},d.prototype.addComputedProp=function(h,E,D){var F=this.target;D.name=D.name||this.name+"."+$(E),this.values.set(E,new Tn(D)),(h===F||se(h,E))&&Object.defineProperty(h,E,Il(E))},d.prototype.remove=function(h){if(this.values.has(h)){var E=this.target;if(Nr(this)){var D=Dr(this,{object:this.proxy||E,name:h,type:"remove"});if(!D)return}try{Tt();var F=br(this),V=Ct(),fe=this.values.get(h),Te=fe&&fe.get();if(fe&&fe.set(void 0),this.keysAtom.reportChanged(),this.values.delete(h),this.pendingKeys){var $e=this.pendingKeys.get(h);$e&&$e.set(!1)}delete this.target[h];var D=F||V?{type:"remove",object:this.proxy||E,oldValue:Te,name:h}:null;F&&tr(this,D)}finally{mr()}}},d.prototype.illegalAccess=function(h,E){console.warn("Property '"+E+"' of '"+h+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},d.prototype.observe=function(h,E){return eo(this,h)},d.prototype.intercept=function(h){return qn(this,h)},d.prototype.notifyPropertyAddition=function(h,E){var D=br(this),F=Ct(),V=D||F?{type:"add",object:this.proxy||this.target,name:h,newValue:E}:null;if(D&&tr(this,V),this.pendingKeys){var fe=this.pendingKeys.get(h);fe&&fe.set(!0)}this.keysAtom.reportChanged()},d.prototype.getKeys=function(){var h,E;this.keysAtom.reportObserved();var D=[];try{for(var F=Be(this.values),V=F.next();!V.done;V=F.next()){var fe=Ee(V.value,2),Te=fe[0],$e=fe[1];$e instanceof sn&&D.push(Te)}}catch(dt){h={error:dt}}finally{try{V&&!V.done&&(E=F.return)&&E.call(F)}finally{if(h)throw h.error}}return D},d}();function ai(d,h,E){if(h===void 0&&(h=""),E===void 0&&(E=nt),Object.prototype.hasOwnProperty.call(d,C))return d[C];z(d)||(h=(d.constructor.name||"ObservableObject")+"@"+S()),h||(h="ObservableObject@"+S());var D=new ca(d,new Map,$(h),E);return Y(d,C,D),D}var da=Object.create(null),pa=Object.create(null);function Rl(d){return da[d]||(da[d]={configurable:!0,enumerable:!0,get:function(){return this[C].read(d)},set:function(h){this[C].write(d,h)}})}function ha(d){var h=d[C];return h||(xe(d),d[C])}function Il(d){return pa[d]||(pa[d]={configurable:Ge.computedConfigurable,enumerable:!1,get:function(){return ha(this).read(d)},set:function(h){ha(this).write(d,h)}})}var _l=te("ObservableObjectAdministration",ca);function Or(d){return _(d)?(xe(d),_l(d[C])):!1}function jr(d,h){if(typeof d=="object"&&d!==null){if(Lr(d))return h!==void 0&&T(!1),d[C].atom;if(pr(d))return d[C];if(Xt(d)){var E=d;if(h===void 0)return E._keysAtom;var D=E._data.get(h)||E._hasMap.get(h);return D||T(!1),D}if(xe(d),h&&!d[C]&&d[h],Or(d)){if(!h)return T(!1);var D=d[C].values.get(h);return D||T(!1),D}if(Z(d)||Mn(d)||mo(d))return d}else if(typeof d=="function"&&mo(d[C]))return d[C];return T(!1)}function to(d,h){if(d||T("Expecting some object"),h!==void 0)return to(jr(d,h));if(Z(d)||Mn(d)||mo(d)||Xt(d)||pr(d))return d;if(xe(d),d[C])return d[C];T(!1)}function Bl(d,h){var E;return h!==void 0?E=jr(d,h):Or(d)||Xt(d)||pr(d)?E=to(d):E=jr(d),E.name}var va=Object.prototype.toString;function So(d,h,E){return E===void 0&&(E=-1),ro(d,h,E)}function ro(d,h,E,D,F){if(d===h)return d!==0||1/d===1/h;if(d==null||h==null)return!1;if(d!==d)return h!==h;var V=typeof d;if(V!=="function"&&V!=="object"&&typeof h!="object")return!1;var fe=va.call(d);if(fe!==va.call(h))return!1;switch(fe){case"[object RegExp]":case"[object String]":return""+d==""+h;case"[object Number]":return+d!=+d?+h!=+h:+d==0?1/+d===1/h:+d==+h;case"[object Date]":case"[object Boolean]":return+d==+h;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(d)===Symbol.valueOf.call(h);case"[object Map]":case"[object Set]":E>=0&&E++;break}d=ya(d),h=ya(h);var Te=fe==="[object Array]";if(!Te){if(typeof d!="object"||typeof h!="object")return!1;var $e=d.constructor,dt=h.constructor;if($e!==dt&&!(typeof $e=="function"&&$e instanceof $e&&typeof dt=="function"&&dt instanceof dt)&&"constructor"in d&&"constructor"in h)return!1}if(E===0)return!1;E<0&&(E=-1),D=D||[],F=F||[];for(var pt=D.length;pt--;)if(D[pt]===d)return F[pt]===h;if(D.push(d),F.push(h),Te){if(pt=d.length,pt!==h.length)return!1;for(;pt--;)if(!ro(d[pt],h[pt],E-1,D,F))return!1}else{var Et=Object.keys(d),St=void 0;if(pt=Et.length,Object.keys(h).length!==pt)return!1;for(;pt--;)if(St=Et[pt],!(Ll(h,St)&&ro(d[St],h[St],E-1,D,F)))return!1}return D.pop(),F.pop(),!0}function ya(d){return Lr(d)?d.slice():Q(d)||Xt(d)||ee(d)||pr(d)?Array.from(d.entries()):d}function Ll(d,h){return Object.prototype.hasOwnProperty.call(d,h)}function xo(d){return d[Symbol.iterator]=ui,d}function ui(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");try{}catch{var ga=vo();typeof s>"u"&&(ga.process={}),ga.process.env={}}(function(){function d(){}if(d.name!=="testCodeMinification"&&!1)var h})(),typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Vi,extras:{getDebugName:Bl},$mobx:C})}).call(this,i(155),i(82))},function(u,c,i){i.d(c,"a",function(){return se}),i.d(c,"b",function(){return le}),i.d(c,"c",function(){return Le}),i.d(c,"d",function(){return Ue}),i.d(c,"e",function(){return z}),i.d(c,"f",function(){return Y}),i.d(c,"g",function(){return z}),i.d(c,"h",function(){return Ee}),i.d(c,"i",function(){return l}),i.d(c,"j",function(){return Be}),i.d(c,"k",function(){return A});var s,l,y,b,x,S,T,w={},M=[],j=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function R(k,X){for(var q in X)k[q]=X[q];return k}function _(k){var X=k.parentNode;X&&X.removeChild(k)}function z(k,X,q){var he,xe,pe,He={};for(pe in X)pe=="key"?he=X[pe]:pe=="ref"?xe=X[pe]:He[pe]=X[pe];if(arguments.length>2&&(He.children=arguments.length>3?s.call(arguments,2):q),typeof k=="function"&&k.defaultProps!=null)for(pe in k.defaultProps)He[pe]===void 0&&(He[pe]=k.defaultProps[pe]);return U(k,He,he,xe,null)}function U(k,X,q,he,xe){var pe={type:k,props:X,key:q,ref:he,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:xe??++y};return xe==null&&l.vnode!=null&&l.vnode(pe),pe}function Y(){return{current:null}}function le(k){return k.children}function se(k,X){this.props=k,this.context=X}function te(k,X){if(X==null)return k.__?te(k.__,k.__.__k.indexOf(k)+1):null;for(var q;X<k.__k.length;X++)if((q=k.__k[X])!=null&&q.__e!=null)return q.__e;return typeof k.type=="function"?te(k):null}function Q(k){var X,q;if((k=k.__)!=null&&k.__c!=null){for(k.__e=k.__c.base=null,X=0;X<k.__k.length;X++)if((q=k.__k[X])!=null&&q.__e!=null){k.__e=k.__c.base=q.__e;break}return Q(k)}}function ee(k){(!k.__d&&(k.__d=!0)&&b.push(k)&&!L.__r++||S!==l.debounceRendering)&&((S=l.debounceRendering)||x)(L)}function L(){for(var k;L.__r=b.length;)k=b.sort(function(X,q){return X.__v.__b-q.__v.__b}),b=[],k.some(function(X){var q,he,xe,pe,He,nt;X.__d&&(He=(pe=(q=X).__v).__e,(nt=q.__P)&&(he=[],(xe=R({},pe)).__v=pe.__v+1,be(nt,pe,xe,q.__n,nt.ownerSVGElement!==void 0,pe.__h!=null?[He]:null,he,He??te(pe),pe.__h),Se(he,pe),pe.__e!=He&&Q(pe)))})}function $(k,X,q,he,xe,pe,He,nt,Ke,it){var ve,lt,ot,ze,et,At,vt,Ot=he&&he.__k||M,ae=Ot.length;for(q.__k=[],ve=0;ve<X.length;ve++)if((ze=q.__k[ve]=(ze=X[ve])==null||typeof ze=="boolean"?null:typeof ze=="string"||typeof ze=="number"||typeof ze=="bigint"?U(null,ze,null,null,ze):Array.isArray(ze)?U(le,{children:ze},null,null,null):ze.__b>0?U(ze.type,ze.props,ze.key,null,ze.__v):ze)!=null){if(ze.__=q,ze.__b=q.__b+1,(ot=Ot[ve])===null||ot&&ze.key==ot.key&&ze.type===ot.type)Ot[ve]=void 0;else for(lt=0;lt<ae;lt++){if((ot=Ot[lt])&&ze.key==ot.key&&ze.type===ot.type){Ot[lt]=void 0;break}ot=null}be(k,ze,ot=ot||w,xe,pe,He,nt,Ke,it),et=ze.__e,(lt=ze.ref)&&ot.ref!=lt&&(vt||(vt=[]),ot.ref&&vt.push(ot.ref,null,ze),vt.push(lt,ze.__c||et,ze)),et!=null?(At==null&&(At=et),typeof ze.type=="function"&&ze.__k===ot.__k?ze.__d=Ke=I(ze,Ke,k):Ke=C(k,ze,ot,Ot,et,Ke),typeof q.type=="function"&&(q.__d=Ke)):Ke&&ot.__e==Ke&&Ke.parentNode!=k&&(Ke=te(ot))}for(q.__e=At,ve=ae;ve--;)Ot[ve]!=null&&(typeof q.type=="function"&&Ot[ve].__e!=null&&Ot[ve].__e==q.__d&&(q.__d=te(he,ve+1)),Fe(Ot[ve],Ot[ve]));if(vt)for(ve=0;ve<vt.length;ve++)Ae(vt[ve],vt[++ve],vt[++ve])}function I(k,X,q){for(var he,xe=k.__k,pe=0;xe&&pe<xe.length;pe++)(he=xe[pe])&&(he.__=k,X=typeof he.type=="function"?I(he,X,q):C(q,he,he,xe,he.__e,X));return X}function A(k,X){return X=X||[],k==null||typeof k=="boolean"||(Array.isArray(k)?k.some(function(q){A(q,X)}):X.push(k)),X}function C(k,X,q,he,xe,pe){var He,nt,Ke;if(X.__d!==void 0)He=X.__d,X.__d=void 0;else if(q==null||xe!=pe||xe.parentNode==null)e:if(pe==null||pe.parentNode!==k)k.appendChild(xe),He=null;else{for(nt=pe,Ke=0;(nt=nt.nextSibling)&&Ke<he.length;Ke+=2)if(nt==xe)break e;k.insertBefore(xe,pe),He=pe}return He!==void 0?He:xe.nextSibling}function W(k,X,q,he,xe){var pe;for(pe in q)pe==="children"||pe==="key"||pe in X||ce(k,pe,null,q[pe],he);for(pe in X)xe&&typeof X[pe]!="function"||pe==="children"||pe==="key"||pe==="value"||pe==="checked"||q[pe]===X[pe]||ce(k,pe,X[pe],q[pe],he)}function Z(k,X,q){X[0]==="-"?k.setProperty(X,q):k[X]=q==null?"":typeof q!="number"||j.test(X)?q:q+"px"}function ce(k,X,q,he,xe){var pe;e:if(X==="style")if(typeof q=="string")k.style.cssText=q;else{if(typeof he=="string"&&(k.style.cssText=he=""),he)for(X in he)q&&X in q||Z(k.style,X,"");if(q)for(X in q)he&&q[X]===he[X]||Z(k.style,X,q[X])}else if(X[0]==="o"&&X[1]==="n")pe=X!==(X=X.replace(/Capture$/,"")),X=X.toLowerCase()in k?X.toLowerCase().slice(2):X.slice(2),k.l||(k.l={}),k.l[X+pe]=q,q?he||k.addEventListener(X,pe?me:Pe,pe):k.removeEventListener(X,pe?me:Pe,pe);else if(X!=="dangerouslySetInnerHTML"){if(xe)X=X.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(X!=="href"&&X!=="list"&&X!=="form"&&X!=="tabIndex"&&X!=="download"&&X in k)try{k[X]=q??"";break e}catch{}typeof q=="function"||(q!=null&&(q!==!1||X[0]==="a"&&X[1]==="r")?k.setAttribute(X,q):k.removeAttribute(X))}}function Pe(k){this.l[k.type+!1](l.event?l.event(k):k)}function me(k){this.l[k.type+!0](l.event?l.event(k):k)}function be(k,X,q,he,xe,pe,He,nt,Ke){var it,ve,lt,ot,ze,et,At,vt,Ot,ae,jt,xt=X.type;if(X.constructor!==void 0)return null;q.__h!=null&&(Ke=q.__h,nt=X.__e=q.__e,X.__h=null,pe=[nt]),(it=l.__b)&&it(X);try{e:if(typeof xt=="function"){if(vt=X.props,Ot=(it=xt.contextType)&&he[it.__c],ae=it?Ot?Ot.props.value:it.__:he,q.__c?At=(ve=X.__c=q.__c).__=ve.__E:("prototype"in xt&&xt.prototype.render?X.__c=ve=new xt(vt,ae):(X.__c=ve=new se(vt,ae),ve.constructor=xt,ve.render=Ve),Ot&&Ot.sub(ve),ve.props=vt,ve.state||(ve.state={}),ve.context=ae,ve.__n=he,lt=ve.__d=!0,ve.__h=[]),ve.__s==null&&(ve.__s=ve.state),xt.getDerivedStateFromProps!=null&&(ve.__s==ve.state&&(ve.__s=R({},ve.__s)),R(ve.__s,xt.getDerivedStateFromProps(vt,ve.__s))),ot=ve.props,ze=ve.state,lt)xt.getDerivedStateFromProps==null&&ve.componentWillMount!=null&&ve.componentWillMount(),ve.componentDidMount!=null&&ve.__h.push(ve.componentDidMount);else{if(xt.getDerivedStateFromProps==null&&vt!==ot&&ve.componentWillReceiveProps!=null&&ve.componentWillReceiveProps(vt,ae),!ve.__e&&ve.shouldComponentUpdate!=null&&ve.shouldComponentUpdate(vt,ve.__s,ae)===!1||X.__v===q.__v){ve.props=vt,ve.state=ve.__s,X.__v!==q.__v&&(ve.__d=!1),ve.__v=X,X.__e=q.__e,X.__k=q.__k,X.__k.forEach(function(mt){mt&&(mt.__=X)}),ve.__h.length&&He.push(ve);break e}ve.componentWillUpdate!=null&&ve.componentWillUpdate(vt,ve.__s,ae),ve.componentDidUpdate!=null&&ve.__h.push(function(){ve.componentDidUpdate(ot,ze,et)})}ve.context=ae,ve.props=vt,ve.state=ve.__s,(it=l.__r)&&it(X),ve.__d=!1,ve.__v=X,ve.__P=k,it=ve.render(ve.props,ve.state,ve.context),ve.state=ve.__s,ve.getChildContext!=null&&(he=R(R({},he),ve.getChildContext())),lt||ve.getSnapshotBeforeUpdate==null||(et=ve.getSnapshotBeforeUpdate(ot,ze)),jt=it!=null&&it.type===le&&it.key==null?it.props.children:it,$(k,Array.isArray(jt)?jt:[jt],X,q,he,xe,pe,He,nt,Ke),ve.base=X.__e,X.__h=null,ve.__h.length&&He.push(ve),At&&(ve.__E=ve.__=null),ve.__e=!1}else pe==null&&X.__v===q.__v?(X.__k=q.__k,X.__e=q.__e):X.__e=Oe(q.__e,X,q,he,xe,pe,He,Ke);(it=l.diffed)&&it(X)}catch(mt){X.__v=null,(Ke||pe!=null)&&(X.__e=nt,X.__h=!!Ke,pe[pe.indexOf(nt)]=null),l.__e(mt,X,q)}}function Se(k,X){l.__c&&l.__c(X,k),k.some(function(q){try{k=q.__h,q.__h=[],k.some(function(he){he.call(q)})}catch(he){l.__e(he,q.__v)}})}function Oe(k,X,q,he,xe,pe,He,nt){var Ke,it,ve,lt=q.props,ot=X.props,ze=X.type,et=0;if(ze==="svg"&&(xe=!0),pe!=null){for(;et<pe.length;et++)if((Ke=pe[et])&&"setAttribute"in Ke==!!ze&&(ze?Ke.localName===ze:Ke.nodeType===3)){k=Ke,pe[et]=null;break}}if(k==null){if(ze===null)return document.createTextNode(ot);k=xe?document.createElementNS("http://www.w3.org/2000/svg",ze):document.createElement(ze,ot.is&&ot),pe=null,nt=!1}if(ze===null)lt===ot||nt&&k.data===ot||(k.data=ot);else{if(pe=pe&&s.call(k.childNodes),it=(lt=q.props||w).dangerouslySetInnerHTML,ve=ot.dangerouslySetInnerHTML,!nt){if(pe!=null)for(lt={},et=0;et<k.attributes.length;et++)lt[k.attributes[et].name]=k.attributes[et].value;(ve||it)&&(ve&&(it&&ve.__html==it.__html||ve.__html===k.innerHTML)||(k.innerHTML=ve&&ve.__html||""))}if(W(k,ot,lt,xe,nt),ve)X.__k=[];else if(et=X.props.children,$(k,Array.isArray(et)?et:[et],X,q,he,xe&&ze!=="foreignObject",pe,He,pe?pe[0]:q.__k&&te(q,0),nt),pe!=null)for(et=pe.length;et--;)pe[et]!=null&&_(pe[et]);nt||("value"in ot&&(et=ot.value)!==void 0&&(et!==lt.value||et!==k.value||ze==="progress"&&!et)&&ce(k,"value",et,lt.value,!1),"checked"in ot&&(et=ot.checked)!==void 0&&et!==k.checked&&ce(k,"checked",et,lt.checked,!1))}return k}function Ae(k,X,q){try{typeof k=="function"?k(X):k.current=X}catch(he){l.__e(he,q)}}function Fe(k,X,q){var he,xe;if(l.unmount&&l.unmount(k),(he=k.ref)&&(he.current&&he.current!==k.__e||Ae(he,null,X)),(he=k.__c)!=null){if(he.componentWillUnmount)try{he.componentWillUnmount()}catch(pe){l.__e(pe,X)}he.base=he.__P=null}if(he=k.__k)for(xe=0;xe<he.length;xe++)he[xe]&&Fe(he[xe],X,typeof k.type!="function");q||k.__e==null||_(k.__e),k.__e=k.__d=void 0}function Ve(k,X,q){return this.constructor(k,q)}function Be(k,X,q){var he,xe,pe;l.__&&l.__(k,X),xe=(he=typeof q=="function")?null:q&&q.__k||X.__k,pe=[],be(X,k=(!he&&q||X).__k=z(le,null,[k]),xe||w,w,X.ownerSVGElement!==void 0,!he&&q?[q]:xe?null:X.firstChild?s.call(X.childNodes):null,pe,!he&&q?q:xe?xe.__e:X.firstChild,he),Se(pe,k)}function Ee(k,X){Be(k,X,Ee)}function Le(k,X,q){var he,xe,pe,He=R({},k.props);for(pe in X)pe=="key"?he=X[pe]:pe=="ref"?xe=X[pe]:He[pe]=X[pe];return arguments.length>2&&(He.children=arguments.length>3?s.call(arguments,2):q),U(k.type,He,he||k.key,xe||k.ref,null)}function Ue(k,X){var q={__c:X="__cC"+T++,__:k,Consumer:function(he,xe){return he.children(xe)},Provider:function(he){var xe,pe;return this.getChildContext||(xe=[],(pe={})[X]=this,this.getChildContext=function(){return pe},this.shouldComponentUpdate=function(He){this.props.value!==He.value&&xe.some(ee)},this.sub=function(He){xe.push(He);var nt=He.componentWillUnmount;He.componentWillUnmount=function(){xe.splice(xe.indexOf(He),1),nt&&nt.call(He)}}),he.children}};return q.Provider.__=q.Consumer.contextType=q}s=M.slice,l={__e:function(k,X){for(var q,he,xe;X=X.__;)if((q=X.__c)&&!q.__)try{if((he=q.constructor)&&he.getDerivedStateFromError!=null&&(q.setState(he.getDerivedStateFromError(k)),xe=q.__d),q.componentDidCatch!=null&&(q.componentDidCatch(k),xe=q.__d),xe)return q.__E=q}catch(pe){k=pe}throw k}},y=0,se.prototype.setState=function(k,X){var q;q=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=R({},this.state),typeof k=="function"&&(k=k(R({},q),this.props)),k&&R(q,k),k!=null&&this.__v&&(X&&this.__h.push(X),ee(this))},se.prototype.forceUpdate=function(k){this.__v&&(this.__e=!0,k&&this.__h.push(k),ee(this))},se.prototype.render=le,b=[],x=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,L.__r=0,T=0},function(u,c,i){var s=i(116),l=i(44),y=i(178);s||l(Object.prototype,"toString",y,{unsafe:!0})},function(u,c,i){var s=i(39),l=i(83),y=i(71),b=i(56),x=i(111),S="Array Iterator",T=b.set,w=b.getterFor(S);u.exports=x(Array,"Array",function(M,j){T(this,{type:S,target:s(M),index:0,kind:j})},function(){var M=w(this),j=M.target,R=M.kind,_=M.index++;return!j||_>=j.length?(M.target=void 0,{value:void 0,done:!0}):R=="keys"?{value:_,done:!1}:R=="values"?{value:j[_],done:!1}:{value:[_,j[_]],done:!1}},"values"),y.Arguments=y.Array,l("keys"),l("values"),l("entries")},function(u,c,i){var s=i(7),l=i(147),y=i(148),b=i(3),x=i(57),S=i(27),T=S("iterator"),w=S("toStringTag"),M=b.values,j=function(_,z){if(_){if(_[T]!==M)try{x(_,T,M)}catch{_[T]=M}if(_[w]||x(_,w,z),l[z]){for(var U in b)if(_[U]!==b[U])try{x(_,U,b[U])}catch{_[U]=b[U]}}}};for(var R in l)j(s[R]&&s[R].prototype,R);j(y,"DOMTokenList")},function(u,c,i){var s=i(16),l=i(7),y=i(46),b=i(77),x=i(35),S=i(15),T=i(65),w=i(36),M=i(109),j=i(18),R=i(34),_=i(99),z=i(28),U=i(33),Y=i(58),le=i(88),se=i(32),te=i(38),Q=i(39),ee=i(87),L=i(40),$=i(72),I=i(54),A=i(67),C=i(73),W=i(139),Z=i(112),ce=i(51),Pe=i(37),me=i(93),be=i(101),Se=i(44),Oe=i(84),Ae=i(91),Fe=i(70),Ve=i(85),Be=i(27),Ee=i(149),Le=i(150),Ue=i(74),k=i(56),X=i(75).forEach,q=Ae("hidden"),he="Symbol",xe="prototype",pe=Be("toPrimitive"),He=k.set,nt=k.getterFor(he),Ke=Object[xe],it=l.Symbol,ve=it&&it[xe],lt=l.TypeError,ot=l.QObject,ze=y("JSON","stringify"),et=ce.f,At=Pe.f,vt=W.f,Ot=me.f,ae=S([].push),jt=Oe("symbols"),xt=Oe("op-symbols"),mt=Oe("string-to-symbol-registry"),Vt=Oe("symbol-to-string-registry"),gr=Oe("wks"),Qt=!ot||!ot[xe]||!ot[xe].findChild,Mr=w&&j(function(){return I(At({},"a",{get:function(){return At(this,"a",{value:7}).a}})).a!=7})?function(re,ne,Me){var De=et(Ke,ne);De&&delete Ke[ne],At(re,ne,Me),De&&re!==Ke&&At(Ke,ne,De)}:At,tt=function(re,ne){var Me=jt[re]=I(ve);return He(Me,{type:he,tag:re,description:ne}),w||(Me.description=ne),Me},Pt=function(ne,Me,De){ne===Ke&&Pt(xt,Me,De),se(ne);var Xe=ee(Me);return se(De),R(jt,Xe)?(De.enumerable?(R(ne,q)&&ne[q][Xe]&&(ne[q][Xe]=!1),De=I(De,{enumerable:$(0,!1)})):(R(ne,q)||At(ne,q,$(1,{})),ne[q][Xe]=!0),Mr(ne,Xe,De)):At(ne,Xe,De)},ar=function(ne,Me){se(ne);var De=Q(Me),Xe=A(De).concat(ct(De));return X(Xe,function(yt){(!w||x(Ye,De,yt))&&Pt(ne,yt,De[yt])}),ne},Ce=function(ne,Me){return Me===void 0?I(ne):ar(I(ne),Me)},Ye=function(ne){var Me=ee(ne),De=x(Ot,this,Me);return this===Ke&&R(jt,Me)&&!R(xt,Me)?!1:De||!R(this,Me)||!R(jt,Me)||R(this,q)&&this[q][Me]?De:!0},at=function(ne,Me){var De=Q(ne),Xe=ee(Me);if(!(De===Ke&&R(jt,Xe)&&!R(xt,Xe))){var yt=et(De,Xe);return yt&&R(jt,Xe)&&!(R(De,q)&&De[q][Xe])&&(yt.enumerable=!0),yt}},Je=function(ne){var Me=vt(Q(ne)),De=[];return X(Me,function(Xe){!R(jt,Xe)&&!R(Fe,Xe)&&ae(De,Xe)}),De},ct=function(ne){var Me=ne===Ke,De=vt(Me?xt:Q(ne)),Xe=[];return X(De,function(yt){R(jt,yt)&&(!Me||R(Ke,yt))&&ae(Xe,jt[yt])}),Xe};if(M||(it=function(){if(Y(ve,this))throw lt("Symbol is not a constructor");var ne=!arguments.length||arguments[0]===void 0?void 0:L(arguments[0]),Me=Ve(ne),De=function(Xe){this===Ke&&x(De,xt,Xe),R(this,q)&&R(this[q],Me)&&(this[q][Me]=!1),Mr(this,Me,$(1,Xe))};return w&&Qt&&Mr(Ke,Me,{configurable:!0,set:De}),tt(Me,ne)},ve=it[xe],Se(ve,"toString",function(){return nt(this).tag}),Se(it,"withoutSetter",function(re){return tt(Ve(re),re)}),me.f=Ye,Pe.f=Pt,ce.f=at,C.f=W.f=Je,Z.f=ct,Ee.f=function(re){return tt(Be(re),re)},w&&(At(ve,"description",{configurable:!0,get:function(){return nt(this).description}}),T||Se(Ke,"propertyIsEnumerable",Ye,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!M,sham:!M},{Symbol:it}),X(A(gr),function(re){Le(re)}),s({target:he,stat:!0,forced:!M},{for:function(re){var ne=L(re);if(R(mt,ne))return mt[ne];var Me=it(ne);return mt[ne]=Me,Vt[Me]=ne,Me},keyFor:function(ne){if(!le(ne))throw lt(ne+" is not a symbol");if(R(Vt,ne))return Vt[ne]},useSetter:function(){Qt=!0},useSimple:function(){Qt=!1}}),s({target:"Object",stat:!0,forced:!M,sham:!w},{create:Ce,defineProperty:Pt,defineProperties:ar,getOwnPropertyDescriptor:at}),s({target:"Object",stat:!0,forced:!M},{getOwnPropertyNames:Je,getOwnPropertySymbols:ct}),s({target:"Object",stat:!0,forced:j(function(){Z.f(1)})},{getOwnPropertySymbols:function(ne){return Z.f(te(ne))}}),ze){var G=!M||j(function(){var re=it();return ze([re])!="[null]"||ze({a:re})!="{}"||ze(Object(re))!="{}"});s({target:"JSON",stat:!0,forced:G},{stringify:function(ne,Me,De){var Xe=be(arguments),yt=Me;if(!(!U(Me)&&ne===void 0||le(ne)))return _(Me)||(Me=function(qt,er){if(z(yt)&&(er=x(yt,this,qt,er)),!le(er))return er}),Xe[1]=Me,b(ze,null,Xe)}})}if(!ve[pe]){var J=ve.valueOf;Se(ve,pe,function(re){return x(J,this)})}Ue(it,he),Fe[q]=!0},function(u,c,i){var s=i(146).charAt,l=i(40),y=i(56),b=i(111),x="String Iterator",S=y.set,T=y.getterFor(x);b(String,"String",function(w){S(this,{type:x,string:l(w),index:0})},function(){var M=T(this),j=M.string,R=M.index,_;return R>=j.length?{value:void 0,done:!0}:(_=s(j,R),M.index+=_.length,{value:_,done:!1})})},function(u,c,i){(function(s){var l=function(y){return y&&y.Math==Math&&y};u.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof s=="object"&&s)||function(){return this}()||Function("return this")()}).call(this,i(82))},function(u,c,i){var s=i(16),l=i(36),y=i(7),b=i(15),x=i(34),S=i(28),T=i(58),w=i(40),M=i(37).f,j=i(134),R=y.Symbol,_=R&&R.prototype;if(l&&S(R)&&(!("description"in _)||R().description!==void 0)){var z={},U=function(){var $=arguments.length<1||arguments[0]===void 0?void 0:w(arguments[0]),I=T(_,this)?new R($):$===void 0?R():R($);return $===""&&(z[I]=!0),I};j(U,R),U.prototype=_,_.constructor=U;var Y=String(R("test"))=="Symbol(test)",le=b(_.toString),se=b(_.valueOf),te=/^Symbol\((.*)\)[^)]+$/,Q=b("".replace),ee=b("".slice);M(_,"description",{configurable:!0,get:function(){var $=se(this),I=le($);if(x(z,$))return"";var A=Y?ee(I,7,-1):Q(I,te,"$1");return A===""?void 0:A}}),s({global:!0,forced:!0},{Symbol:U})}},function(u,c,i){var s=i(150);s("iterator")},function(u,c,i){i.d(c,"a",function(){return s.a}),i.d(c,"c",function(){return s.e}),i.d(c,"h",function(){return ee}),i.d(c,"i",function(){return Y}),i.d(c,"j",function(){return z}),i.d(c,"b",function(){return Se}),i.d(c,"e",function(){return Ve}),i.d(c,"f",function(){return Oe}),i.d(c,"g",function(){return Ye});var s=i(1),l,y,b,x=0,S=[],T=s.i.__b,w=s.i.__r,M=s.i.diffed,j=s.i.__c,R=s.i.unmount;function _(G,J){s.i.__h&&s.i.__h(y,G,x||J),x=0;var re=y.__H||(y.__H={__:[],__h:[]});return G>=re.__.length&&re.__.push({}),re.__[G]}function z(G){return x=1,U(Pe,G)}function U(G,J,re){var ne=_(l++,2);return ne.t=G,ne.__c||(ne.__=[re?re(J):Pe(void 0,J),function(Me){var De=ne.t(ne.__[0],Me);ne.__[0]!==De&&(ne.__=[De,ne.__[1]],ne.__c.setState({}))}],ne.__c=y),ne.__}function Y(G,J){var re=_(l++,3);!s.i.__s&&ce(re.__H,J)&&(re.__=G,re.__H=J,y.__H.__h.push(re))}function le(G,J){var re=_(l++,4);!s.i.__s&&ce(re.__H,J)&&(re.__=G,re.__H=J,y.__h.push(re))}function se(G){return x=5,Q(function(){return{current:G}},[])}function te(G,J,re){x=6,le(function(){typeof G=="function"?G(J()):G&&(G.current=J())},re==null?re:re.concat(G))}function Q(G,J){var re=_(l++,7);return ce(re.__H,J)&&(re.__=G(),re.__H=J,re.__h=G),re.__}function ee(G,J){return x=8,Q(function(){return G},J)}function L(G){var J=y.context[G.__c],re=_(l++,9);return re.c=G,J?(re.__==null&&(re.__=!0,J.sub(y)),J.props.value):G.__}function $(G,J){s.i.useDebugValue&&s.i.useDebugValue(J?J(G):G)}function I(){var G;for(S.sort(function(J,re){return J.__v.__b-re.__v.__b});G=S.pop();)if(G.__P)try{G.__H.__h.forEach(W),G.__H.__h.forEach(Z),G.__H.__h=[]}catch(J){G.__H.__h=[],s.i.__e(J,G.__v)}}s.i.__b=function(G){y=null,T&&T(G)},s.i.__r=function(G){w&&w(G),l=0;var J=(y=G.__c).__H;J&&(J.__h.forEach(W),J.__h.forEach(Z),J.__h=[])},s.i.diffed=function(G){M&&M(G);var J=G.__c;J&&J.__H&&J.__H.__h.length&&(S.push(J)!==1&&b===s.i.requestAnimationFrame||((b=s.i.requestAnimationFrame)||C)(I)),y=null},s.i.__c=function(G,J){J.some(function(re){try{re.__h.forEach(W),re.__h=re.__h.filter(function(ne){return!ne.__||Z(ne)})}catch(ne){J.some(function(Me){Me.__h&&(Me.__h=[])}),J=[],s.i.__e(ne,re.__v)}}),j&&j(G,J)},s.i.unmount=function(G){R&&R(G);var J,re=G.__c;re&&re.__H&&(re.__H.__.forEach(function(ne){try{W(ne)}catch(Me){J=Me}}),J&&s.i.__e(J,re.__v))};var A=typeof requestAnimationFrame=="function";function C(G){var J,re=function(){clearTimeout(ne),A&&cancelAnimationFrame(J),setTimeout(G)},ne=setTimeout(re,100);A&&(J=requestAnimationFrame(re))}function W(G){var J=y,re=G.__c;typeof re=="function"&&(G.__c=void 0,re()),y=J}function Z(G){var J=y;G.__c=G.__(),y=J}function ce(G,J){return!G||G.length!==J.length||J.some(function(re,ne){return re!==G[ne]})}function Pe(G,J){return typeof J=="function"?J(G):J}function me(G,J){for(var re in J)G[re]=J[re];return G}function be(G,J){for(var re in G)if(re!=="__source"&&!(re in J))return!0;for(var ne in J)if(ne!=="__source"&&G[ne]!==J[ne])return!0;return!1}function Se(G){this.props=G}function Oe(G,J){function re(Me){var De=this.props.ref,Xe=De==Me.ref;return!Xe&&De&&(De.call?De(null):De.current=null),J?!J(this.props,Me)||!Xe:be(this.props,Me)}function ne(Me){return this.shouldComponentUpdate=re,Object(s.e)(G,Me)}return ne.displayName="Memo("+(G.displayName||G.name)+")",ne.prototype.isReactComponent=!0,ne.__f=!0,ne}(Se.prototype=new s.a).isPureReactComponent=!0,Se.prototype.shouldComponentUpdate=function(G,J){return be(this.props,G)||be(this.state,J)};var Ae=s.i.__b;s.i.__b=function(G){G.type&&G.type.__f&&G.ref&&(G.props.ref=G.ref,G.ref=null),Ae&&Ae(G)};var Fe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ve(G){function J(re,ne){var Me=me({},re);return delete Me.ref,G(Me,!(ne=re.ref||ne)||typeof ne=="object"&&!("current"in ne)?null:ne)}return J.$$typeof=Fe,J.render=J,J.prototype.isReactComponent=J.__f=!0,J.displayName="ForwardRef("+(G.displayName||G.name)+")",J}var Be=function(G,J){return G==null?null:Object(s.k)(Object(s.k)(G).map(J))},Ee={map:Be,forEach:Be,count:function(G){return G?Object(s.k)(G).length:0},only:function(G){var J=Object(s.k)(G);if(J.length!==1)throw"Children.only";return J[0]},toArray:s.k},Le=s.i.__e;s.i.__e=function(G,J,re){if(G.then){for(var ne,Me=J;Me=Me.__;)if((ne=Me.__c)&&ne.__c)return J.__e==null&&(J.__e=re.__e,J.__k=re.__k),ne.__c(G,J)}Le(G,J,re)};var Ue=s.i.unmount;function k(G,J,re){return G&&(G.__c&&G.__c.__H&&(G.__c.__H.__.forEach(function(ne){typeof ne.__c=="function"&&ne.__c()}),G.__c.__H=null),(G=me({},G)).__c!=null&&(G.__c.__P===re&&(G.__c.__P=J),G.__c=null),G.__k=G.__k&&G.__k.map(function(ne){return k(ne,J,re)})),G}function X(G,J,re){return G&&(G.__v=null,G.__k=G.__k&&G.__k.map(function(ne){return X(ne,J,re)}),G.__c&&G.__c.__P===J&&(G.__e&&re.insertBefore(G.__e,G.__d),G.__c.__e=!0,G.__c.__P=re)),G}function q(){this.__u=0,this.t=null,this.__b=null}function he(G){var J=G.__.__c;return J&&J.__e&&J.__e(G)}function xe(G){var J,re,ne;function Me(De){if(J||(J=G()).then(function(Xe){re=Xe.default||Xe},function(Xe){ne=Xe}),ne)throw ne;if(!re)throw J;return Object(s.e)(re,De)}return Me.displayName="Lazy",Me.__f=!0,Me}function pe(){this.u=null,this.o=null}s.i.unmount=function(G){var J=G.__c;J&&J.__R&&J.__R(),J&&G.__h===!0&&(G.type=null),Ue&&Ue(G)},(q.prototype=new s.a).__c=function(G,J){var re=J.__c,ne=this;ne.t==null&&(ne.t=[]),ne.t.push(re);var Me=he(ne.__v),De=!1,Xe=function(){De||(De=!0,re.__R=null,Me?Me(yt):yt())};re.__R=Xe;var yt=function(){if(!--ne.__u){if(ne.state.__e){var er=ne.state.__e;ne.__v.__k[0]=X(er,er.__c.__P,er.__c.__O)}var Kn;for(ne.setState({__e:ne.__b=null});Kn=ne.t.pop();)Kn.forceUpdate()}},qt=J.__h===!0;ne.__u++||qt||ne.setState({__e:ne.__b=ne.__v.__k[0]}),G.then(Xe,Xe)},q.prototype.componentWillUnmount=function(){this.t=[]},q.prototype.render=function(G,J){if(this.__b){if(this.__v.__k){var re=document.createElement("div"),ne=this.__v.__k[0].__c;this.__v.__k[0]=k(this.__b,re,ne.__O=ne.__P)}this.__b=null}var Me=J.__e&&Object(s.e)(s.b,null,G.fallback);return Me&&(Me.__h=null),[Object(s.e)(s.b,null,J.__e?null:G.children),Me]};var He=function(G,J,re){if(++re[1]===re[0]&&G.o.delete(J),G.props.revealOrder&&(G.props.revealOrder[0]!=="t"||!G.o.size))for(re=G.u;re;){for(;re.length>3;)re.pop()();if(re[1]<re[0])break;G.u=re=re[2]}};function nt(G){return this.getChildContext=function(){return G.context},G.children}function Ke(G){var J=this,re=G.i;J.componentWillUnmount=function(){Object(s.j)(null,J.l),J.l=null,J.i=null},J.i&&J.i!==re&&J.componentWillUnmount(),G.__v?(J.l||(J.i=re,J.l={nodeType:1,parentNode:re,childNodes:[],appendChild:function(ne){this.childNodes.push(ne),J.i.appendChild(ne)},insertBefore:function(ne,Me){this.childNodes.push(ne),J.i.appendChild(ne)},removeChild:function(ne){this.childNodes.splice(this.childNodes.indexOf(ne)>>>1,1),J.i.removeChild(ne)}}),Object(s.j)(Object(s.e)(nt,{context:J.context},G.__v),J.l)):J.l&&J.componentWillUnmount()}function it(G,J){return Object(s.e)(Ke,{__v:G,i:J})}(pe.prototype=new s.a).__e=function(G){var J=this,re=he(J.__v),ne=J.o.get(G);return ne[0]++,function(Me){var De=function(){J.props.revealOrder?(ne.push(Me),He(J,G,ne)):Me()};re?re(De):De()}},pe.prototype.render=function(G){this.u=null,this.o=new Map;var J=Object(s.k)(G.children);G.revealOrder&&G.revealOrder[0]==="b"&&J.reverse();for(var re=J.length;re--;)this.o.set(J[re],this.u=[1,0,this.u]);return G.children},pe.prototype.componentDidUpdate=pe.prototype.componentDidMount=function(){var G=this;this.o.forEach(function(J,re){He(G,re,J)})};var ve=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,lt=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ot=typeof document<"u",ze=function(G){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(G)};function et(G,J,re){return J.__k==null&&(J.textContent=""),Object(s.j)(G,J),typeof re=="function"&&re(),G?G.__c:null}function At(G,J,re){return Object(s.h)(G,J),typeof re=="function"&&re(),G?G.__c:null}s.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(G){Object.defineProperty(s.a.prototype,G,{configurable:!0,get:function(){return this["UNSAFE_"+G]},set:function(J){Object.defineProperty(this,G,{configurable:!0,writable:!0,value:J})}})});var vt=s.i.event;function Ot(){}function ae(){return this.cancelBubble}function jt(){return this.defaultPrevented}s.i.event=function(G){return vt&&(G=vt(G)),G.persist=Ot,G.isPropagationStopped=ae,G.isDefaultPrevented=jt,G.nativeEvent=G};var xt,mt={configurable:!0,get:function(){return this.class}},Vt=s.i.vnode;s.i.vnode=function(G){var J=G.type,re=G.props,ne=re;if(typeof J=="string"){var Me=J.indexOf("-")===-1;for(var De in ne={},re){var Xe=re[De];ot&&De==="children"&&J==="noscript"||De==="value"&&"defaultValue"in re&&Xe==null||(De==="defaultValue"&&"value"in re&&re.value==null?De="value":De==="download"&&Xe===!0?Xe="":/ondoubleclick/i.test(De)?De="ondblclick":/^onchange(textarea|input)/i.test(De+J)&&!ze(re.type)?De="oninput":/^onfocus$/i.test(De)?De="onfocusin":/^onblur$/i.test(De)?De="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(De)?De=De.toLowerCase():Me&&lt.test(De)?De=De.replace(/[A-Z0-9]/,"-$&").toLowerCase():Xe===null&&(Xe=void 0),ne[De]=Xe)}J=="select"&&ne.multiple&&Array.isArray(ne.value)&&(ne.value=Object(s.k)(re.children).forEach(function(yt){yt.props.selected=ne.value.indexOf(yt.props.value)!=-1})),J=="select"&&ne.defaultValue!=null&&(ne.value=Object(s.k)(re.children).forEach(function(yt){yt.props.selected=ne.multiple?ne.defaultValue.indexOf(yt.props.value)!=-1:ne.defaultValue==yt.props.value})),G.props=ne,re.class!=re.className&&(mt.enumerable="className"in re,re.className!=null&&(ne.class=re.className),Object.defineProperty(ne,"className",mt))}G.$$typeof=ve,Vt&&Vt(G)};var gr=s.i.__r;s.i.__r=function(G){gr&&gr(G),xt=G.__c};var Qt={ReactCurrentDispatcher:{current:{readContext:function(G){return xt.__n[G.__c].props.value}}}};function Mr(G){return s.e.bind(null,G)}function tt(G){return!!G&&G.$$typeof===ve}function Pt(G){return tt(G)?s.c.apply(null,arguments):G}function ar(G){return!!G.__k&&(Object(s.j)(null,G),!0)}function Ce(G){return G&&(G.base||G.nodeType===1&&G)||null}var Ye=function(G,J){return G(J)},at=function(G,J){return G(J)},Je=s.b,ct={useState:z,useReducer:U,useEffect:Y,useLayoutEffect:le,useRef:se,useImperativeHandle:te,useMemo:Q,useCallback:ee,useContext:L,useDebugValue:$,version:"17.0.2",Children:Ee,render:et,hydrate:At,unmountComponentAtNode:ar,createPortal:it,createElement:s.e,createContext:s.d,createFactory:Mr,cloneElement:Pt,createRef:s.f,Fragment:s.b,isValidElement:tt,findDOMNode:Ce,Component:s.a,PureComponent:Se,memo:Oe,forwardRef:Ve,flushSync:at,unstable_batchedUpdates:Ye,StrictMode:Je,Suspense:q,SuspenseList:pe,lazy:xe,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Qt};c.d=ct},function(u,c,i){var s=i(7),l=i(147),y=i(148),b=i(179),x=i(57),S=function(w){if(w&&w.forEach!==b)try{x(w,"forEach",b)}catch{w.forEach=b}};for(var T in l)l[T]&&S(s[T]&&s[T].prototype);S(y)},function(u,c,i){var s=i(16),l=i(97);s({target:"Object",stat:!0},{setPrototypeOf:l})},function(u,c,i){var s=i(16),l=i(18),y=i(38),b=i(96),x=i(137),S=l(function(){b(1)});s({target:"Object",stat:!0,forced:S,sham:!x},{getPrototypeOf:function(w){return b(y(w))}})},function(u,c,i){var s=i(16),l=i(46),y=i(77),b=i(199),x=i(157),S=i(32),T=i(33),w=i(54),M=i(18),j=l("Reflect","construct"),R=Object.prototype,_=[].push,z=M(function(){function le(){}return!(j(function(){},[],le)instanceof le)}),U=!M(function(){j(function(){})}),Y=z||U;s({target:"Reflect",stat:!0,forced:Y,sham:Y},{construct:function(se,te){x(se),S(te);var Q=arguments.length<3?se:x(arguments[2]);if(U&&!z)return j(se,te,Q);if(se==Q){switch(te.length){case 0:return new se;case 1:return new se(te[0]);case 2:return new se(te[0],te[1]);case 3:return new se(te[0],te[1],te[2]);case 4:return new se(te[0],te[1],te[2],te[3])}var ee=[null];return y(_,ee,te),new(y(b,se,ee))}var L=Q.prototype,$=w(T(L)?L:R),I=y(se,$,te);return T(I)?I:$}})},function(u,c){var i=Function.prototype,s=i.bind,l=i.call,y=s&&s.bind(l);u.exports=s?function(b){return b&&y(l,b)}:function(b){return b&&function(){return l.apply(b,arguments)}}},function(u,c,i){var s=i(7),l=i(51).f,y=i(57),b=i(44),x=i(108),S=i(134),T=i(95);u.exports=function(w,M){var j=w.target,R=w.global,_=w.stat,z,U,Y,le,se,te;if(R?U=s:_?U=s[j]||x(j,{}):U=(s[j]||{}).prototype,U)for(Y in M){if(se=M[Y],w.noTargetGet?(te=l(U,Y),le=te&&te.value):le=U[Y],z=T(R?Y:j+(_?".":"#")+Y,w.forced),!z&&le!==void 0){if(typeof se==typeof le)continue;S(se,le)}(w.sham||le&&le.sham)&&y(se,"sham",!0),b(U,Y,se,w)}}},function(u,c,i){var s=i(16),l=i(7),y=i(99),b=i(100),x=i(33),S=i(68),T=i(43),w=i(39),M=i(61),j=i(27),R=i(76),_=i(101),z=R("slice"),U=j("species"),Y=l.Array,le=Math.max;s({target:"Array",proto:!0,forced:!z},{slice:function(te,Q){var ee=w(this),L=T(ee),$=S(te,L),I=S(Q===void 0?L:Q,L),A,C,W;if(y(ee)&&(A=ee.constructor,b(A)&&(A===Y||y(A.prototype))?A=void 0:x(A)&&(A=A[U],A===null&&(A=void 0)),A===Y||A===void 0))return _(ee,$,I);for(C=new(A===void 0?Y:A)(le(I-$,0)),W=0;$<I;$++,W++)$ in ee&&M(C,W,ee[$]);return C.length=W,C}})},function(u,c){u.exports=function(i){try{return!!i()}catch{return!0}}},function(u,c,i){var s=i(16),l=i(102);s({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},function(u,c,i){var s=i(16),l=i(38),y=i(67),b=i(18),x=b(function(){y(1)});s({target:"Object",stat:!0,forced:x},{keys:function(T){return y(l(T))}})},function(u,c,i){var s=i(16),l=i(18),y=i(39),b=i(51).f,x=i(36),S=l(function(){b(1)}),T=!x||S;s({target:"Object",stat:!0,forced:T,sham:!x},{getOwnPropertyDescriptor:function(M,j){return b(y(M),j)}})},function(u,c,i){var s=i(16),l=i(75).filter,y=i(76),b=y("filter");s({target:"Array",proto:!0,forced:!b},{filter:function(S){return l(this,S,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var s=i(36),l=i(94).EXISTS,y=i(15),b=i(37).f,x=Function.prototype,S=y(x.toString),T=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,w=y(T.exec),M="name";s&&!l&&b(x,M,{configurable:!0,get:function(){try{return w(T,S(this))[1]}catch{return""}}})},function(u,c,i){var s=i(16),l=i(36),y=i(135),b=i(39),x=i(51),S=i(61);s({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(w){for(var M=b(w),j=x.f,R=y(M),_={},z=0,U,Y;R.length>z;)Y=j(M,U=R[z++]),Y!==void 0&&S(_,U,Y);return _}})},function(u,c,i){var s=i(16),l=i(182),y=i(118),b=!y(function(x){Array.from(x)});s({target:"Array",stat:!0,forced:b},{from:l})},,function(u,c,i){var s=i(7),l=i(84),y=i(34),b=i(85),x=i(109),S=i(128),T=l("wks"),w=s.Symbol,M=w&&w.for,j=S?w:w&&w.withoutSetter||b;u.exports=function(R){if(!y(T,R)||!(x||typeof T[R]=="string")){var _="Symbol."+R;x&&y(w,R)?T[R]=w[R]:S&&M?T[R]=M(_):T[R]=j(_)}return T[R]}},function(u,c){u.exports=function(i){return typeof i=="function"}},function(u,c,i){var s=i(16),l=i(7),y=i(18),b=i(99),x=i(33),S=i(38),T=i(43),w=i(61),M=i(119),j=i(76),R=i(27),_=i(66),z=R("isConcatSpreadable"),U=9007199254740991,Y="Maximum allowed index exceeded",le=l.TypeError,se=_>=51||!y(function(){var L=[];return L[z]=!1,L.concat()[0]!==L}),te=j("concat"),Q=function(L){if(!x(L))return!1;var $=L[z];return $!==void 0?!!$:b(L)},ee=!se||!te;s({target:"Array",proto:!0,forced:ee},{concat:function($){var I=S(this),A=M(I,0),C=0,W,Z,ce,Pe,me;for(W=-1,ce=arguments.length;W<ce;W++)if(me=W===-1?I:arguments[W],Q(me)){if(Pe=T(me),C+Pe>U)throw le(Y);for(Z=0;Z<Pe;Z++,C++)Z in me&&w(A,C,me[Z])}else{if(C>=U)throw le(Y);w(A,C++,me)}return A.length=C,A}})},function(u,c,i){var s=i(16),l=i(198);s({target:"Object",stat:!0,forced:Object.assign!==l},{assign:l})},function(u,c,i){var s=i(105),l=typeof self=="object"&&self&&self.Object===Object&&self,y=s.a||l||Function("return this")();c.a=y},function(u,c,i){var s=i(7),l=i(33),y=s.String,b=s.TypeError;u.exports=function(x){if(l(x))return x;throw b(y(x)+" is not an object")}},function(u,c,i){var s=i(28);u.exports=function(l){return typeof l=="object"?l!==null:s(l)}},function(u,c,i){var s=i(15),l=i(38),y=s({}.hasOwnProperty);u.exports=Object.hasOwn||function(x,S){return y(l(x),S)}},function(u,c){var i=Function.prototype.call;u.exports=i.bind?i.bind(i):function(){return i.apply(i,arguments)}},function(u,c,i){var s=i(18);u.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(u,c,i){var s=i(7),l=i(36),y=i(129),b=i(32),x=i(87),S=s.TypeError,T=Object.defineProperty;c.f=l?T:function(M,j,R){if(b(M),j=x(j),b(R),y)try{return T(M,j,R)}catch{}if("get"in R||"set"in R)throw S("Accessors not supported");return"value"in R&&(M[j]=R.value),M}},function(u,c,i){var s=i(7),l=i(45),y=s.Object;u.exports=function(b){return y(l(b))}},function(u,c,i){var s=i(81),l=i(45);u.exports=function(y){return s(l(y))}},function(u,c,i){var s=i(7),l=i(98),y=s.String;u.exports=function(b){if(l(b)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return y(b)}},function(u,c,i){var s=i(16),l=i(75).map,y=i(76),b=y("map");s({target:"Array",proto:!0,forced:!b},{map:function(S){return l(this,S,arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){(function(s){i.d(c,"d",function(){return b}),i.d(c,"c",function(){return x}),i.d(c,"b",function(){return S}),i.d(c,"a",function(){return w});var l=i(10),y=function(M,j){var R=typeof Symbol=="function"&&M[Symbol.iterator];if(!R)return M;var _=R.call(M),z,U=[],Y;try{for(;(j===void 0||j-- >0)&&!(z=_.next()).done;)U.push(z.value)}catch(le){Y={error:le}}finally{try{z&&!z.done&&(R=_.return)&&R.call(_)}finally{if(Y)throw Y.error}}return U};function b(){var M=y(Object(l.j)(0),2),j=M[1],R=Object(l.h)(function(){j(function(_){return _+1})},[]);return R}function x(M){if(!M||typeof M!="object")return!1;var j=Object.getPrototypeOf(M);return!j||j===Object.prototype}function S(M){return typeof Symbol=="function"?Symbol.for(M):"__$mobx-react "+M+"__"}var T={};function w(){return typeof window<"u"?window:typeof s<"u"?s:typeof self<"u"?self:T}}).call(this,i(82))},function(u,c,i){var s=i(90);u.exports=function(l){return s(l.length)}},function(u,c,i){var s=i(7),l=i(28),y=i(34),b=i(57),x=i(108),S=i(92),T=i(56),w=i(94).CONFIGURABLE,M=T.get,j=T.enforce,R=String(String).split("String");(u.exports=function(_,z,U,Y){var le=Y?!!Y.unsafe:!1,se=Y?!!Y.enumerable:!1,te=Y?!!Y.noTargetGet:!1,Q=Y&&Y.name!==void 0?Y.name:z,ee;if(l(U)&&(String(Q).slice(0,7)==="Symbol("&&(Q="["+String(Q).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!y(U,"name")||w&&U.name!==Q)&&b(U,"name",Q),ee=j(U),ee.source||(ee.source=R.join(typeof Q=="string"?Q:""))),_===s){se?_[z]=U:x(z,U);return}else le?!te&&_[z]&&(se=!0):delete _[z];se?_[z]=U:b(_,z,U)})(Function.prototype,"toString",function(){return l(this)&&M(this).source||S(this)})},function(u,c,i){var s=i(7),l=s.TypeError;u.exports=function(y){if(y==null)throw l("Can't call method on "+y);return y}},function(u,c,i){var s=i(7),l=i(28),y=function(b){return l(b)?b:void 0};u.exports=function(b,x){return arguments.length<2?y(s[b]):s[b]&&s[b][x]}},function(u,c,i){var s=i(16),l=i(35),y=i(33),b=i(32),x=i(200),S=i(51),T=i(96);function w(M,j){var R=arguments.length<3?M:arguments[2],_,z;if(b(M)===R)return M[j];if(_=S.f(M,j),_)return x(_)?_.value:_.get===void 0?void 0:l(_.get,R);if(y(z=T(M)))return w(z,j,R)}s({target:"Reflect",stat:!0},{get:w})},function(u,c,i){(function(s){var l=i(31),y=i(165),b=v&&!v.nodeType&&v,x=b&&typeof s=="object"&&s&&!s.nodeType&&s,S=x&&x.exports===b,T=S?l.a.Buffer:void 0,w=T?T.isBuffer:void 0,M=w||y.a;c.a=M}).call(this,i(121)(u))},function(u,c,i){(function(s){var l=i(105),y=v&&!v.nodeType&&v,b=y&&typeof s=="object"&&s&&!s.nodeType&&s,x=b&&b.exports===y,S=x&&l.a.process,T=function(){try{var w=b&&b.require&&b.require("util").types;return w||S&&S.binding&&S.binding("util")}catch{}}();c.a=T}).call(this,i(121)(u))},function(u,c,i){var s=i(15),l=s({}.toString),y=s("".slice);u.exports=function(b){return y(l(b),8,-1)}},function(u,c,i){var s=i(36),l=i(35),y=i(93),b=i(72),x=i(39),S=i(87),T=i(34),w=i(129),M=Object.getOwnPropertyDescriptor;c.f=s?M:function(R,_){if(R=x(R),_=S(_),w)try{return M(R,_)}catch{}if(T(R,_))return b(!l(y.f,R,_),R[_])}},function(u,c,i){var s=i(16),l=i(213).entries;s({target:"Object",stat:!0},{entries:function(b){return l(b)}})},function(u,c,i){var s=i(46);u.exports=s("navigator","userAgent")||""},function(u,c,i){var s=i(32),l=i(168),y=i(110),b=i(70),x=i(133),S=i(86),T=i(91),w=">",M="<",j="prototype",R="script",_=T("IE_PROTO"),z=function(){},U=function(Q){return M+R+w+Q+M+"/"+R+w},Y=function(Q){Q.write(U("")),Q.close();var ee=Q.parentWindow.Object;return Q=null,ee},le=function(){var Q=S("iframe"),ee="java"+R+":",L;return Q.style.display="none",x.appendChild(Q),Q.src=String(ee),L=Q.contentWindow.document,L.open(),L.write(U("document.F=Object")),L.close(),L.F},se,te=function(){try{se=new ActiveXObject("htmlfile")}catch{}te=typeof document<"u"?document.domain&&se?Y(se):le():Y(se);for(var Q=y.length;Q--;)delete te[j][y[Q]];return te()};b[_]=!0,u.exports=Object.create||function(ee,L){var $;return ee!==null?(z[j]=s(ee),$=new z,z[j]=null,$[_]=ee):$=te(),L===void 0?$:l($,L)}},function(u,c,i){var s=i(7),l=i(28),y=i(89),b=s.TypeError;u.exports=function(x){if(l(x))return x;throw b(y(x)+" is not a function")}},function(u,c,i){var s=i(170),l=i(7),y=i(15),b=i(33),x=i(57),S=i(34),T=i(107),w=i(91),M=i(70),j="Object already initialized",R=l.TypeError,_=l.WeakMap,z,U,Y,le=function(I){return Y(I)?U(I):z(I,{})},se=function(I){return function(A){var C;if(!b(A)||(C=U(A)).type!==I)throw R("Incompatible receiver, "+I+" required");return C}};if(s||T.state){var te=T.state||(T.state=new _),Q=y(te.get),ee=y(te.has),L=y(te.set);z=function(I,A){if(ee(te,I))throw new R(j);return A.facade=I,L(te,I,A),A},U=function(I){return Q(te,I)||{}},Y=function(I){return ee(te,I)}}else{var $=w("state");M[$]=!0,z=function(I,A){if(S(I,$))throw new R(j);return A.facade=I,x(I,$,A),A},U=function(I){return S(I,$)?I[$]:{}},Y=function(I){return S(I,$)}}u.exports={set:z,get:U,has:Y,enforce:le,getterFor:se}},function(u,c,i){var s=i(36),l=i(37),y=i(72);u.exports=s?function(b,x,S){return l.f(b,x,y(1,S))}:function(b,x,S){return b[x]=S,b}},function(u,c,i){var s=i(15);u.exports=s({}.isPrototypeOf)},function(u,c,i){var s=i(55);u.exports=function(l,y){var b=l[y];return b==null?void 0:s(b)}},function(u,c,i){var s=i(173),l=i(177);s("Map",function(y){return function(){return y(this,arguments.length?arguments[0]:void 0)}},l)},function(u,c,i){var s=i(87),l=i(37),y=i(72);u.exports=function(b,x,S){var T=s(x);T in b?l.f(b,T,y(0,S)):b[T]=S}},function(u,c,i){var s=i(15),l=i(55),y=s(s.bind);u.exports=function(b,x){return l(b),x===void 0?b:y?y(b,x):function(){return b.apply(x,arguments)}}},function(u,c,i){var s=i(16),l=i(15),y=i(81),b=i(39),x=i(120),S=l([].join),T=y!=Object,w=x("join",",");s({target:"Array",proto:!0,forced:T||!w},{join:function(j){return S(b(this),j===void 0?",":j)}})},function(u,c,i){var s=i(16),l=i(214),y=i(83);s({target:"Array",proto:!0},{fill:l}),y("fill")},function(u,c){u.exports=!1},function(u,c,i){var s=i(7),l=i(53),y=s.process,b=s.Deno,x=y&&y.versions||b&&b.version,S=x&&x.v8,T,w;S&&(T=S.split("."),w=T[0]>0&&T[0]<4?1:+(T[0]+T[1])),!w&&l&&(T=l.match(/Edge\/(\d+)/),(!T||T[1]>=74)&&(T=l.match(/Chrome\/(\d+)/),T&&(w=+T[1]))),u.exports=w},function(u,c,i){var s=i(131),l=i(110);u.exports=Object.keys||function(b){return s(b,l)}},function(u,c,i){var s=i(69),l=Math.max,y=Math.min;u.exports=function(b,x){var S=s(b);return S<0?l(S+x,0):y(S,x)}},function(u,c){var i=Math.ceil,s=Math.floor;u.exports=function(l){var y=+l;return y!==y||y===0?0:(y>0?s:i)(y)}},function(u,c){u.exports={}},function(u,c){u.exports={}},function(u,c){u.exports=function(i,s){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:s}}},function(u,c,i){var s=i(131),l=i(110),y=l.concat("length","prototype");c.f=Object.getOwnPropertyNames||function(x){return s(x,y)}},function(u,c,i){var s=i(37).f,l=i(34),y=i(27),b=y("toStringTag");u.exports=function(x,S,T){x&&!l(x=T?x:x.prototype,b)&&s(x,b,{configurable:!0,value:S})}},function(u,c,i){var s=i(62),l=i(15),y=i(81),b=i(38),x=i(43),S=i(119),T=l([].push),w=function(M){var j=M==1,R=M==2,_=M==3,z=M==4,U=M==6,Y=M==7,le=M==5||U;return function(se,te,Q,ee){for(var L=b(se),$=y(L),I=s(te,Q),A=x($),C=0,W=ee||S,Z=j?W(se,A):R||Y?W(se,0):void 0,ce,Pe;A>C;C++)if((le||C in $)&&(ce=$[C],Pe=I(ce,C,L),M))if(j)Z[C]=Pe;else if(Pe)switch(M){case 3:return!0;case 5:return ce;case 6:return C;case 2:T(Z,ce)}else switch(M){case 4:return!1;case 7:T(Z,ce)}return U?-1:_||z?z:Z}};u.exports={forEach:w(0),map:w(1),filter:w(2),some:w(3),every:w(4),find:w(5),findIndex:w(6),filterReject:w(7)}},function(u,c,i){var s=i(18),l=i(27),y=i(66),b=l("species");u.exports=function(x){return y>=51||!s(function(){var S=[],T=S.constructor={};return T[b]=function(){return{foo:1}},S[x](Boolean).foo!==1})}},function(u,c){var i=Function.prototype,s=i.apply,l=i.bind,y=i.call;u.exports=typeof Reflect=="object"&&Reflect.apply||(l?y.bind(s):function(){return y.apply(s,arguments)})},function(u,c,i){var s=i(77),l=i(35),y=i(15),b=i(122),x=i(154),S=i(32),T=i(45),w=i(156),M=i(123),j=i(90),R=i(40),_=i(59),z=i(113),U=i(124),Y=i(102),le=i(151),se=i(18),te=le.UNSUPPORTED_Y,Q=4294967295,ee=Math.min,L=[].push,$=y(/./.exec),I=y(L),A=y("".slice),C=!se(function(){var W=/(?:)/,Z=W.exec;W.exec=function(){return Z.apply(this,arguments)};var ce="ab".split(W);return ce.length!==2||ce[0]!=="a"||ce[1]!=="b"});b("split",function(W,Z,ce){var Pe;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?Pe=function(me,be){var Se=R(T(this)),Oe=be===void 0?Q:be>>>0;if(Oe===0)return[];if(me===void 0)return[Se];if(!x(me))return l(Z,Se,me,Oe);for(var Ae=[],Fe=(me.ignoreCase?"i":"")+(me.multiline?"m":"")+(me.unicode?"u":"")+(me.sticky?"y":""),Ve=0,Be=new RegExp(me.source,Fe+"g"),Ee,Le,Ue;(Ee=l(Y,Be,Se))&&(Le=Be.lastIndex,!(Le>Ve&&(I(Ae,A(Se,Ve,Ee.index)),Ee.length>1&&Ee.index<Se.length&&s(L,Ae,z(Ee,1)),Ue=Ee[0].length,Ve=Le,Ae.length>=Oe)));)Be.lastIndex===Ee.index&&Be.lastIndex++;return Ve===Se.length?(Ue||!$(Be,""))&&I(Ae,""):I(Ae,A(Se,Ve)),Ae.length>Oe?z(Ae,0,Oe):Ae}:"0".split(void 0,0).length?Pe=function(me,be){return me===void 0&&be===0?[]:l(Z,this,me,be)}:Pe=Z,[function(be,Se){var Oe=T(this),Ae=be==null?void 0:_(be,W);return Ae?l(Ae,be,Oe,Se):l(Pe,R(Oe),be,Se)},function(me,be){var Se=S(this),Oe=R(me),Ae=ce(Pe,Se,Oe,be,Pe!==Z);if(Ae.done)return Ae.value;var Fe=w(Se,RegExp),Ve=Se.unicode,Be=(Se.ignoreCase?"i":"")+(Se.multiline?"m":"")+(Se.unicode?"u":"")+(te?"g":"y"),Ee=new Fe(te?"^(?:"+Se.source+")":Se,Be),Le=be===void 0?Q:be>>>0;if(Le===0)return[];if(Oe.length===0)return U(Ee,Oe)===null?[Oe]:[];for(var Ue=0,k=0,X=[];k<Oe.length;){Ee.lastIndex=te?0:k;var q=U(Ee,te?A(Oe,k):Oe),he;if(q===null||(he=ee(j(Ee.lastIndex+(te?k:0)),Oe.length))===Ue)k=M(Oe,k,Ve);else{if(I(X,A(Oe,Ue,k)),X.length===Le)return X;for(var xe=1;xe<=q.length-1;xe++)if(I(X,q[xe]),X.length===Le)return X;k=Ue=he}}return I(X,A(Oe,Ue)),X}]},!C,te)},function(u,c,i){var s=i(36),l=i(7),y=i(15),b=i(95),x=i(44),S=i(34),T=i(143),w=i(58),M=i(88),j=i(130),R=i(18),_=i(73).f,z=i(51).f,U=i(37).f,Y=i(196),le=i(159).trim,se="Number",te=l[se],Q=te.prototype,ee=l.TypeError,L=y("".slice),$=y("".charCodeAt),I=function(Pe){var me=j(Pe,"number");return typeof me=="bigint"?me:A(me)},A=function(Pe){var me=j(Pe,"number"),be,Se,Oe,Ae,Fe,Ve,Be,Ee;if(M(me))throw ee("Cannot convert a Symbol value to a number");if(typeof me=="string"&&me.length>2){if(me=le(me),be=$(me,0),be===43||be===45){if(Se=$(me,2),Se===88||Se===120)return NaN}else if(be===48){switch($(me,1)){case 66:case 98:Oe=2,Ae=49;break;case 79:case 111:Oe=8,Ae=55;break;default:return+me}for(Fe=L(me,2),Ve=Fe.length,Be=0;Be<Ve;Be++)if(Ee=$(Fe,Be),Ee<48||Ee>Ae)return NaN;return parseInt(Fe,Oe)}}return+me};if(b(se,!te(" 0o1")||!te("0b1")||te("+0x1"))){for(var C=function(me){var be=arguments.length<1?0:te(I(me)),Se=this;return w(Q,Se)&&R(function(){Y(Se)})?T(Object(be),Se,C):be},W=s?_(te):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),Z=0,ce;W.length>Z;Z++)S(te,ce=W[Z])&&!S(C,ce)&&U(C,ce,z(te,ce));C.prototype=Q,Q.constructor=C,x(l,se,C)}},function(u,c,i){var s=i(16);s({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(u,c,i){var s=i(7),l=i(15),y=i(18),b=i(50),x=s.Object,S=l("".split);u.exports=y(function(){return!x("z").propertyIsEnumerable(0)})?function(T){return b(T)=="String"?S(T,""):x(T)}:x},function(u,c){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch{typeof window=="object"&&(i=window)}u.exports=i},function(u,c,i){var s=i(27),l=i(54),y=i(37),b=s("unscopables"),x=Array.prototype;x[b]==null&&y.f(x,b,{configurable:!0,value:l(null)}),u.exports=function(S){x[b][S]=!0}},function(u,c,i){var s=i(65),l=i(107);(u.exports=function(y,b){return l[y]||(l[y]=b!==void 0?b:{})})("versions",[]).push({version:"3.19.3",mode:s?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},function(u,c,i){var s=i(15),l=0,y=Math.random(),b=s(1 .toString);u.exports=function(x){return"Symbol("+(x===void 0?"":x)+")_"+b(++l+y,36)}},function(u,c,i){var s=i(7),l=i(33),y=s.document,b=l(y)&&l(y.createElement);u.exports=function(x){return b?y.createElement(x):{}}},function(u,c,i){var s=i(130),l=i(88);u.exports=function(y){var b=s(y,"string");return l(b)?b:b+""}},function(u,c,i){var s=i(7),l=i(46),y=i(28),b=i(58),x=i(128),S=s.Object;u.exports=x?function(T){return typeof T=="symbol"}:function(T){var w=l("Symbol");return y(w)&&b(w.prototype,S(T))}},function(u,c,i){var s=i(7),l=s.String;u.exports=function(y){try{return l(y)}catch{return"Object"}}},function(u,c,i){var s=i(69),l=Math.min;u.exports=function(y){return y>0?l(s(y),9007199254740991):0}},function(u,c,i){var s=i(84),l=i(85),y=s("keys");u.exports=function(b){return y[b]||(y[b]=l(b))}},function(u,c,i){var s=i(15),l=i(28),y=i(107),b=s(Function.toString);l(y.inspectSource)||(y.inspectSource=function(x){return b(x)}),u.exports=y.inspectSource},function(u,c,i){var s={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,y=l&&!s.call({1:2},1);c.f=y?function(x){var S=l(this,x);return!!S&&S.enumerable}:s},function(u,c,i){var s=i(36),l=i(34),y=Function.prototype,b=s&&Object.getOwnPropertyDescriptor,x=l(y,"name"),S=x&&function(){}.name==="something",T=x&&(!s||s&&b(y,"name").configurable);u.exports={EXISTS:x,PROPER:S,CONFIGURABLE:T}},function(u,c,i){var s=i(18),l=i(28),y=/#|\.prototype\./,b=function(M,j){var R=S[x(M)];return R==w?!0:R==T?!1:l(j)?s(j):!!j},x=b.normalize=function(M){return String(M).replace(y,".").toLowerCase()},S=b.data={},T=b.NATIVE="N",w=b.POLYFILL="P";u.exports=b},function(u,c,i){var s=i(7),l=i(34),y=i(28),b=i(38),x=i(91),S=i(137),T=x("IE_PROTO"),w=s.Object,M=w.prototype;u.exports=S?w.getPrototypeOf:function(j){var R=b(j);if(l(R,T))return R[T];var _=R.constructor;return y(_)&&R instanceof _?_.prototype:R instanceof w?M:null}},function(u,c,i){var s=i(15),l=i(32),y=i(172);u.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var b=!1,x={},S;try{S=s(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),S(x,[]),b=x instanceof Array}catch{}return function(w,M){return l(w),y(M),b?S(w,M):w.__proto__=M,w}}():void 0)},function(u,c,i){var s=i(7),l=i(116),y=i(28),b=i(50),x=i(27),S=x("toStringTag"),T=s.Object,w=b(function(){return arguments}())=="Arguments",M=function(j,R){try{return j[R]}catch{}};u.exports=l?b:function(j){var R,_,z;return j===void 0?"Undefined":j===null?"Null":typeof(_=M(R=T(j),S))=="string"?_:w?b(R):(z=b(R))=="Object"&&y(R.callee)?"Arguments":z}},function(u,c,i){var s=i(50);u.exports=Array.isArray||function(y){return s(y)=="Array"}},function(u,c,i){var s=i(15),l=i(18),y=i(28),b=i(98),x=i(46),S=i(92),T=function(){},w=[],M=x("Reflect","construct"),j=/^\s*(?:class|function)\b/,R=s(j.exec),_=!j.exec(T),z=function(Y){if(!y(Y))return!1;try{return M(T,w,Y),!0}catch{return!1}},U=function(Y){if(!y(Y))return!1;switch(b(Y)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return _||!!R(j,S(Y))};u.exports=!M||l(function(){var Y;return z(z.call)||!z(Object)||!z(function(){Y=!0})||Y})?U:z},function(u,c,i){var s=i(15);u.exports=s([].slice)},function(u,c,i){var s=i(35),l=i(15),y=i(40),b=i(184),x=i(151),S=i(84),T=i(54),w=i(56).get,M=i(185),j=i(186),R=S("native-string-replace",String.prototype.replace),_=RegExp.prototype.exec,z=_,U=l("".charAt),Y=l("".indexOf),le=l("".replace),se=l("".slice),te=function(){var $=/a/,I=/b*/g;return s(_,$,"a"),s(_,I,"a"),$.lastIndex!==0||I.lastIndex!==0}(),Q=x.BROKEN_CARET,ee=/()??/.exec("")[1]!==void 0,L=te||ee||Q||M||j;L&&(z=function(I){var A=this,C=w(A),W=y(I),Z=C.raw,ce,Pe,me,be,Se,Oe,Ae;if(Z)return Z.lastIndex=A.lastIndex,ce=s(z,Z,W),A.lastIndex=Z.lastIndex,ce;var Fe=C.groups,Ve=Q&&A.sticky,Be=s(b,A),Ee=A.source,Le=0,Ue=W;if(Ve&&(Be=le(Be,"y",""),Y(Be,"g")===-1&&(Be+="g"),Ue=se(W,A.lastIndex),A.lastIndex>0&&(!A.multiline||A.multiline&&U(W,A.lastIndex-1)!==`
`)&&(Ee="(?: "+Ee+")",Ue=" "+Ue,Le++),Pe=new RegExp("^(?:"+Ee+")",Be)),ee&&(Pe=new RegExp("^"+Ee+"$(?!\\s)",Be)),te&&(me=A.lastIndex),be=s(_,Ve?Pe:A,Ue),Ve?be?(be.input=se(be.input,Le),be[0]=se(be[0],Le),be.index=A.lastIndex,A.lastIndex+=be[0].length):A.lastIndex=0:te&&be&&(A.lastIndex=A.global?be.index+be[0].length:me),ee&&be&&be.length>1&&s(R,be[0],Pe,function(){for(Se=1;Se<arguments.length-2;Se++)arguments[Se]===void 0&&(be[Se]=void 0)}),be&&Fe)for(be.groups=Oe=T(null),Se=0;Se<Fe.length;Se++)Ae=Fe[Se],Oe[Ae[0]]=be[Ae[1]];return be}),u.exports=z},function(u,c,i){var s=i(16),l=i(7),y=i(68),b=i(69),x=i(43),S=i(38),T=i(119),w=i(61),M=i(76),j=M("splice"),R=l.TypeError,_=Math.max,z=Math.min,U=9007199254740991,Y="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!j},{splice:function(se,te){var Q=S(this),ee=x(Q),L=y(se,ee),$=arguments.length,I,A,C,W,Z,ce;if($===0?I=A=0:$===1?(I=0,A=ee-L):(I=$-2,A=z(_(b(te),0),ee-L)),ee+I-A>U)throw R(Y);for(C=T(Q,A),W=0;W<A;W++)Z=L+W,Z in Q&&w(C,W,Q[Z]);if(C.length=A,I<A){for(W=L;W<ee-A;W++)Z=W+A,ce=W+I,Z in Q?Q[ce]=Q[Z]:delete Q[ce];for(W=ee;W>ee-A+I;W--)delete Q[W-1]}else if(I>A)for(W=ee-A;W>L;W--)Z=W+A-1,ce=W+I-1,Z in Q?Q[ce]=Q[Z]:delete Q[ce];for(W=0;W<I;W++)Q[W+L]=arguments[W+2];return Q.length=ee-A+I,C}})},function(u,c,i){var s=i(16),l=i(201),y=i(202);s({target:"String",proto:!0,forced:y("anchor")},{anchor:function(x){return l(this,"a","name",x)}})},function(u,c,i){(function(s){var l=typeof s=="object"&&s&&s.Object===Object&&s;c.a=l}).call(this,i(82))},function(u,c,i){(function(s){var l=i(31),y=v&&!v.nodeType&&v,b=y&&typeof s=="object"&&s&&!s.nodeType&&s,x=b&&b.exports===y,S=x?l.a.Buffer:void 0,T=S?S.allocUnsafe:void 0;function w(M,j){if(j)return M.slice();var R=M.length,_=T?T(R):new M.constructor(R);return M.copy(_),_}c.a=w}).call(this,i(121)(u))},function(u,c,i){var s=i(7),l=i(108),y="__core-js_shared__",b=s[y]||l(y,{});u.exports=b},function(u,c,i){var s=i(7),l=Object.defineProperty;u.exports=function(y,b){try{l(s,y,{value:b,configurable:!0,writable:!0})}catch{s[y]=b}return b}},function(u,c,i){var s=i(66),l=i(18);u.exports=!!Object.getOwnPropertySymbols&&!l(function(){var y=Symbol();return!String(y)||!(Object(y)instanceof Symbol)||!Symbol.sham&&s&&s<41})},function(u,c){u.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(u,c,i){var s=i(16),l=i(35),y=i(65),b=i(94),x=i(28),S=i(171),T=i(96),w=i(97),M=i(74),j=i(57),R=i(44),_=i(27),z=i(71),U=i(136),Y=b.PROPER,le=b.CONFIGURABLE,se=U.IteratorPrototype,te=U.BUGGY_SAFARI_ITERATORS,Q=_("iterator"),ee="keys",L="values",$="entries",I=function(){return this};u.exports=function(A,C,W,Z,ce,Pe,me){S(W,C,Z);var be=function(k){if(k===ce&&Ve)return Ve;if(!te&&k in Ae)return Ae[k];switch(k){case ee:return function(){return new W(this,k)};case L:return function(){return new W(this,k)};case $:return function(){return new W(this,k)}}return function(){return new W(this)}},Se=C+" Iterator",Oe=!1,Ae=A.prototype,Fe=Ae[Q]||Ae["@@iterator"]||ce&&Ae[ce],Ve=!te&&Fe||be(ce),Be=C=="Array"&&Ae.entries||Fe,Ee,Le,Ue;if(Be&&(Ee=T(Be.call(new A)),Ee!==Object.prototype&&Ee.next&&(!y&&T(Ee)!==se&&(w?w(Ee,se):x(Ee[Q])||R(Ee,Q,I)),M(Ee,Se,!0,!0),y&&(z[Se]=I))),Y&&ce==L&&Fe&&Fe.name!==L&&(!y&&le?j(Ae,"name",L):(Oe=!0,Ve=function(){return l(Fe,this)})),ce)if(Le={values:be(L),keys:Pe?Ve:be(ee),entries:be($)},me)for(Ue in Le)(te||Oe||!(Ue in Ae))&&R(Ae,Ue,Le[Ue]);else s({target:C,proto:!0,forced:te||Oe},Le);return(!y||me)&&Ae[Q]!==Ve&&R(Ae,Q,Ve,{name:ce}),z[C]=Ve,Le}},function(u,c){c.f=Object.getOwnPropertySymbols},function(u,c,i){var s=i(7),l=i(68),y=i(43),b=i(61),x=s.Array,S=Math.max;u.exports=function(T,w,M){for(var j=y(T),R=l(w,j),_=l(M===void 0?j:M,j),z=x(S(_-R,0)),U=0;R<_;R++,U++)b(z,U,T[R]);return z.length=U,z}},function(u,c,i){var s=i(7),l=i(62),y=i(35),b=i(32),x=i(89),S=i(140),T=i(43),w=i(58),M=i(141),j=i(115),R=i(142),_=s.TypeError,z=function(Y,le){this.stopped=Y,this.result=le},U=z.prototype;u.exports=function(Y,le,se){var te=se&&se.that,Q=!!(se&&se.AS_ENTRIES),ee=!!(se&&se.IS_ITERATOR),L=!!(se&&se.INTERRUPTED),$=l(le,te),I,A,C,W,Z,ce,Pe,me=function(Se){return I&&R(I,"normal",Se),new z(!0,Se)},be=function(Se){return Q?(b(Se),L?$(Se[0],Se[1],me):$(Se[0],Se[1])):L?$(Se,me):$(Se)};if(ee)I=Y;else{if(A=j(Y),!A)throw _(x(Y)+" is not iterable");if(S(A)){for(C=0,W=T(Y);W>C;C++)if(Z=be(Y[C]),Z&&w(U,Z))return Z;return new z(!1)}I=M(Y,A)}for(ce=I.next;!(Pe=y(ce,I)).done;){try{Z=be(Pe.value)}catch(Se){R(I,"throw",Se)}if(typeof Z=="object"&&Z&&w(U,Z))return Z}return new z(!1)}},function(u,c,i){var s=i(98),l=i(59),y=i(71),b=i(27),x=b("iterator");u.exports=function(S){if(S!=null)return l(S,x)||l(S,"@@iterator")||y[s(S)]}},function(u,c,i){var s=i(27),l=s("toStringTag"),y={};y[l]="z",u.exports=String(y)==="[object z]"},function(u,c,i){var s=i(7),l=i(58),y=s.TypeError;u.exports=function(b,x){if(l(x,b))return b;throw y("Incorrect invocation")}},function(u,c,i){var s=i(27),l=s("iterator"),y=!1;try{var b=0,x={next:function(){return{done:!!b++}},return:function(){y=!0}};x[l]=function(){return this},Array.from(x,function(){throw 2})}catch{}u.exports=function(S,T){if(!T&&!y)return!1;var w=!1;try{var M={};M[l]=function(){return{next:function(){return{done:w=!0}}}},S(M)}catch{}return w}},function(u,c,i){var s=i(180);u.exports=function(l,y){return new(s(l))(y===0?0:y)}},function(u,c,i){var s=i(18);u.exports=function(l,y){var b=[][l];return!!b&&s(function(){b.call(null,y||function(){throw 1},1)})}},function(u,c){u.exports=function(i){if(!i.webpackPolyfill){var s=Object.create(i);s.children||(s.children=[]),Object.defineProperty(s,"loaded",{enumerable:!0,get:function(){return s.l}}),Object.defineProperty(s,"id",{enumerable:!0,get:function(){return s.i}}),Object.defineProperty(s,"exports",{enumerable:!0}),s.webpackPolyfill=1}return s}},function(u,c,i){i(19);var s=i(15),l=i(44),y=i(102),b=i(18),x=i(27),S=i(57),T=x("species"),w=RegExp.prototype;u.exports=function(M,j,R,_){var z=x(M),U=!b(function(){var te={};return te[z]=function(){return 7},""[M](te)!=7}),Y=U&&!b(function(){var te=!1,Q=/a/;return M==="split"&&(Q={},Q.constructor={},Q.constructor[T]=function(){return Q},Q.flags="",Q[z]=/./[z]),Q.exec=function(){return te=!0,null},Q[z](""),!te});if(!U||!Y||R){var le=s(/./[z]),se=j(z,""[M],function(te,Q,ee,L,$){var I=s(te),A=Q.exec;return A===y||A===w.exec?U&&!$?{done:!0,value:le(Q,ee,L)}:{done:!0,value:I(ee,Q,L)}:{done:!1}});l(String.prototype,M,se[0]),l(w,z,se[1])}_&&S(w[z],"sham",!0)}},function(u,c,i){var s=i(146).charAt;u.exports=function(l,y,b){return y+(b?s(l,y).length:1)}},function(u,c,i){var s=i(7),l=i(35),y=i(32),b=i(28),x=i(50),S=i(102),T=s.TypeError;u.exports=function(w,M){var j=w.exec;if(b(j)){var R=l(j,w,M);return R!==null&&y(R),R}if(x(w)==="RegExp")return l(S,w,M);throw T("RegExp#exec called on incompatible receiver")}},function(u,c,i){var s=i(77),l=i(35),y=i(15),b=i(122),x=i(18),S=i(32),T=i(28),w=i(69),M=i(90),j=i(40),R=i(45),_=i(123),z=i(59),U=i(197),Y=i(124),le=i(27),se=le("replace"),te=Math.max,Q=Math.min,ee=y([].concat),L=y([].push),$=y("".indexOf),I=y("".slice),A=function(ce){return ce===void 0?ce:String(ce)},C=function(){return"a".replace(/./,"$0")==="$0"}(),W=function(){return/./[se]?/./[se]("a","$0")==="":!1}(),Z=!x(function(){var ce=/./;return ce.exec=function(){var Pe=[];return Pe.groups={a:"7"},Pe},"".replace(ce,"$<a>")!=="7"});b("replace",function(ce,Pe,me){var be=W?"$":"$0";return[function(Oe,Ae){var Fe=R(this),Ve=Oe==null?void 0:z(Oe,se);return Ve?l(Ve,Oe,Fe,Ae):l(Pe,j(Fe),Oe,Ae)},function(Se,Oe){var Ae=S(this),Fe=j(Se);if(typeof Oe=="string"&&$(Oe,be)===-1&&$(Oe,"$<")===-1){var Ve=me(Pe,Ae,Fe,Oe);if(Ve.done)return Ve.value}var Be=T(Oe);Be||(Oe=j(Oe));var Ee=Ae.global;if(Ee){var Le=Ae.unicode;Ae.lastIndex=0}for(var Ue=[];;){var k=Y(Ae,Fe);if(k===null||(L(Ue,k),!Ee))break;var X=j(k[0]);X===""&&(Ae.lastIndex=_(Fe,M(Ae.lastIndex),Le))}for(var q="",he=0,xe=0;xe<Ue.length;xe++){k=Ue[xe];for(var pe=j(k[0]),He=te(Q(w(k.index),Fe.length),0),nt=[],Ke=1;Ke<k.length;Ke++)L(nt,A(k[Ke]));var it=k.groups;if(Be){var ve=ee([pe],nt,He,Fe);it!==void 0&&L(ve,it);var lt=j(s(Oe,void 0,ve))}else lt=U(pe,Fe,He,nt,it,Oe);He>=he&&(q+=I(Fe,he,He)+lt,he=He+pe.length)}return q+I(Fe,he)}]},!Z||!C||W)},function(u,c,i){var s=i(50),l=i(7);u.exports=s(l.process)=="process"},function(u,c,i){var s=i(16);s({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(u,c,i){var s=i(109);u.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(u,c,i){var s=i(36),l=i(18),y=i(86);u.exports=!s&&!l(function(){return Object.defineProperty(y("div"),"a",{get:function(){return 7}}).a!=7})},function(u,c,i){var s=i(7),l=i(35),y=i(33),b=i(88),x=i(59),S=i(169),T=i(27),w=s.TypeError,M=T("toPrimitive");u.exports=function(j,R){if(!y(j)||b(j))return j;var _=x(j,M),z;if(_){if(R===void 0&&(R="default"),z=l(_,j,R),!y(z)||b(z))return z;throw w("Can't convert object to primitive value")}return R===void 0&&(R="number"),S(j,R)}},function(u,c,i){var s=i(15),l=i(34),y=i(39),b=i(132).indexOf,x=i(70),S=s([].push);u.exports=function(T,w){var M=y(T),j=0,R=[],_;for(_ in M)!l(x,_)&&l(M,_)&&S(R,_);for(;w.length>j;)l(M,_=w[j++])&&(~b(R,_)||S(R,_));return R}},function(u,c,i){var s=i(39),l=i(68),y=i(43),b=function(x){return function(S,T,w){var M=s(S),j=y(M),R=l(w,j),_;if(x&&T!=T){for(;j>R;)if(_=M[R++],_!=_)return!0}else for(;j>R;R++)if((x||R in M)&&M[R]===T)return x||R||0;return!x&&-1}};u.exports={includes:b(!0),indexOf:b(!1)}},function(u,c,i){var s=i(46);u.exports=s("document","documentElement")},function(u,c,i){var s=i(34),l=i(135),y=i(51),b=i(37);u.exports=function(x,S){for(var T=l(S),w=b.f,M=y.f,j=0;j<T.length;j++){var R=T[j];s(x,R)||w(x,R,M(S,R))}}},function(u,c,i){var s=i(46),l=i(15),y=i(73),b=i(112),x=i(32),S=l([].concat);u.exports=s("Reflect","ownKeys")||function(w){var M=y.f(x(w)),j=b.f;return j?S(M,j(w)):M}},function(u,c,i){var s=i(18),l=i(28),y=i(54),b=i(96),x=i(44),S=i(27),T=i(65),w=S("iterator"),M=!1,j,R,_;[].keys&&(_=[].keys(),"next"in _?(R=b(b(_)),R!==Object.prototype&&(j=R)):M=!0);var z=j==null||s(function(){var U={};return j[w].call(U)!==U});z?j={}:T&&(j=y(j)),l(j[w])||x(j,w,function(){return this}),u.exports={IteratorPrototype:j,BUGGY_SAFARI_ITERATORS:M}},function(u,c,i){var s=i(18);u.exports=!s(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},function(u,c,i){var s=i(16),l=i(15),y=i(70),b=i(33),x=i(34),S=i(37).f,T=i(73),w=i(139),M=i(174),j=i(85),R=i(176),_=!1,z=j("meta"),U=0,Y=function(L){S(L,z,{value:{objectID:"O"+U++,weakData:{}}})},le=function(L,$){if(!b(L))return typeof L=="symbol"?L:(typeof L=="string"?"S":"P")+L;if(!x(L,z)){if(!M(L))return"F";if(!$)return"E";Y(L)}return L[z].objectID},se=function(L,$){if(!x(L,z)){if(!M(L))return!0;if(!$)return!1;Y(L)}return L[z].weakData},te=function(L){return R&&_&&M(L)&&!x(L,z)&&Y(L),L},Q=function(){ee.enable=function(){},_=!0;var L=T.f,$=l([].splice),I={};I[z]=1,L(I).length&&(T.f=function(A){for(var C=L(A),W=0,Z=C.length;W<Z;W++)if(C[W]===z){$(C,W,1);break}return C},s({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:w.f}))},ee=u.exports={enable:Q,fastKey:le,getWeakData:se,onFreeze:te};y[z]=!0},function(u,c,i){var s=i(50),l=i(39),y=i(73).f,b=i(113),x=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],S=function(T){try{return y(T)}catch{return b(x)}};u.exports.f=function(w){return x&&s(w)=="Window"?S(w):y(l(w))}},function(u,c,i){var s=i(27),l=i(71),y=s("iterator"),b=Array.prototype;u.exports=function(x){return x!==void 0&&(l.Array===x||b[y]===x)}},function(u,c,i){var s=i(7),l=i(35),y=i(55),b=i(32),x=i(89),S=i(115),T=s.TypeError;u.exports=function(w,M){var j=arguments.length<2?S(w):M;if(y(j))return b(l(j,w));throw T(x(w)+" is not iterable")}},function(u,c,i){var s=i(35),l=i(32),y=i(59);u.exports=function(b,x,S){var T,w;l(b);try{if(T=y(b,"return"),!T){if(x==="throw")throw S;return S}T=s(T,b)}catch(M){w=!0,T=M}if(x==="throw")throw S;if(w)throw T;return l(T),S}},function(u,c,i){var s=i(28),l=i(33),y=i(97);u.exports=function(b,x,S){var T,w;return y&&s(T=x.constructor)&&T!==S&&l(w=T.prototype)&&w!==S.prototype&&y(b,w),b}},function(u,c,i){var s=i(44);u.exports=function(l,y,b){for(var x in y)s(l,x,y[x],b);return l}},function(u,c,i){var s=i(46),l=i(37),y=i(27),b=i(36),x=y("species");u.exports=function(S){var T=s(S),w=l.f;b&&T&&!T[x]&&w(T,x,{configurable:!0,get:function(){return this}})}},function(u,c,i){var s=i(15),l=i(69),y=i(40),b=i(45),x=s("".charAt),S=s("".charCodeAt),T=s("".slice),w=function(M){return function(j,R){var _=y(b(j)),z=l(R),U=_.length,Y,le;return z<0||z>=U?M?"":void 0:(Y=S(_,z),Y<55296||Y>56319||z+1===U||(le=S(_,z+1))<56320||le>57343?M?x(_,z):Y:M?T(_,z,z+2):(Y-55296<<10)+(le-56320)+65536)}};u.exports={codeAt:w(!1),charAt:w(!0)}},function(u,c){u.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(u,c,i){var s=i(86),l=s("span").classList,y=l&&l.constructor&&l.constructor.prototype;u.exports=y===Object.prototype?void 0:y},function(u,c,i){var s=i(27);c.f=s},function(u,c,i){var s=i(181),l=i(34),y=i(149),b=i(37).f;u.exports=function(x){var S=s.Symbol||(s.Symbol={});l(S,x)||b(S,x,{value:y.f(x)})}},function(u,c,i){var s=i(18),l=i(7),y=l.RegExp,b=s(function(){var T=y("a","y");return T.lastIndex=2,T.exec("abcd")!=null}),x=b||s(function(){return!y("a","y").sticky}),S=b||s(function(){var T=y("^r","gy");return T.lastIndex=2,T.exec("str")!=null});u.exports={BROKEN_CARET:S,MISSED_STICKY:x,UNSUPPORTED_Y:b}},function(u,c,i){var s=i(16),l=i(132).includes,y=i(83);s({target:"Array",proto:!0},{includes:function(x){return l(this,x,arguments.length>1?arguments[1]:void 0)}}),y("includes")},function(u,c,i){var s=i(16),l=i(15),y=i(193),b=i(45),x=i(40),S=i(194),T=l("".indexOf);s({target:"String",proto:!0,forced:!S("includes")},{includes:function(M){return!!~T(x(b(this)),x(y(M)),arguments.length>1?arguments[1]:void 0)}})},function(u,c,i){var s=i(33),l=i(50),y=i(27),b=y("match");u.exports=function(x){var S;return s(x)&&((S=x[b])!==void 0?!!S:l(x)=="RegExp")}},function(u,c){var i=u.exports={},s,l;function y(){throw new Error("setTimeout has not been defined")}function b(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?s=setTimeout:s=y}catch{s=y}try{typeof clearTimeout=="function"?l=clearTimeout:l=b}catch{l=b}})();function x(Y){if(s===setTimeout)return setTimeout(Y,0);if((s===y||!s)&&setTimeout)return s=setTimeout,setTimeout(Y,0);try{return s(Y,0)}catch{try{return s.call(null,Y,0)}catch{return s.call(this,Y,0)}}}function S(Y){if(l===clearTimeout)return clearTimeout(Y);if((l===b||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(Y);try{return l(Y)}catch{try{return l.call(null,Y)}catch{return l.call(this,Y)}}}var T=[],w=!1,M,j=-1;function R(){!w||!M||(w=!1,M.length?T=M.concat(T):j=-1,T.length&&_())}function _(){if(!w){var Y=x(R);w=!0;for(var le=T.length;le;){for(M=T,T=[];++j<le;)M&&M[j].run();j=-1,le=T.length}M=null,w=!1,S(Y)}}i.nextTick=function(Y){var le=new Array(arguments.length-1);if(arguments.length>1)for(var se=1;se<arguments.length;se++)le[se-1]=arguments[se];T.push(new z(Y,le)),T.length===1&&!w&&x(_)};function z(Y,le){this.fun=Y,this.array=le}z.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={};function U(){}i.on=U,i.addListener=U,i.once=U,i.off=U,i.removeListener=U,i.removeAllListeners=U,i.emit=U,i.prependListener=U,i.prependOnceListener=U,i.listeners=function(Y){return[]},i.binding=function(Y){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(Y){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(u,c,i){var s=i(32),l=i(157),y=i(27),b=y("species");u.exports=function(x,S){var T=s(x).constructor,w;return T===void 0||(w=s(T)[b])==null?S:l(w)}},function(u,c,i){var s=i(7),l=i(100),y=i(89),b=s.TypeError;u.exports=function(x){if(l(x))return x;throw b(y(x)+" is not a constructor")}},function(u,c,i){var s=i(16),l=i(159).trim,y=i(195);s({target:"String",proto:!0,forced:y("trim")},{trim:function(){return l(this)}})},function(u,c,i){var s=i(15),l=i(45),y=i(40),b=i(160),x=s("".replace),S="["+b+"]",T=RegExp("^"+S+S+"*"),w=RegExp(S+S+"*$"),M=function(j){return function(R){var _=y(l(R));return j&1&&(_=x(_,T,"")),j&2&&(_=x(_,w,"")),_}};u.exports={start:M(1),end:M(2),trim:M(3)}},function(u,c){u.exports=`	
\v\f\r                　\u2028\u2029\uFEFF`},function(u,c,i){var s=i(35),l=i(122),y=i(32),b=i(90),x=i(40),S=i(45),T=i(59),w=i(123),M=i(124);l("match",function(j,R,_){return[function(U){var Y=S(this),le=U==null?void 0:T(U,j);return le?s(le,U,Y):new RegExp(U)[j](x(Y))},function(z){var U=y(this),Y=x(z),le=_(R,U,Y);if(le.done)return le.value;if(!U.global)return M(U,Y);var se=U.unicode;U.lastIndex=0;for(var te=[],Q=0,ee;(ee=M(U,Y))!==null;){var L=x(ee[0]);te[Q]=L,L===""&&(U.lastIndex=w(Y,b(U.lastIndex),se)),Q++}return Q===0?null:te}]})},function(u,c,i){var s=i(7),l=i(77),y=i(62),b=i(28),x=i(34),S=i(18),T=i(133),w=i(101),M=i(86),j=i(163),R=i(126),_=s.setImmediate,z=s.clearImmediate,U=s.process,Y=s.Dispatch,le=s.Function,se=s.MessageChannel,te=s.String,Q=0,ee={},L="onreadystatechange",$,I,A,C;try{$=s.location}catch{}var W=function(me){if(x(ee,me)){var be=ee[me];delete ee[me],be()}},Z=function(me){return function(){W(me)}},ce=function(me){W(me.data)},Pe=function(me){s.postMessage(te(me),$.protocol+"//"+$.host)};(!_||!z)&&(_=function(be){var Se=w(arguments,1);return ee[++Q]=function(){l(b(be)?be:le(be),void 0,Se)},I(Q),Q},z=function(be){delete ee[be]},R?I=function(me){U.nextTick(Z(me))}:Y&&Y.now?I=function(me){Y.now(Z(me))}:se&&!j?(A=new se,C=A.port2,A.port1.onmessage=ce,I=y(C.postMessage,C)):s.addEventListener&&b(s.postMessage)&&!s.importScripts&&$&&$.protocol!=="file:"&&!S(Pe)?(I=Pe,s.addEventListener("message",ce,!1)):L in M("script")?I=function(me){T.appendChild(M("script"))[L]=function(){T.removeChild(this),W(me)}}:I=function(me){setTimeout(Z(me),0)}),u.exports={set:_,clear:z}},function(u,c,i){var s=i(53);u.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(s)},function(u,c,i){var s=i(55),l=function(y){var b,x;this.promise=new y(function(S,T){if(b!==void 0||x!==void 0)throw TypeError("Bad Promise constructor");b=S,x=T}),this.resolve=s(b),this.reject=s(x)};u.exports.f=function(y){return new l(y)}},function(u,c,i){function s(){return!1}c.a=s},function(u,c,i){(function(s){i.d(c,"a",function(){return Q});var l=i(0);function y(L){throw new Error("[mobx-utils] "+L)}function b(L,$){$===void 0&&($="Illegal state"),L||y($)}var x=function(L){return L&&L!==Object.prototype&&Object.getOwnPropertyNames(L).concat(x(Object.getPrototypeOf(L))||[])},S=function(L){var $=x(L),I=$.filter(function(A,C){return $.indexOf(A)===C});return I},T=function(L){return S(L).filter(function($){return $!=="constructor"&&!~$.indexOf("__")})},w="pending",M="fulfilled",j="rejected";function R(L){switch(this.state){case w:return L.pending&&L.pending(this.value);case j:return L.rejected&&L.rejected(this.value);case M:return L.fulfilled?L.fulfilled(this.value):this.value}}function _(L,$){if(b(arguments.length<=2,"fromPromise expects up to two arguments"),b(typeof L=="function"||typeof L=="object"&&L&&typeof L.then=="function","Please pass a promise or function to fromPromise"),L.isPromiseBasedObservable===!0)return L;typeof L=="function"&&(L=new Promise(L));var I=L;L.then(Object(l.k)("observableFromPromise-resolve",function(C){I.value=C,I.state=M}),Object(l.k)("observableFromPromise-reject",function(C){I.value=C,I.state=j})),I.isPromiseBasedObservable=!0,I.case=R;var A=$&&$.state===M?$.value:void 0;return Object(l.q)(I,{value:A,state:w},{},{deep:!1}),I}(function(L){L.reject=Object(l.k)("fromPromise.reject",function(I){var A=L(Promise.reject(I));return A.state=j,A.value=I,A});function $(I){I===void 0&&(I=void 0);var A=L(Promise.resolve(I));return A.state=M,A.value=I,A}L.resolve=Object(l.k)("fromPromise.resolve",$)})(_||(_={}));var z=function(L,$,I,A){var C=arguments.length,W=C<3?$:A===null?A=Object.getOwnPropertyDescriptor($,I):A,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(L,$,I,A);else for(var ce=L.length-1;ce>=0;ce--)(Z=L[ce])&&(W=(C<3?Z(W):C>3?Z($,I,W):Z($,I))||W);return C>3&&W&&Object.defineProperty($,I,W),W};(function(){function L($,I){var A=this;Object(l.G)(function(){A.current=I,A.subscription=$.subscribe(A)})}return L.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},L.prototype.next=function($){this.current=$},L.prototype.complete=function(){this.dispose()},L.prototype.error=function($){this.current=$,this.dispose()},z([l.C.ref],L.prototype,"current",void 0),z([l.k.bound],L.prototype,"next",null),z([l.k.bound],L.prototype,"complete",null),z([l.k.bound],L.prototype,"error",null),L})();var U=function(){return U=Object.assign||function(L){for(var $,I=1,A=arguments.length;I<A;I++){$=arguments[I];for(var C in $)Object.prototype.hasOwnProperty.call($,C)&&(L[C]=$[C])}return L},U.apply(this,arguments)},Y=function(L,$,I,A){var C=arguments.length,W=C<3?$:A===null?A=Object.getOwnPropertyDescriptor($,I):A,Z;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(L,$,I,A);else for(var ce=L.length-1;ce>=0;ce--)(Z=L[ce])&&(W=(C<3?Z(W):C>3?Z($,I,W):Z($,I))||W);return C>3&&W&&Object.defineProperty($,I,W),W},le=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function L($){var I=this;this.model=$,this.localValues=l.C.map({}),this.localComputedValues=l.C.map({}),this.isPropertyDirty=function(A){return I.localValues.has(A)},b(Object(l.A)($),"createViewModel expects an observable object"),T($).forEach(function(A){if(!(A===l.a||A==="__mobxDidRunLazyInitializers")){if(b(le.indexOf(A)===-1,"The propertyname "+A+" is reserved and cannot be used with viewModels"),Object(l.w)($,A)){var C=Object(l.h)($,A).derivation;I.localComputedValues.set(A,Object(l.m)(C.bind(I)))}var W=Object.getOwnPropertyDescriptor($,A),Z=W?{enumerable:W.enumerable}:{};Object.defineProperty(I,A,U(U({},Z),{configurable:!0,get:function(){return Object(l.w)($,A)?I.localComputedValues.get(A).get():I.isPropertyDirty(A)?I.localValues.get(A):I.model[A]},set:Object(l.k)(function(ce){ce!==I.model[A]?I.localValues.set(A,ce):I.localValues.delete(A)})}))}})}return Object.defineProperty(L.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),L.prototype.submit=function(){var $=this;Object(l.B)(this.localValues).forEach(function(I){var A=$.localValues.get(I),C=$.model[I];Object(l.y)(C)?C.replace(A):Object(l.z)(C)?(C.clear(),C.merge(A)):Object(l.v)(A)||($.model[I]=A)}),this.localValues.clear()},L.prototype.reset=function(){this.localValues.clear()},L.prototype.resetProperty=function($){this.localValues.delete($)},Y([l.m],L.prototype,"isDirty",null),Y([l.m],L.prototype,"changedValues",null),Y([l.k.bound],L.prototype,"submit",null),Y([l.k.bound],L.prototype,"reset",null),Y([l.k.bound],L.prototype,"resetProperty",null),L})();function se(L){if(!L)return"ROOT";for(var $=[];L.parent;)$.push(L.path),L=L.parent;return $.reverse().join("/")}function te(L){return Object(l.A)(L)||Object(l.y)(L)||Object(l.z)(L)}function Q(L,$){var I=new WeakMap;function A(ce){var Pe=I.get(ce.object);C(ce,Pe),$(ce,se(Pe),L)}function C(ce,Pe){switch(ce.type){case"add":W(ce.newValue,Pe,ce.name);break;case"update":Z(ce.oldValue),W(ce.newValue,Pe,ce.name||""+ce.index);break;case"remove":case"delete":Z(ce.oldValue);break;case"splice":ce.removed.map(Z),ce.added.forEach(function(Se,Oe){return W(Se,Pe,""+(ce.index+Oe))});for(var me=ce.index+ce.addedCount;me<ce.object.length;me++)if(te(ce.object[me])){var be=I.get(ce.object[me]);be&&(be.path=""+me)}break}}function W(ce,Pe,me){if(te(ce)){var be=I.get(ce);if(be){if(be.parent!==Pe||be.path!==me)throw new Error("The same observable object cannot appear twice in the same tree,"+(" trying to assign it to '"+se(Pe)+"/"+me+"',")+(" but it already exists at '"+se(be.parent)+"/"+be.path+"'"))}else{var Se={parent:Pe,path:me,dispose:Object(l.D)(ce,A)};I.set(ce,Se),Object(l.p)(ce).forEach(function(Oe){var Ae=Oe[0],Fe=Oe[1];return W(Fe,Se,Ae)})}}}function Z(ce){if(te(ce)){var Pe=I.get(ce);if(!Pe)return;I.delete(ce),Pe.dispose(),Object(l.L)(ce).forEach(Z)}}return W(L,void 0,""),function(){Z(L)}}var ee=function(){var L=function($,I){return L=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,C){A.__proto__=C}||function(A,C){for(var W in C)C.hasOwnProperty(W)&&(A[W]=C[W])},L($,I)};return function($,I){L($,I);function A(){this.constructor=$}$.prototype=I===null?Object.create(I):(A.prototype=I.prototype,new A)}}();(function(L){ee($,L);function $(I,A,C){var W=C===void 0?{}:C,Z=W.name,ce=Z===void 0?"ogm"+(Math.random()*1e3|0):Z,Pe=W.keyToName,me=Pe===void 0?function(Oe){return""+Oe}:Pe,be=L.call(this)||this;be._keyToName=me,be._groupBy=A,be._ogmInfoKey=Symbol("ogmInfo"+ce),be._base=I;for(var Se=0;Se<I.length;Se++)be._addItem(I[Se]);return be._disposeBaseObserver=Object(l.D)(be._base,function(Oe){if(Oe.type==="splice")Object(l.J)(function(){for(var Ae=0,Fe=Oe.removed;Ae<Fe.length;Ae++){var Ve=Fe[Ae];be._removeItem(Ve)}for(var Be=0,Ee=Oe.added;Be<Ee.length;Be++){var Le=Ee[Be];be._addItem(Le)}});else if(Oe.type==="update")Object(l.J)(function(){be._removeItem(Oe.oldValue),be._addItem(Oe.newValue)});else throw new Error("illegal state")}),be}return $.prototype.clear=function(){throw new Error("not supported")},$.prototype.delete=function(I){throw new Error("not supported")},$.prototype.set=function(I,A){throw new Error("not supported")},$.prototype.dispose=function(){this._disposeBaseObserver();for(var I=0;I<this._base.length;I++){var A=this._base[I],C=A[this._ogmInfoKey];C.reaction(),delete A[this._ogmInfoKey]}},$.prototype._getGroupArr=function(I){var A=L.prototype.get.call(this,I);return A===void 0&&(A=Object(l.C)([],{name:"GroupArray["+this._keyToName(I)+"]",deep:!1}),L.prototype.set.call(this,I,A)),A},$.prototype._removeFromGroupArr=function(I,A){var C=L.prototype.get.call(this,I);C.length===1?L.prototype.delete.call(this,I):(A===C.length-1||(C[A]=C[C.length-1],C[A][this._ogmInfoKey].groupArrIndex=A),C.length--)},$.prototype._addItem=function(I){var A=this,C=this._groupBy(I),W=this._getGroupArr(C),Z={groupByValue:C,groupArrIndex:W.length,reaction:Object(l.F)(function(){return A._groupBy(I)},function(ce,Pe){var me=I[A._ogmInfoKey];A._removeFromGroupArr(me.groupByValue,me.groupArrIndex);var be=A._getGroupArr(ce),Se=be.length;be.push(I),me.groupByValue=ce,me.groupArrIndex=Se})};Object.defineProperty(I,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:Z}),W.push(I)},$.prototype._removeItem=function(I){var A=I[this._ogmInfoKey];this._removeFromGroupArr(A.groupByValue,A.groupArrIndex),A.reaction(),delete I[this._ogmInfoKey]},$})(l.b),Promise.resolve(),typeof queueMicrotask<"u"||typeof s<"u"&&s.nextTick}).call(this,i(155))},function(u,c,i){var s;(function(l,y,b){if(!l)return;for(var x={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},S={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},T={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},w={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},M,j=1;j<20;++j)x[111+j]="f"+j;for(j=0;j<=9;++j)x[j+96]=j.toString();function R(A,C,W){if(A.addEventListener){A.addEventListener(C,W,!1);return}A.attachEvent("on"+C,W)}function _(A){if(A.type=="keypress"){var C=String.fromCharCode(A.which);return A.shiftKey||(C=C.toLowerCase()),C}return x[A.which]?x[A.which]:S[A.which]?S[A.which]:String.fromCharCode(A.which).toLowerCase()}function z(A,C){return A.sort().join(",")===C.sort().join(",")}function U(A){var C=[];return A.shiftKey&&C.push("shift"),A.altKey&&C.push("alt"),A.ctrlKey&&C.push("ctrl"),A.metaKey&&C.push("meta"),C}function Y(A){if(A.preventDefault){A.preventDefault();return}A.returnValue=!1}function le(A){if(A.stopPropagation){A.stopPropagation();return}A.cancelBubble=!0}function se(A){return A=="shift"||A=="ctrl"||A=="alt"||A=="meta"}function te(){if(!M){M={};for(var A in x)A>95&&A<112||x.hasOwnProperty(A)&&(M[x[A]]=A)}return M}function Q(A,C,W){return W||(W=te()[A]?"keydown":"keypress"),W=="keypress"&&C.length&&(W="keydown"),W}function ee(A){return A==="+"?["+"]:(A=A.replace(/\+{2}/g,"+plus"),A.split("+"))}function L(A,C){var W,Z,ce,Pe=[];for(W=ee(A),ce=0;ce<W.length;++ce)Z=W[ce],w[Z]&&(Z=w[Z]),C&&C!="keypress"&&T[Z]&&(Z=T[Z],Pe.push("shift")),se(Z)&&Pe.push(Z);return C=Q(Z,Pe,C),{key:Z,modifiers:Pe,action:C}}function $(A,C){return A===null||A===y?!1:A===C?!0:$(A.parentNode,C)}function I(A){var C=this;if(A=A||y,!(C instanceof I))return new I(A);C.target=A,C._callbacks={},C._directMap={};var W={},Z,ce=!1,Pe=!1,me=!1;function be(Ee){Ee=Ee||{};var Le=!1,Ue;for(Ue in W){if(Ee[Ue]){Le=!0;continue}W[Ue]=0}Le||(me=!1)}function Se(Ee,Le,Ue,k,X,q){var he,xe,pe=[],He=Ue.type;if(!C._callbacks[Ee])return[];for(He=="keyup"&&se(Ee)&&(Le=[Ee]),he=0;he<C._callbacks[Ee].length;++he)if(xe=C._callbacks[Ee][he],!(!k&&xe.seq&&W[xe.seq]!=xe.level)&&He==xe.action&&(He=="keypress"&&!Ue.metaKey&&!Ue.ctrlKey||z(Le,xe.modifiers))){var nt=!k&&xe.combo==X,Ke=k&&xe.seq==k&&xe.level==q;(nt||Ke)&&C._callbacks[Ee].splice(he,1),pe.push(xe)}return pe}function Oe(Ee,Le,Ue,k){C.stopCallback(Le,Le.target||Le.srcElement,Ue,k)||Ee(Le,Ue)===!1&&(Y(Le),le(Le))}C._handleKey=function(Ee,Le,Ue){var k=Se(Ee,Le,Ue),X,q={},he=0,xe=!1;for(X=0;X<k.length;++X)k[X].seq&&(he=Math.max(he,k[X].level));for(X=0;X<k.length;++X){if(k[X].seq){if(k[X].level!=he)continue;xe=!0,q[k[X].seq]=1,Oe(k[X].callback,Ue,k[X].combo,k[X].seq);continue}xe||Oe(k[X].callback,Ue,k[X].combo)}var pe=Ue.type=="keypress"&&Pe;Ue.type==me&&!se(Ee)&&!pe&&be(q),Pe=xe&&Ue.type=="keydown"};function Ae(Ee){typeof Ee.which!="number"&&(Ee.which=Ee.keyCode);var Le=_(Ee);if(Le){if(Ee.type=="keyup"&&ce===Le){ce=!1;return}C.handleKey(Le,U(Ee),Ee)}}function Fe(){clearTimeout(Z),Z=setTimeout(be,1e3)}function Ve(Ee,Le,Ue,k){W[Ee]=0;function X(He){return function(){me=He,++W[Ee],Fe()}}function q(He){Oe(Ue,He,Ee),k!=="keyup"&&(ce=_(He)),setTimeout(be,10)}for(var he=0;he<Le.length;++he){var xe=he+1===Le.length,pe=xe?q:X(k||L(Le[he+1]).action);Be(Le[he],pe,k,Ee,he)}}function Be(Ee,Le,Ue,k,X){C._directMap[Ee+":"+Ue]=Le,Ee=Ee.replace(/\s+/g," ");var q=Ee.split(" "),he;if(q.length>1){Ve(Ee,q,Le,Ue);return}he=L(Ee,Ue),C._callbacks[he.key]=C._callbacks[he.key]||[],Se(he.key,he.modifiers,{type:he.action},k,Ee,X),C._callbacks[he.key][k?"unshift":"push"]({callback:Le,modifiers:he.modifiers,action:he.action,seq:k,level:X,combo:Ee})}C._bindMultiple=function(Ee,Le,Ue){for(var k=0;k<Ee.length;++k)Be(Ee[k],Le,Ue)},R(A,"keypress",Ae),R(A,"keydown",Ae),R(A,"keyup",Ae)}I.prototype.bind=function(A,C,W){var Z=this;return A=A instanceof Array?A:[A],Z._bindMultiple.call(Z,A,C,W),Z},I.prototype.unbind=function(A,C){var W=this;return W.bind.call(W,A,function(){},C)},I.prototype.trigger=function(A,C){var W=this;return W._directMap[A+":"+C]&&W._directMap[A+":"+C]({},A),W},I.prototype.reset=function(){var A=this;return A._callbacks={},A._directMap={},A},I.prototype.stopCallback=function(A,C){var W=this;if((" "+C.className+" ").indexOf(" mousetrap ")>-1||$(C,W.target))return!1;if("composedPath"in A&&typeof A.composedPath=="function"){var Z=A.composedPath()[0];Z!==A.target&&(C=Z)}return C.tagName=="INPUT"||C.tagName=="SELECT"||C.tagName=="TEXTAREA"||C.isContentEditable},I.prototype.handleKey=function(){var A=this;return A._handleKey.apply(A,arguments)},I.addKeycodes=function(A){for(var C in A)A.hasOwnProperty(C)&&(x[C]=A[C]);M=null},I.init=function(){var A=I(y);for(var C in A)C.charAt(0)!=="_"&&(I[C]=function(W){return function(){return A[W].apply(A,arguments)}}(C))},I.init(),l.Mousetrap=I,u.exports&&(u.exports=I),s=function(){return I}.call(c,i,c,u),s!==b&&(u.exports=s)})(typeof window<"u"?window:null,typeof window<"u"?document:null)},function(u,c,i){var s=i(36),l=i(37),y=i(32),b=i(39),x=i(67);u.exports=s?Object.defineProperties:function(T,w){y(T);for(var M=b(w),j=x(w),R=j.length,_=0,z;R>_;)l.f(T,z=j[_++],M[z]);return T}},function(u,c,i){var s=i(7),l=i(35),y=i(28),b=i(33),x=s.TypeError;u.exports=function(S,T){var w,M;if(T==="string"&&y(w=S.toString)&&!b(M=l(w,S))||y(w=S.valueOf)&&!b(M=l(w,S))||T!=="string"&&y(w=S.toString)&&!b(M=l(w,S)))return M;throw x("Can't convert object to primitive value")}},function(u,c,i){var s=i(7),l=i(28),y=i(92),b=s.WeakMap;u.exports=l(b)&&/native code/.test(y(b))},function(u,c,i){var s=i(136).IteratorPrototype,l=i(54),y=i(72),b=i(74),x=i(71),S=function(){return this};u.exports=function(T,w,M,j){var R=w+" Iterator";return T.prototype=l(s,{next:y(+!j,M)}),b(T,R,!1,!0),x[R]=S,T}},function(u,c,i){var s=i(7),l=i(28),y=s.String,b=s.TypeError;u.exports=function(x){if(typeof x=="object"||l(x))return x;throw b("Can't set "+y(x)+" as a prototype")}},function(u,c,i){var s=i(16),l=i(7),y=i(15),b=i(95),x=i(44),S=i(138),T=i(114),w=i(117),M=i(28),j=i(33),R=i(18),_=i(118),z=i(74),U=i(143);u.exports=function(Y,le,se){var te=Y.indexOf("Map")!==-1,Q=Y.indexOf("Weak")!==-1,ee=te?"set":"add",L=l[Y],$=L&&L.prototype,I=L,A={},C=function(Se){var Oe=y($[Se]);x($,Se,Se=="add"?function(Fe){return Oe(this,Fe===0?0:Fe),this}:Se=="delete"?function(Ae){return Q&&!j(Ae)?!1:Oe(this,Ae===0?0:Ae)}:Se=="get"?function(Fe){return Q&&!j(Fe)?void 0:Oe(this,Fe===0?0:Fe)}:Se=="has"?function(Fe){return Q&&!j(Fe)?!1:Oe(this,Fe===0?0:Fe)}:function(Fe,Ve){return Oe(this,Fe===0?0:Fe,Ve),this})},W=b(Y,!M(L)||!(Q||$.forEach&&!R(function(){new L().entries().next()})));if(W)I=se.getConstructor(le,Y,te,ee),S.enable();else if(b(Y,!0)){var Z=new I,ce=Z[ee](Q?{}:-0,1)!=Z,Pe=R(function(){Z.has(1)}),me=_(function(Se){new L(Se)}),be=!Q&&R(function(){for(var Se=new L,Oe=5;Oe--;)Se[ee](Oe,Oe);return!Se.has(-0)});me||(I=le(function(Se,Oe){w(Se,$);var Ae=U(new L,Se,I);return Oe!=null&&T(Oe,Ae[ee],{that:Ae,AS_ENTRIES:te}),Ae}),I.prototype=$,$.constructor=I),(Pe||be)&&(C("delete"),C("has"),te&&C("get")),(be||ce)&&C(ee),Q&&$.clear&&delete $.clear}return A[Y]=I,s({global:!0,forced:I!=L},A),z(I,Y),Q||se.setStrong(I,Y,te),I}},function(u,c,i){var s=i(18),l=i(33),y=i(50),b=i(175),x=Object.isExtensible,S=s(function(){});u.exports=S||b?function(w){return!l(w)||b&&y(w)=="ArrayBuffer"?!1:x?x(w):!0}:x},function(u,c,i){var s=i(18);u.exports=s(function(){if(typeof ArrayBuffer=="function"){var l=new ArrayBuffer(8);Object.isExtensible(l)&&Object.defineProperty(l,"a",{value:8})}})},function(u,c,i){var s=i(18);u.exports=!s(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(u,c,i){var s=i(37).f,l=i(54),y=i(144),b=i(62),x=i(117),S=i(114),T=i(111),w=i(145),M=i(36),j=i(138).fastKey,R=i(56),_=R.set,z=R.getterFor;u.exports={getConstructor:function(U,Y,le,se){var te=U(function(I,A){x(I,Q),_(I,{type:Y,index:l(null),first:void 0,last:void 0,size:0}),M||(I.size=0),A!=null&&S(A,I[se],{that:I,AS_ENTRIES:le})}),Q=te.prototype,ee=z(Y),L=function(I,A,C){var W=ee(I),Z=$(I,A),ce,Pe;return Z?Z.value=C:(W.last=Z={index:Pe=j(A,!0),key:A,value:C,previous:ce=W.last,next:void 0,removed:!1},W.first||(W.first=Z),ce&&(ce.next=Z),M?W.size++:I.size++,Pe!=="F"&&(W.index[Pe]=Z)),I},$=function(I,A){var C=ee(I),W=j(A),Z;if(W!=="F")return C.index[W];for(Z=C.first;Z;Z=Z.next)if(Z.key==A)return Z};return y(Q,{clear:function(){for(var A=this,C=ee(A),W=C.index,Z=C.first;Z;)Z.removed=!0,Z.previous&&(Z.previous=Z.previous.next=void 0),delete W[Z.index],Z=Z.next;C.first=C.last=void 0,M?C.size=0:A.size=0},delete:function(I){var A=this,C=ee(A),W=$(A,I);if(W){var Z=W.next,ce=W.previous;delete C.index[W.index],W.removed=!0,ce&&(ce.next=Z),Z&&(Z.previous=ce),C.first==W&&(C.first=Z),C.last==W&&(C.last=ce),M?C.size--:A.size--}return!!W},forEach:function(A){for(var C=ee(this),W=b(A,arguments.length>1?arguments[1]:void 0),Z;Z=Z?Z.next:C.first;)for(W(Z.value,Z.key,this);Z&&Z.removed;)Z=Z.previous},has:function(A){return!!$(this,A)}}),y(Q,le?{get:function(A){var C=$(this,A);return C&&C.value},set:function(A,C){return L(this,A===0?0:A,C)}}:{add:function(A){return L(this,A=A===0?0:A,A)}}),M&&s(Q,"size",{get:function(){return ee(this).size}}),te},setStrong:function(U,Y,le){var se=Y+" Iterator",te=z(Y),Q=z(se);T(U,Y,function(ee,L){_(this,{type:se,target:ee,state:te(ee),kind:L,last:void 0})},function(){for(var ee=Q(this),L=ee.kind,$=ee.last;$&&$.removed;)$=$.previous;return!ee.target||!(ee.last=$=$?$.next:ee.state.first)?(ee.target=void 0,{value:void 0,done:!0}):L=="keys"?{value:$.key,done:!1}:L=="values"?{value:$.value,done:!1}:{value:[$.key,$.value],done:!1}},le?"entries":"values",!le,!0),w(Y)}}},function(u,c,i){var s=i(116),l=i(98);u.exports=s?{}.toString:function(){return"[object "+l(this)+"]"}},function(u,c,i){var s=i(75).forEach,l=i(120),y=l("forEach");u.exports=y?[].forEach:function(x){return s(this,x,arguments.length>1?arguments[1]:void 0)}},function(u,c,i){var s=i(7),l=i(99),y=i(100),b=i(33),x=i(27),S=x("species"),T=s.Array;u.exports=function(w){var M;return l(w)&&(M=w.constructor,y(M)&&(M===T||l(M.prototype))?M=void 0:b(M)&&(M=M[S],M===null&&(M=void 0))),M===void 0?T:M}},function(u,c,i){var s=i(7);u.exports=s},function(u,c,i){var s=i(7),l=i(62),y=i(35),b=i(38),x=i(183),S=i(140),T=i(100),w=i(43),M=i(61),j=i(141),R=i(115),_=s.Array;u.exports=function(U){var Y=b(U),le=T(this),se=arguments.length,te=se>1?arguments[1]:void 0,Q=te!==void 0;Q&&(te=l(te,se>2?arguments[2]:void 0));var ee=R(Y),L=0,$,I,A,C,W,Z;if(ee&&!(this==_&&S(ee)))for(C=j(Y,ee),W=C.next,I=le?new this:[];!(A=y(W,C)).done;L++)Z=Q?x(C,te,[A.value,L],!0):A.value,M(I,L,Z);else for($=w(Y),I=le?new this($):_($);$>L;L++)Z=Q?te(Y[L],L):Y[L],M(I,L,Z);return I.length=L,I}},function(u,c,i){var s=i(32),l=i(142);u.exports=function(y,b,x,S){try{return S?b(s(x)[0],x[1]):b(x)}catch(T){l(y,"throw",T)}}},function(u,c,i){var s=i(32);u.exports=function(){var l=s(this),y="";return l.global&&(y+="g"),l.ignoreCase&&(y+="i"),l.multiline&&(y+="m"),l.dotAll&&(y+="s"),l.unicode&&(y+="u"),l.sticky&&(y+="y"),y}},function(u,c,i){var s=i(18),l=i(7),y=l.RegExp;u.exports=s(function(){var b=y(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(u,c,i){var s=i(18),l=i(7),y=l.RegExp;u.exports=s(function(){var b=y("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(u,c,i){var s=i(16),l=i(15),y=i(55),b=i(38),x=i(43),S=i(40),T=i(18),w=i(188),M=i(120),j=i(189),R=i(190),_=i(66),z=i(191),U=[],Y=l(U.sort),le=l(U.push),se=T(function(){U.sort(void 0)}),te=T(function(){U.sort(null)}),Q=M("sort"),ee=!T(function(){if(_)return _<70;if(!(j&&j>3)){if(R)return!0;if(z)return z<603;var I="",A,C,W,Z;for(A=65;A<76;A++){switch(C=String.fromCharCode(A),A){case 66:case 69:case 70:case 72:W=3;break;case 68:case 71:W=4;break;default:W=2}for(Z=0;Z<47;Z++)U.push({k:C+Z,v:W})}for(U.sort(function(ce,Pe){return Pe.v-ce.v}),Z=0;Z<U.length;Z++)C=U[Z].k.charAt(0),I.charAt(I.length-1)!==C&&(I+=C);return I!=="DGBEFHACIJK"}}),L=se||!te||!Q||!ee,$=function(I){return function(A,C){return C===void 0?-1:A===void 0?1:I!==void 0?+I(A,C)||0:S(A)>S(C)?1:-1}};s({target:"Array",proto:!0,forced:L},{sort:function(A){A!==void 0&&y(A);var C=b(this);if(ee)return A===void 0?Y(C):Y(C,A);var W=[],Z=x(C),ce,Pe;for(Pe=0;Pe<Z;Pe++)Pe in C&&le(W,C[Pe]);for(w(W,$(A)),ce=W.length,Pe=0;Pe<ce;)C[Pe]=W[Pe++];for(;Pe<Z;)delete C[Pe++];return C}})},function(u,c,i){var s=i(113),l=Math.floor,y=function(S,T){var w=S.length,M=l(w/2);return w<8?b(S,T):x(S,y(s(S,0,M),T),y(s(S,M),T),T)},b=function(S,T){for(var w=S.length,M=1,j,R;M<w;){for(R=M,j=S[M];R&&T(S[R-1],j)>0;)S[R]=S[--R];R!==M++&&(S[R]=j)}return S},x=function(S,T,w,M){for(var j=T.length,R=w.length,_=0,z=0;_<j||z<R;)S[_+z]=_<j&&z<R?M(T[_],w[z])<=0?T[_++]:w[z++]:_<j?T[_++]:w[z++];return S};u.exports=y},function(u,c,i){var s=i(53),l=s.match(/firefox\/(\d+)/i);u.exports=!!l&&+l[1]},function(u,c,i){var s=i(53);u.exports=/MSIE|Trident/.test(s)},function(u,c,i){var s=i(53),l=s.match(/AppleWebKit\/(\d+)\./);u.exports=!!l&&+l[1]},function(u,c,i){var s=i(16),l=i(75).find,y=i(83),b="find",x=!0;b in[]&&Array(1)[b](function(){x=!1}),s({target:"Array",proto:!0,forced:x},{find:function(T){return l(this,T,arguments.length>1?arguments[1]:void 0)}}),y(b)},function(u,c,i){var s=i(7),l=i(154),y=s.TypeError;u.exports=function(b){if(l(b))throw y("The method doesn't accept regular expressions");return b}},function(u,c,i){var s=i(27),l=s("match");u.exports=function(y){var b=/./;try{"/./"[y](b)}catch{try{return b[l]=!1,"/./"[y](b)}catch{}}return!1}},function(u,c,i){var s=i(94).PROPER,l=i(18),y=i(160),b="​᠎";u.exports=function(x){return l(function(){return!!y[x]()||b[x]()!==b||s&&y[x].name!==x})}},function(u,c,i){var s=i(15);u.exports=s(1 .valueOf)},function(u,c,i){var s=i(15),l=i(38),y=Math.floor,b=s("".charAt),x=s("".replace),S=s("".slice),T=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,w=/\$([$&'`]|\d{1,2})/g;u.exports=function(M,j,R,_,z,U){var Y=R+M.length,le=_.length,se=w;return z!==void 0&&(z=l(z),se=T),x(U,se,function(te,Q){var ee;switch(b(Q,0)){case"$":return"$";case"&":return M;case"`":return S(j,0,R);case"'":return S(j,Y);case"<":ee=z[S(Q,1,-1)];break;default:var L=+Q;if(L===0)return te;if(L>le){var $=y(L/10);return $===0?te:$<=le?_[$-1]===void 0?b(Q,1):_[$-1]+b(Q,1):te}ee=_[L-1]}return ee===void 0?"":ee})}},function(u,c,i){var s=i(36),l=i(15),y=i(35),b=i(18),x=i(67),S=i(112),T=i(93),w=i(38),M=i(81),j=Object.assign,R=Object.defineProperty,_=l([].concat);u.exports=!j||b(function(){if(s&&j({b:1},j(R({},"a",{enumerable:!0,get:function(){R(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var z={},U={},Y=Symbol(),le="abcdefghijklmnopqrst";return z[Y]=7,le.split("").forEach(function(se){U[se]=se}),j({},z)[Y]!=7||x(j({},U)).join("")!=le})?function(U,Y){for(var le=w(U),se=arguments.length,te=1,Q=S.f,ee=T.f;se>te;)for(var L=M(arguments[te++]),$=Q?_(x(L),Q(L)):x(L),I=$.length,A=0,C;I>A;)C=$[A++],(!s||y(ee,L,C))&&(le[C]=L[C]);return le}:j},function(u,c,i){var s=i(7),l=i(15),y=i(55),b=i(33),x=i(34),S=i(101),T=s.Function,w=l([].concat),M=l([].join),j={},R=function(_,z,U){if(!x(j,z)){for(var Y=[],le=0;le<z;le++)Y[le]="a["+le+"]";j[z]=T("C,a","return new C("+M(Y,",")+")")}return j[z](_,U)};u.exports=T.bind||function(z){var U=y(this),Y=U.prototype,le=S(arguments,1),se=function(){var Q=w(le,S(arguments));return this instanceof se?R(U,Q.length,Q):U.apply(z,Q)};return b(Y)&&(se.prototype=Y),se}},function(u,c,i){var s=i(34);u.exports=function(l){return l!==void 0&&(s(l,"value")||s(l,"writable"))}},function(u,c,i){var s=i(15),l=i(45),y=i(40),b=/"/g,x=s("".replace);u.exports=function(S,T,w,M){var j=y(l(S)),R="<"+T;return w!==""&&(R+=" "+w+'="'+x(y(M),b,"&quot;")+'"'),R+">"+j+"</"+T+">"}},function(u,c,i){var s=i(18);u.exports=function(l){return s(function(){var y=""[l]('"');return y!==y.toLowerCase()||y.split('"').length>3})}},function(u,c,i){var s=i(16),l=Math.hypot,y=Math.abs,b=Math.sqrt,x=!!l&&l(1/0,NaN)!==1/0;s({target:"Math",stat:!0,forced:x},{hypot:function(T,w){for(var M=0,j=0,R=arguments.length,_=0,z,U;j<R;)z=y(arguments[j++]),_<z?(U=_/z,M=M*U*U+1,_=z):z>0?(U=z/_,M+=U*U):M+=z;return _===1/0?1/0:_*b(M)}})},function(u,c,i){var s=i(16),l=i(65),y=i(7),b=i(46),x=i(35),S=i(205),T=i(44),w=i(144),M=i(97),j=i(74),R=i(145),_=i(55),z=i(28),U=i(33),Y=i(117),le=i(92),se=i(114),te=i(118),Q=i(156),ee=i(162).set,L=i(206),$=i(209),I=i(210),A=i(164),C=i(211),W=i(56),Z=i(95),ce=i(27),Pe=i(212),me=i(126),be=i(66),Se=ce("species"),Oe="Promise",Ae=W.getterFor(Oe),Fe=W.set,Ve=W.getterFor(Oe),Be=S&&S.prototype,Ee=S,Le=Be,Ue=y.TypeError,k=y.document,X=y.process,q=A.f,he=q,xe=!!(k&&k.createEvent&&y.dispatchEvent),pe=z(y.PromiseRejectionEvent),He="unhandledrejection",nt="rejectionhandled",Ke=0,it=1,ve=2,lt=1,ot=2,ze=!1,et,At,vt,Ot,ae=Z(Oe,function(){var Ce=le(Ee),Ye=Ce!==String(Ee);if(!Ye&&be===66||l&&!Le.finally)return!0;if(be>=51&&/native code/.test(Ce))return!1;var at=new Ee(function(G){G(1)}),Je=function(G){G(function(){},function(){})},ct=at.constructor={};return ct[Se]=Je,ze=at.then(function(){})instanceof Je,ze?!Ye&&Pe&&!pe:!0}),jt=ae||!te(function(Ce){Ee.all(Ce).catch(function(){})}),xt=function(Ce){var Ye;return U(Ce)&&z(Ye=Ce.then)?Ye:!1},mt=function(Ce,Ye){if(!Ce.notified){Ce.notified=!0;var at=Ce.reactions;L(function(){for(var Je=Ce.value,ct=Ce.state==it,G=0;at.length>G;){var J=at[G++],re=ct?J.ok:J.fail,ne=J.resolve,Me=J.reject,De=J.domain,Xe,yt,qt;try{re?(ct||(Ce.rejection===ot&&Mr(Ce),Ce.rejection=lt),re===!0?Xe=Je:(De&&De.enter(),Xe=re(Je),De&&(De.exit(),qt=!0)),Xe===J.promise?Me(Ue("Promise-chain cycle")):(yt=xt(Xe))?x(yt,Xe,ne,Me):ne(Xe)):Me(Je)}catch(er){De&&!qt&&De.exit(),Me(er)}}Ce.reactions=[],Ce.notified=!1,Ye&&!Ce.rejection&&gr(Ce)})}},Vt=function(Ce,Ye,at){var Je,ct;xe?(Je=k.createEvent("Event"),Je.promise=Ye,Je.reason=at,Je.initEvent(Ce,!1,!0),y.dispatchEvent(Je)):Je={promise:Ye,reason:at},!pe&&(ct=y["on"+Ce])?ct(Je):Ce===He&&I("Unhandled promise rejection",at)},gr=function(Ce){x(ee,y,function(){var Ye=Ce.facade,at=Ce.value,Je=Qt(Ce),ct;if(Je&&(ct=C(function(){me?X.emit("unhandledRejection",at,Ye):Vt(He,Ye,at)}),Ce.rejection=me||Qt(Ce)?ot:lt,ct.error))throw ct.value})},Qt=function(Ce){return Ce.rejection!==lt&&!Ce.parent},Mr=function(Ce){x(ee,y,function(){var Ye=Ce.facade;me?X.emit("rejectionHandled",Ye):Vt(nt,Ye,Ce.value)})},tt=function(Ce,Ye,at){return function(Je){Ce(Ye,Je,at)}},Pt=function(Ce,Ye,at){Ce.done||(Ce.done=!0,at&&(Ce=at),Ce.value=Ye,Ce.state=ve,mt(Ce,!0))},ar=function(Ce,Ye,at){if(!Ce.done){Ce.done=!0,at&&(Ce=at);try{if(Ce.facade===Ye)throw Ue("Promise can't be resolved itself");var Je=xt(Ye);Je?L(function(){var ct={done:!1};try{x(Je,Ye,tt(ar,ct,Ce),tt(Pt,ct,Ce))}catch(G){Pt(ct,G,Ce)}}):(Ce.value=Ye,Ce.state=it,mt(Ce,!1))}catch(ct){Pt({done:!1},ct,Ce)}}};if(ae&&(Ee=function(Ye){Y(this,Le),_(Ye),x(et,this);var at=Ae(this);try{Ye(tt(ar,at),tt(Pt,at))}catch(Je){Pt(at,Je)}},Le=Ee.prototype,et=function(Ye){Fe(this,{type:Oe,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:Ke,value:void 0})},et.prototype=w(Le,{then:function(Ye,at){var Je=Ve(this),ct=Je.reactions,G=q(Q(this,Ee));return G.ok=z(Ye)?Ye:!0,G.fail=z(at)&&at,G.domain=me?X.domain:void 0,Je.parent=!0,ct[ct.length]=G,Je.state!=Ke&&mt(Je,!1),G.promise},catch:function(Ce){return this.then(void 0,Ce)}}),At=function(){var Ce=new et,Ye=Ae(Ce);this.promise=Ce,this.resolve=tt(ar,Ye),this.reject=tt(Pt,Ye)},A.f=q=function(Ce){return Ce===Ee||Ce===vt?new At(Ce):he(Ce)},!l&&z(S)&&Be!==Object.prototype)){Ot=Be.then,ze||(T(Be,"then",function(Ye,at){var Je=this;return new Ee(function(ct,G){x(Ot,Je,ct,G)}).then(Ye,at)},{unsafe:!0}),T(Be,"catch",Le.catch,{unsafe:!0}));try{delete Be.constructor}catch{}M&&M(Be,Le)}s({global:!0,wrap:!0,forced:ae},{Promise:Ee}),j(Ee,Oe,!1,!0),R(Oe),vt=b(Oe),s({target:Oe,stat:!0,forced:ae},{reject:function(Ye){var at=q(this);return x(at.reject,void 0,Ye),at.promise}}),s({target:Oe,stat:!0,forced:l||ae},{resolve:function(Ye){return $(l&&this===vt?Ee:this,Ye)}}),s({target:Oe,stat:!0,forced:jt},{all:function(Ye){var at=this,Je=q(at),ct=Je.resolve,G=Je.reject,J=C(function(){var re=_(at.resolve),ne=[],Me=0,De=1;se(Ye,function(Xe){var yt=Me++,qt=!1;De++,x(re,at,Xe).then(function(er){qt||(qt=!0,ne[yt]=er,--De||ct(ne))},G)}),--De||ct(ne)});return J.error&&G(J.value),Je.promise},race:function(Ye){var at=this,Je=q(at),ct=Je.reject,G=C(function(){var J=_(at.resolve);se(Ye,function(re){x(J,at,re).then(Je.resolve,ct)})});return G.error&&ct(G.value),Je.promise}})},function(u,c,i){var s=i(7);u.exports=s.Promise},function(u,c,i){var s=i(7),l=i(62),y=i(51).f,b=i(162).set,x=i(163),S=i(207),T=i(208),w=i(126),M=s.MutationObserver||s.WebKitMutationObserver,j=s.document,R=s.process,_=s.Promise,z=y(s,"queueMicrotask"),U=z&&z.value,Y,le,se,te,Q,ee,L,$;U||(Y=function(){var I,A;for(w&&(I=R.domain)&&I.exit();le;){A=le.fn,le=le.next;try{A()}catch(C){throw le?te():se=void 0,C}}se=void 0,I&&I.enter()},!x&&!w&&!T&&M&&j?(Q=!0,ee=j.createTextNode(""),new M(Y).observe(ee,{characterData:!0}),te=function(){ee.data=Q=!Q}):!S&&_&&_.resolve?(L=_.resolve(void 0),L.constructor=_,$=l(L.then,L),te=function(){$(Y)}):w?te=function(){R.nextTick(Y)}:(b=l(b,s),te=function(){b(Y)})),u.exports=U||function(I){var A={fn:I,next:void 0};se&&(se.next=A),le||(le=A,te()),se=A}},function(u,c,i){var s=i(53),l=i(7);u.exports=/ipad|iphone|ipod/i.test(s)&&l.Pebble!==void 0},function(u,c,i){var s=i(53);u.exports=/web0s(?!.*chrome)/i.test(s)},function(u,c,i){var s=i(32),l=i(33),y=i(164);u.exports=function(b,x){if(s(b),l(x)&&x.constructor===b)return x;var S=y.f(b),T=S.resolve;return T(x),S.promise}},function(u,c,i){var s=i(7);u.exports=function(l,y){var b=s.console;b&&b.error&&(arguments.length==1?b.error(l):b.error(l,y))}},function(u,c){u.exports=function(i){try{return{error:!1,value:i()}}catch(s){return{error:!0,value:s}}}},function(u,c){u.exports=typeof window=="object"},function(u,c,i){var s=i(36),l=i(15),y=i(67),b=i(39),x=i(93).f,S=l(x),T=l([].push),w=function(M){return function(j){for(var R=b(j),_=y(R),z=_.length,U=0,Y=[],le;z>U;)le=_[U++],(!s||S(R,le))&&T(Y,M?[le,R[le]]:R[le]);return Y}};u.exports={entries:w(!0),values:w(!1)}},function(u,c,i){var s=i(38),l=i(68),y=i(43);u.exports=function(x){for(var S=s(this),T=y(S),w=arguments.length,M=l(w>1?arguments[1]:void 0,T),j=w>2?arguments[2]:void 0,R=j===void 0?T:l(j,T);R>M;)S[M++]=x;return S}},function(u,c,i){i.r(c),i.d(c,"observer",function(){return $r}),i.d(c,"LogicFlow",function(){return Qc}),i.d(c,"h",function(){return ae.g}),i.d(c,"LogicFlowUtil",function(){return s}),i.d(c,"BaseNode",function(){return yn}),i.d(c,"RectNode",function(){return cc}),i.d(c,"CircleNode",function(){return hc}),i.d(c,"PolygonNode",function(){return gc}),i.d(c,"DiamondNode",function(){return Oc}),i.d(c,"EllipseNode",function(){return xc}),i.d(c,"TextNode",function(){return Tc}),i.d(c,"HtmlNode",function(){return Ac}),i.d(c,"BaseEdge",function(){return wi}),i.d(c,"LineEdge",function(){return Lc}),i.d(c,"PolylineEdge",function(){return Hc}),i.d(c,"BezierEdge",function(){return kc}),i.d(c,"Arrow",function(){return fj}),i.d(c,"BaseEdgeModel",function(){return pf}),i.d(c,"BezierEdgeModel",function(){return Ff}),i.d(c,"LineEdgeModel",function(){return yf}),i.d(c,"PolylineEdgeModel",function(){return bf}),i.d(c,"BaseNodeModel",function(){return hn}),i.d(c,"CircleNodeModel",function(){return $f}),i.d(c,"DiamondNodeModel",function(){return Xf}),i.d(c,"EllipseNodeModel",function(){return Wf}),i.d(c,"PolygonNodeModel",function(){return Zf}),i.d(c,"RectNodeModel",function(){return qf}),i.d(c,"TextNodeModel",function(){return tc}),i.d(c,"HtmlNodeModel",function(){return nc}),i.d(c,"EditConfigModel",function(){return ap}),i.d(c,"GraphModel",function(){return nv}),i.d(c,"SnaplineModel",function(){return ng}),i.d(c,"Keyboard",function(){return lm}),i.d(c,"get",function(){return Lv}),i.d(c,"defaults",function(){return zv}),i.d(c,"ElementState",function(){return bt}),i.d(c,"ModelType",function(){return ht}),i.d(c,"ElementType",function(){return Ht}),i.d(c,"EventType",function(){return rt});var s={};i.r(s),i.d(s,"createUuid",function(){return zn}),i.d(s,"refreshGraphId",function(){return yP}),i.d(s,"createDrag",function(){return ST}),i.d(s,"StepDrag",function(){return cn});var l=i(0),y=i(10);if(!y.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!l.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var b=i(42),x=Object(b.b)("observerBatching");function S(e){e()}function T(e){e||(e=S),Object(l.n)({reactionScheduler:e}),Object(b.a)()[x]=!0}function w(e){return Object(l.t)(e)}function M(e){var r={cleanAt:Date.now()+j,reaction:e};return r}var j=1e4,R=1e4,_=new Set,z;function U(){z===void 0&&(z=setTimeout(se,R))}function Y(e){_.add(e),U()}function le(e){_.delete(e)}function se(){z=void 0;var e=Date.now();_.forEach(function(r){var t=r.current;t&&e>=t.cleanAt&&(t.reaction.dispose(),r.current=null,_.delete(r))}),_.size>0&&U()}var te=!1,Q=[];function ee(e){return function(){te?Q.push(e):e()}}function L(e){te=!0,Q=[];try{var r=e();te=!1;var t=Q.length>0?Q:void 0;return y.d.useLayoutEffect(function(){t&&t.forEach(function(n){return n()})},[t]),r}finally{te=!1}}var $={};function I(e){return"observer"+e}function A(e,r,t){r===void 0&&(r="observed"),t===void 0&&(t=$);var n=t.useForceUpdate||b.d,o=n(),a=ee(o),f=y.d.useRef(null);if(!f.current){var p=new l.c(I(r),function(){g.mounted?a():(p.dispose(),f.current=null)}),g=M(p);f.current=g,Y(f)}var O=f.current.reaction;return y.d.useDebugValue(O,w),y.d.useEffect(function(){return le(f),f.current?f.current.mounted=!0:(f.current={reaction:new l.c(I(r),function(){a()}),cleanAt:1/0},a()),function(){f.current.reaction.dispose(),f.current=null}},[]),L(function(){var P,N;if(O.track(function(){try{P=e()}catch(B){N=B}}),N)throw N;return P})}var C=function(){return C=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},C.apply(this,arguments)};function W(e,r){var t=C({forwardRef:!1},r),n=e.displayName||e.name,o=function(f,p){return A(function(){return e(f,p)},n)};o.displayName=n;var a;return t.forwardRef?a=Object(y.f)(Object(y.e)(o)):a=Object(y.f)(o),ce(e,a),a.displayName=n,a}var Z={$$typeof:!0,render:!0,compare:!0,type:!0};function ce(e,r){Object.keys(e).forEach(function(t){Z[t]||Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t))})}function Pe(e){var r=e.children,t=e.render,n=r||t;return typeof n!="function"?null:A(n)}Pe.propTypes={children:me,render:me},Pe.displayName="Observer";function me(e,r,t,n,o){var a=r==="children"?"render":"children",f=typeof e[r]=="function",p=typeof e[a]=="function";return f&&p?new Error("MobX Observer: Do not use children and render in the same time in`"+t):f||p?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[r]+"` supplied to `"+t+"`, expected `function`.")}T(y.g);var be=0;function Se(e){if(typeof Symbol=="function")return Symbol(e);var r="__$mobx-react "+e+" ("+be+")";return be++,r}var Oe={};function Ae(e){return Oe[e]||(Oe[e]=Se(e)),Oe[e]}function Fe(e,r){if(Ve(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var t=Object.keys(e),n=Object.keys(r);if(t.length!==n.length)return!1;for(var o=0;o<t.length;o++)if(!Object.hasOwnProperty.call(r,t[o])||!Ve(e[t[o]],r[t[o]]))return!1;return!0}function Ve(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}function Be(e,r,t){Object.hasOwnProperty.call(e,r)?e[r]=t:Object.defineProperty(e,r,{enumerable:!1,configurable:!0,writable:!0,value:t})}var Ee=Ae("patchMixins"),Le=Ae("patchedDefinition");function Ue(e,r){var t=e[Ee]=e[Ee]||{},n=t[r]=t[r]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}function k(e,r){for(var t=this,n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];r.locks++;try{var f;return e!=null&&(f=e.apply(this,o)),f}finally{r.locks--,r.locks===0&&r.methods.forEach(function(p){p.apply(t,o)})}}function X(e,r){var t=function(){for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];k.call.apply(k,[this,e,r].concat(a))};return t}function q(e,r,t){var n=Ue(e,r);n.methods.indexOf(t)<0&&n.methods.push(t);var o=Object.getOwnPropertyDescriptor(e,r);if(!(o&&o[Le])){var a=e[r],f=he(e,r,o?o.enumerable:void 0,n,a);Object.defineProperty(e,r,f)}}function he(e,r,t,n,o){var a,f=X(o,n);return a={},a[Le]=!0,a.get=function(){return f},a.set=function(g){if(this===e)f=X(g,n);else{var O=he(this,r,t,n,g);Object.defineProperty(this,r,O)}},a.configurable=!0,a.enumerable=t,a}var xe=l.a||"$mobx",pe=Ae("isMobXReactObserver"),He=Ae("isUnmounted"),nt=Ae("skipRender"),Ke=Ae("isForcingUpdate");function it(e){var r=e.prototype;if(e[pe]){var t=ve(r);console.warn("The provided component class ("+t+`) 
                has already been declared as an observer component.`)}else e[pe]=!0;if(r.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==y.b){if(!r.shouldComponentUpdate)r.shouldComponentUpdate=ot;else if(r.shouldComponentUpdate!==ot)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}ze(r,"props"),ze(r,"state");var n=r.render;return r.render=function(){return lt.call(this,n)},q(r,"componentWillUnmount",function(){var o;if((o=this.render[xe])===null||o===void 0||o.dispose(),this[He]=!0,!this.render[xe]){var a=ve(this);console.warn("The reactive render of an observer class component ("+a+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function ve(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function lt(e){var r=this;Be(this,nt,!1),Be(this,Ke,!1);var t=ve(this),n=e.bind(this),o=!1,a=new l.c(t+".render()",function(){if(!o&&(o=!0,r[He]!==!0)){var p=!0;try{Be(r,Ke,!0),r[nt]||y.a.prototype.forceUpdate.call(r),p=!1}finally{Be(r,Ke,!1),p&&a.dispose()}}});a.reactComponent=this,f[xe]=a,this.render=f;function f(){o=!1;var p=void 0,g=void 0;if(a.track(function(){try{g=Object(l.d)(!1,n)}catch(O){p=O}}),p)throw p;return g}return f.call(this)}function ot(e,r){return this.state!==r?!0:!Fe(this.props,e)}function ze(e,r){var t=Ae("reactProp_"+r+"_valueHolder"),n=Ae("reactProp_"+r+"_atomHolder");function o(){return this[n]||Be(this,n,Object(l.o)("reactive "+r)),this[n]}Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get:function(){var f=!1;return l.f&&l.e&&(f=Object(l.f)(!0)),o.call(this).reportObserved(),l.f&&l.e&&Object(l.e)(f),this[t]},set:function(f){!this[Ke]&&!Fe(this[t],f)?(Be(this,t,f),Be(this,nt,!0),o.call(this).reportChanged(),Be(this,nt,!1)):Be(this,t,f)}})}var et=typeof Symbol=="function"&&Symbol.for,At=et?Symbol.for("react.forward_ref"):typeof y.e=="function"&&Object(y.e)(function(e){return null}).$$typeof,vt=et?Symbol.for("react.memo"):typeof y.f=="function"&&Object(y.f)(function(e){return null}).$$typeof;function Ot(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),vt&&e.$$typeof===vt)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(At&&e.$$typeof===At){var r=e.render;if(typeof r!="function")throw new Error("render property of ForwardRef was not a function");return Object(y.e)(function(){var n=arguments;return Object(y.c)(Pe,null,function(){return r.apply(void 0,n)})})}return typeof e=="function"&&(!e.prototype||!e.prototype.render)&&!e.isReactClass&&!Object.prototype.isPrototypeOf.call(y.a,e)?W(e):it(e)}if(!y.a)throw new Error("mobx-react requires React to be available");if(!l.C)throw new Error("mobx-react requires mobx to be available");var ae=i(1);i(3),i(60),i(2),i(6),i(4),i(11),i(41),i(23),i(20),i(5),i(22),i(21),i(24),i(8),i(9),i(17),i(25),i(19),i(29),i(187),i(192),i(103),i(152),i(153);function jt(e,r){for(var t=-1,n=e==null?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}var xt=jt;function mt(){this.__data__=[],this.size=0}var Vt=mt;function gr(e,r){return e===r||e!==e&&r!==r}var Qt=gr;function Mr(e,r){for(var t=e.length;t--;)if(Qt(e[t][0],r))return t;return-1}var tt=Mr,Pt=Array.prototype,ar=Pt.splice;function Ce(e){var r=this.__data__,t=tt(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():ar.call(r,t,1),--this.size,!0}var Ye=Ce;function at(e){var r=this.__data__,t=tt(r,e);return t<0?void 0:r[t][1]}var Je=at;function ct(e){return tt(this.__data__,e)>-1}var G=ct;function J(e,r){var t=this.__data__,n=tt(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var re=J;function ne(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}ne.prototype.clear=Vt,ne.prototype.delete=Ye,ne.prototype.get=Je,ne.prototype.has=G,ne.prototype.set=re;var Me=ne;function De(){this.__data__=new Me,this.size=0}var Xe=De;function yt(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var qt=yt;function er(e){return this.__data__.get(e)}var Kn=er;function kr(e){return this.__data__.has(e)}var Gi=kr,wr=i(31),$i=wr.a.Symbol,dr=$i,Pn=Object.prototype,Vn=Pn.hasOwnProperty,sn=Pn.toString,Zn=dr?dr.toStringTag:void 0;function Tn(e){var r=Vn.call(e,Zn),t=e[Zn];try{e[Zn]=void 0;var n=!0}catch{}var o=sn.call(e);return n&&(r?e[Zn]=t:delete e[Zn]),o}var Mn=Tn,ho=Object.prototype,qs=ho.toString;function vo(e){return qs.call(e)}var yo=vo,ki="[object Null]",Ge="[object Undefined]",Ui=dr?dr.toStringTag:void 0;function el(e){return e==null?e===void 0?Ge:ki:Ui&&Ui in Object(e)?Mn(e):yo(e)}var Ur=el;function Xi(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var Tt=Xi,mr="[object AsyncFunction]",Yi="[object Function]",tl="[object GeneratorFunction]",rl="[object Proxy]";function nl(e){if(!Tt(e))return!1;var r=Ur(e);return r==Yi||r==tl||r==mr||r==rl}var go=nl,Wi=wr.a["__core-js_shared__"],ln=Wi,ei=function(){var e=/[^.]+$/.exec(ln&&ln.keys&&ln.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ti(e){return!!ei&&ei in e}var Ki=ti,ol=Function.prototype,mo=ol.toString;function il(e){if(e!=null){try{return mo.call(e)}catch{}try{return e+""}catch{}}return""}var Ct=il,dd=/[\\^$.*+?()[\]{}|]/g,pd=/^\[object .+?Constructor\]$/,hd=Function.prototype,Vi=Object.prototype,al=hd.toString,Zi=Vi.hasOwnProperty,ul=RegExp("^"+al.call(Zi).replace(dd,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sl(e){if(!Tt(e)||Ki(e))return!1;var r=go(e)?ul:pd;return r.test(Ct(e))}var Xr=sl;function ll(e,r){return e==null?void 0:e[r]}var fl=ll;function ri(e,r){var t=fl(e,r);return Xr(t)?t:void 0}var _r=ri,cl=_r(wr.a,"Map"),wn=cl,dl=_r(Object,"create"),Jn=dl;function pl(){this.__data__=Jn?Jn(null):{},this.size=0}var ni=pl;function Ji(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var hl=Ji,oi="__lodash_hash_undefined__",Qi=Object.prototype,qi=Qi.hasOwnProperty;function ea(e){var r=this.__data__;if(Jn){var t=r[e];return t===oi?void 0:t}return qi.call(r,e)?r[e]:void 0}var ta=ea,vl=Object.prototype,ra=vl.hasOwnProperty;function yl(e){var r=this.__data__;return Jn?r[e]!==void 0:ra.call(r,e)}var na=yl,oa="__lodash_hash_undefined__";function gl(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Jn&&r===void 0?oa:r,this}var ml=gl;function An(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}An.prototype.clear=ni,An.prototype.delete=hl,An.prototype.get=ta,An.prototype.has=na,An.prototype.set=ml;var Nn=An;function Dn(){this.size=0,this.__data__={hash:new Nn,map:new(wn||Me),string:new Nn}}var bl=Dn;function Ol(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var ia=Ol;function El(e,r){var t=e.__data__;return ia(r)?t[typeof r=="string"?"string":"hash"]:t.map}var bo=El;function Sl(e){var r=bo(this,e).delete(e);return this.size-=r?1:0,r}var xl=Sl;function jn(e){return bo(this,e).get(e)}var Yr=jn;function Pl(e){return bo(this,e).has(e)}var Tl=Pl;function Ml(e,r){var t=bo(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var Ar=Ml;function Cn(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Cn.prototype.clear=bl,Cn.prototype.delete=xl,Cn.prototype.get=Yr,Cn.prototype.has=Tl,Cn.prototype.set=Ar;var Qn=Cn,wl=200;function Oo(e,r){var t=this.__data__;if(t instanceof Me){var n=t.__data__;if(!wn||n.length<wl-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new Qn(n)}return t.set(e,r),this.size=t.size,this}var Eo=Oo;function Rn(e){var r=this.__data__=new Me(e);this.size=r.size}Rn.prototype.clear=Xe,Rn.prototype.delete=qt,Rn.prototype.get=Kn,Rn.prototype.has=Gi,Rn.prototype.set=Eo;var In=Rn,Nr="__lodash_hash_undefined__";function qn(e){return this.__data__.set(e,Nr),this}var Dr=qn;function br(e){return this.__data__.has(e)}var eo=br;function tr(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Qn;++r<t;)this.add(e[r])}tr.prototype.add=tr.prototype.push=Dr,tr.prototype.has=eo;var Al=tr;function Nl(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var Dl=Nl;function aa(e,r){return e.has(r)}var Br=aa,jl=1,Lr=2;function ua(e,r,t,n,o,a){var f=t&jl,p=e.length,g=r.length;if(p!=g&&!(f&&g>p))return!1;var O=a.get(e),P=a.get(r);if(O&&P)return O==r&&P==e;var N=-1,B=!0,H=t&Lr?new Al:void 0;for(a.set(e,r),a.set(r,e);++N<p;){var K=e[N],ie=r[N];if(n)var oe=f?n(ie,K,N,r,e,a):n(K,ie,N,e,r,a);if(oe!==void 0){if(oe)continue;B=!1;break}if(H){if(!Dl(r,function(ue,we){if(!Br(H,we)&&(K===ue||o(K,ue,t,n,a)))return H.push(we)})){B=!1;break}}else if(!(K===ie||o(K,ie,t,n,a))){B=!1;break}}return a.delete(e),a.delete(r),B}var sa=ua,ii=wr.a.Uint8Array,Xt=ii;function la(e){var r=-1,t=Array(e.size);return e.forEach(function(n,o){t[++r]=[o,n]}),t}var Cl=la;function fa(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var pr=fa,ca=1,ai=2,da="[object Boolean]",pa="[object Date]",Rl="[object Error]",ha="[object Map]",Il="[object Number]",_l="[object RegExp]",Or="[object Set]",jr="[object String]",to="[object Symbol]",Bl="[object ArrayBuffer]",va="[object DataView]",So=dr?dr.prototype:void 0,ro=So?So.valueOf:void 0;function ya(e,r,t,n,o,a,f){switch(t){case va:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case Bl:return!(e.byteLength!=r.byteLength||!a(new Xt(e),new Xt(r)));case da:case pa:case Il:return Qt(+e,+r);case Rl:return e.name==r.name&&e.message==r.message;case _l:case jr:return e==r+"";case ha:var p=Cl;case Or:var g=n&ca;if(p||(p=pr),e.size!=r.size&&!g)return!1;var O=f.get(e);if(O)return O==r;n|=ai,f.set(e,r);var P=sa(p(e),p(r),n,o,a,f);return f.delete(e),P;case to:if(ro)return ro.call(e)==ro.call(r)}return!1}var Ll=ya;function xo(e,r){for(var t=-1,n=r.length,o=e.length;++t<n;)e[o+t]=r[t];return e}var ui=xo,ga=Array.isArray,d=ga;function h(e,r,t){var n=r(e);return d(e)?n:ui(n,t(e))}var E=h;function D(e,r){for(var t=-1,n=e==null?0:e.length,o=0,a=[];++t<n;){var f=e[t];r(f,t,e)&&(a[o++]=f)}return a}var F=D;function V(){return[]}var fe=V,Te=Object.prototype,$e=Te.propertyIsEnumerable,dt=Object.getOwnPropertySymbols,pt=dt?function(e){return e==null?[]:(e=Object(e),F(dt(e),function(r){return $e.call(e,r)}))}:fe,Et=pt;function St(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var Bt=St;function Yt(e){return e!=null&&typeof e=="object"}var Mt=Yt,Er="[object Arguments]";function _n(e){return Mt(e)&&Ur(e)==Er}var ma=_n,ba=Object.prototype,Oa=ba.hasOwnProperty,Ea=ba.propertyIsEnumerable,si=ma(function(){return arguments}())?ma:function(e){return Mt(e)&&Oa.call(e,"callee")&&!Ea.call(e,"callee")},Bn=si,fn=i(48),xb=9007199254740991,Pb=/^(?:0|[1-9]\d*)$/;function Tb(e,r){var t=typeof e;return r=r??xb,!!r&&(t=="number"||t!="symbol"&&Pb.test(e))&&e>-1&&e%1==0&&e<r}var Sa=Tb,Mb=9007199254740991;function wb(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Mb}var zl=wb,Ab="[object Arguments]",Nb="[object Array]",Db="[object Boolean]",jb="[object Date]",Cb="[object Error]",Rb="[object Function]",Ib="[object Map]",_b="[object Number]",Bb="[object Object]",Lb="[object RegExp]",zb="[object Set]",Fb="[object String]",Hb="[object WeakMap]",Gb="[object ArrayBuffer]",$b="[object DataView]",kb="[object Float32Array]",Ub="[object Float64Array]",Xb="[object Int8Array]",Yb="[object Int16Array]",Wb="[object Int32Array]",Kb="[object Uint8Array]",Vb="[object Uint8ClampedArray]",Zb="[object Uint16Array]",Jb="[object Uint32Array]",Nt={};Nt[kb]=Nt[Ub]=Nt[Xb]=Nt[Yb]=Nt[Wb]=Nt[Kb]=Nt[Vb]=Nt[Zb]=Nt[Jb]=!0,Nt[Ab]=Nt[Nb]=Nt[Gb]=Nt[Db]=Nt[$b]=Nt[jb]=Nt[Cb]=Nt[Rb]=Nt[Ib]=Nt[_b]=Nt[Bb]=Nt[Lb]=Nt[zb]=Nt[Fb]=Nt[Hb]=!1;function Qb(e){return Mt(e)&&zl(e.length)&&!!Nt[Ur(e)]}var qb=Qb;function eO(e){return function(r){return e(r)}}var Fl=eO,Po=i(49),vd=Po.a&&Po.a.isTypedArray,tO=vd?Fl(vd):qb,Hl=tO,rO=Object.prototype,nO=rO.hasOwnProperty;function oO(e,r){var t=d(e),n=!t&&Bn(e),o=!t&&!n&&Object(fn.a)(e),a=!t&&!n&&!o&&Hl(e),f=t||n||o||a,p=f?Bt(e.length,String):[],g=p.length;for(var O in e)(r||nO.call(e,O))&&!(f&&(O=="length"||o&&(O=="offset"||O=="parent")||a&&(O=="buffer"||O=="byteLength"||O=="byteOffset")||Sa(O,g)))&&p.push(O);return p}var yd=oO,iO=Object.prototype;function aO(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||iO;return e===t}var xa=aO;function uO(e,r){return function(t){return e(r(t))}}var gd=uO,sO=gd(Object.keys,Object),lO=sO,fO=Object.prototype,cO=fO.hasOwnProperty;function dO(e){if(!xa(e))return lO(e);var r=[];for(var t in Object(e))cO.call(e,t)&&t!="constructor"&&r.push(t);return r}var pO=dO;function hO(e){return e!=null&&zl(e.length)&&!go(e)}var no=hO;function vO(e){return no(e)?yd(e):pO(e)}var To=vO;function yO(e){return E(e,To,Et)}var Gl=yO,gO=1,mO=Object.prototype,bO=mO.hasOwnProperty;function OO(e,r,t,n,o,a){var f=t&gO,p=Gl(e),g=p.length,O=Gl(r),P=O.length;if(g!=P&&!f)return!1;for(var N=g;N--;){var B=p[N];if(!(f?B in r:bO.call(r,B)))return!1}var H=a.get(e),K=a.get(r);if(H&&K)return H==r&&K==e;var ie=!0;a.set(e,r),a.set(r,e);for(var oe=f;++N<g;){B=p[N];var ue=e[B],we=r[B];if(n)var je=f?n(we,ue,B,r,e,a):n(ue,we,B,e,r,a);if(!(je===void 0?ue===we||o(ue,we,t,n,a):je)){ie=!1;break}oe||(oe=B=="constructor")}if(ie&&!oe){var ye=e.constructor,_e=r.constructor;ye!=_e&&"constructor"in e&&"constructor"in r&&!(typeof ye=="function"&&ye instanceof ye&&typeof _e=="function"&&_e instanceof _e)&&(ie=!1)}return a.delete(e),a.delete(r),ie}var EO=OO,SO=_r(wr.a,"DataView"),$l=SO,xO=_r(wr.a,"Promise"),kl=xO,PO=_r(wr.a,"Set"),Ul=PO,TO=_r(wr.a,"WeakMap"),Xl=TO,md="[object Map]",MO="[object Object]",bd="[object Promise]",Od="[object Set]",Ed="[object WeakMap]",Sd="[object DataView]",wO=Ct($l),AO=Ct(wn),NO=Ct(kl),DO=Ct(Ul),jO=Ct(Xl),oo=Ur;($l&&oo(new $l(new ArrayBuffer(1)))!=Sd||wn&&oo(new wn)!=md||kl&&oo(kl.resolve())!=bd||Ul&&oo(new Ul)!=Od||Xl&&oo(new Xl)!=Ed)&&(oo=function(e){var r=Ur(e),t=r==MO?e.constructor:void 0,n=t?Ct(t):"";if(n)switch(n){case wO:return Sd;case AO:return md;case NO:return bd;case DO:return Od;case jO:return Ed}return r});var li=oo,CO=1,xd="[object Arguments]",Pd="[object Array]",Pa="[object Object]",RO=Object.prototype,Td=RO.hasOwnProperty;function IO(e,r,t,n,o,a){var f=d(e),p=d(r),g=f?Pd:li(e),O=p?Pd:li(r);g=g==xd?Pa:g,O=O==xd?Pa:O;var P=g==Pa,N=O==Pa,B=g==O;if(B&&Object(fn.a)(e)){if(!Object(fn.a)(r))return!1;f=!0,P=!1}if(B&&!P)return a||(a=new In),f||Hl(e)?sa(e,r,t,n,o,a):Ll(e,r,g,t,n,o,a);if(!(t&CO)){var H=P&&Td.call(e,"__wrapped__"),K=N&&Td.call(r,"__wrapped__");if(H||K){var ie=H?e.value():e,oe=K?r.value():r;return a||(a=new In),o(ie,oe,t,n,a)}}return B?(a||(a=new In),EO(e,r,t,n,o,a)):!1}var _O=IO;function Md(e,r,t,n,o){return e===r?!0:e==null||r==null||!Mt(e)&&!Mt(r)?e!==e&&r!==r:_O(e,r,t,n,Md,o)}var Yl=Md,BO=1,LO=2;function zO(e,r,t,n){var o=t.length,a=o,f=!n;if(e==null)return!a;for(e=Object(e);o--;){var p=t[o];if(f&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++o<a;){p=t[o];var g=p[0],O=e[g],P=p[1];if(f&&p[2]){if(O===void 0&&!(g in e))return!1}else{var N=new In;if(n)var B=n(O,P,g,e,r,N);if(!(B===void 0?Yl(P,O,BO|LO,n,N):B))return!1}}return!0}var FO=zO;function HO(e){return e===e&&!Tt(e)}var wd=HO;function GO(e){for(var r=To(e),t=r.length;t--;){var n=r[t],o=e[n];r[t]=[n,o,wd(o)]}return r}var $O=GO;function kO(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var Ad=kO;function UO(e){var r=$O(e);return r.length==1&&r[0][2]?Ad(r[0][0],r[0][1]):function(t){return t===e||FO(t,e,r)}}var XO=UO,YO="[object Symbol]";function WO(e){return typeof e=="symbol"||Mt(e)&&Ur(e)==YO}var Ta=WO,KO=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,VO=/^\w*$/;function ZO(e,r){if(d(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Ta(e)?!0:VO.test(e)||!KO.test(e)||r!=null&&e in Object(r)}var Wl=ZO,JO="Expected a function";function Kl(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(JO);var t=function(){var n=arguments,o=r?r.apply(this,n):n[0],a=t.cache;if(a.has(o))return a.get(o);var f=e.apply(this,n);return t.cache=a.set(o,f)||a,f};return t.cache=new(Kl.Cache||Qn),t}Kl.Cache=Qn;var QO=Kl,qO=500;function eE(e){var r=QO(e,function(n){return t.size===qO&&t.clear(),n}),t=r.cache;return r}var tE=eE,rE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nE=/\\(\\)?/g,oE=tE(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(rE,function(t,n,o,a){r.push(o?a.replace(nE,"$1"):n||t)}),r}),iE=oE,aE=1/0,Nd=dr?dr.prototype:void 0,Dd=Nd?Nd.toString:void 0;function jd(e){if(typeof e=="string")return e;if(d(e))return xt(e,jd)+"";if(Ta(e))return Dd?Dd.call(e):"";var r=e+"";return r=="0"&&1/e==-aE?"-0":r}var uE=jd;function sE(e){return e==null?"":uE(e)}var lE=sE;function fE(e,r){return d(e)?e:Wl(e,r)?[e]:iE(lE(e))}var Ma=fE,cE=1/0;function dE(e){if(typeof e=="string"||Ta(e))return e;var r=e+"";return r=="0"&&1/e==-cE?"-0":r}var fi=dE;function pE(e,r){r=Ma(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[fi(r[t++])];return t&&t==n?e:void 0}var Vl=pE;function hE(e,r,t){var n=e==null?void 0:Vl(e,r);return n===void 0?t:n}var Cd=hE;function vE(e,r){return e!=null&&r in Object(e)}var yE=vE;function gE(e,r,t){r=Ma(r,e);for(var n=-1,o=r.length,a=!1;++n<o;){var f=fi(r[n]);if(!(a=e!=null&&t(e,f)))break;e=e[f]}return a||++n!=o?a:(o=e==null?0:e.length,!!o&&zl(o)&&Sa(f,o)&&(d(e)||Bn(e)))}var mE=gE;function bE(e,r){return e!=null&&mE(e,r,yE)}var Rd=bE,OE=1,EE=2;function SE(e,r){return Wl(e)&&wd(r)?Ad(fi(e),r):function(t){var n=Cd(t,e);return n===void 0&&n===r?Rd(t,e):Yl(r,n,OE|EE)}}var xE=SE;function PE(e){return e}var Zl=PE;function TE(e){return function(r){return r==null?void 0:r[e]}}var ME=TE;function wE(e){return function(r){return Vl(r,e)}}var AE=wE;function NE(e){return Wl(e)?ME(fi(e)):AE(e)}var DE=NE;function jE(e){return typeof e=="function"?e:e==null?Zl:typeof e=="object"?d(e)?xE(e[0],e[1]):XO(e):DE(e)}var CE=jE;function RE(e){return function(r,t,n){for(var o=-1,a=Object(r),f=n(r),p=f.length;p--;){var g=f[e?p:++o];if(t(a[g],g,a)===!1)break}return r}}var IE=RE,_E=IE(),Id=_E;function BE(e,r){return e&&Id(e,r,To)}var LE=BE;function zE(e,r){return function(t,n){if(t==null)return t;if(!no(t))return e(t,n);for(var o=t.length,a=r?o:-1,f=Object(t);(r?a--:++a<o)&&n(f[a],a,f)!==!1;);return t}}var FE=zE,HE=FE(LE),GE=HE;function $E(e,r){var t=-1,n=no(e)?Array(e.length):[];return GE(e,function(o,a,f){n[++t]=r(o,a,f)}),n}var kE=$E;function UE(e,r){var t=d(e)?xt:kE;return t(e,CE(r))}var wa=UE,XE=function(){try{var e=_r(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Aa=XE;function YE(e,r,t){r=="__proto__"&&Aa?Aa(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var Jl=YE,WE=Object.prototype,KE=WE.hasOwnProperty;function VE(e,r,t){var n=e[r];(!(KE.call(e,r)&&Qt(n,t))||t===void 0&&!(r in e))&&Jl(e,r,t)}var Na=VE;function ZE(e,r,t,n){var o=!t;t||(t={});for(var a=-1,f=r.length;++a<f;){var p=r[a],g=n?n(t[p],e[p],p,t,e):void 0;g===void 0&&(g=e[p]),o?Jl(t,p,g):Na(t,p,g)}return t}var Mo=ZE;function JE(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var QE=JE,_d=Math.max;function qE(e,r,t){return r=_d(r===void 0?e.length-1:r,0),function(){for(var n=arguments,o=-1,a=_d(n.length-r,0),f=Array(a);++o<a;)f[o]=n[r+o];o=-1;for(var p=Array(r+1);++o<r;)p[o]=n[o];return p[r]=t(f),QE(e,this,p)}}var Bd=qE;function eS(e){return function(){return e}}var tS=eS,rS=Aa?function(e,r){return Aa(e,"toString",{configurable:!0,enumerable:!1,value:tS(r),writable:!0})}:Zl,nS=rS,oS=800,iS=16,aS=Date.now;function uS(e){var r=0,t=0;return function(){var n=aS(),o=iS-(n-t);if(t=n,o>0){if(++r>=oS)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var sS=uS,lS=sS(nS),Ld=lS;function fS(e,r){return Ld(Bd(e,r,Zl),e+"")}var cS=fS;function dS(e,r,t){if(!Tt(t))return!1;var n=typeof r;return(n=="number"?no(t)&&Sa(r,t.length):n=="string"&&r in t)?Qt(t[r],e):!1}var pS=dS;function hS(e){return cS(function(r,t){var n=-1,o=t.length,a=o>1?t[o-1]:void 0,f=o>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):void 0,f&&pS(t[0],t[1],f)&&(a=o<3?void 0:a,o=1),r=Object(r);++n<o;){var p=t[n];p&&e(r,p,n,a)}return r})}var zd=hS,vS=Object.prototype,yS=vS.hasOwnProperty,gS=zd(function(e,r){if(xa(r)||no(r)){Mo(r,To(r),e);return}for(var t in r)yS.call(r,t)&&Na(e,t,r[t])}),ur=gS;function mS(e,r,t,n){if(!Tt(e))return e;r=Ma(r,e);for(var o=-1,a=r.length,f=a-1,p=e;p!=null&&++o<a;){var g=fi(r[o]),O=t;if(g==="__proto__"||g==="constructor"||g==="prototype")return e;if(o!=f){var P=p[g];O=n?n(P,g,p):void 0,O===void 0&&(O=Tt(P)?P:Sa(r[o+1])?[]:{})}Na(p,g,O),p=p[g]}return e}var bS=mS;function OS(e,r,t){for(var n=-1,o=r.length,a={};++n<o;){var f=r[n],p=Vl(e,f);t(p,f)&&bS(a,Ma(f,e),p)}return a}var ES=OS;function SS(e,r){return ES(e,r,function(t,n){return Rd(e,n)})}var xS=SS,Fd=dr?dr.isConcatSpreadable:void 0;function PS(e){return d(e)||Bn(e)||!!(Fd&&e&&e[Fd])}var TS=PS;function Hd(e,r,t,n,o){var a=-1,f=e.length;for(t||(t=TS),o||(o=[]);++a<f;){var p=e[a];r>0&&t(p)?r>1?Hd(p,r-1,t,n,o):ui(o,p):n||(o[o.length]=p)}return o}var MS=Hd;function wS(e){var r=e==null?0:e.length;return r?MS(e,1):[]}var AS=wS;function NS(e){return Ld(Bd(e,void 0,AS),e+"")}var DS=NS,jS=DS(function(e,r){return e==null?{}:xS(e,r)}),ci=jS,Rt,Gd,$d,kd,Ud,Xd,Yd,Wd,Kd,Vd,Zd,Jd,Qd,qd,ep,tp,rp,np;function Zt(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function CS(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function op(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RS(e,r,t){return r&&op(e.prototype,r),t&&op(e,t),e}function ip(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Wt(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var IS={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},Ql=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey","autoExpand"],ap=(Rt=function(){function e(r){CS(this,e),Zt(this,"isSilentMode",Gd,this),Zt(this,"stopZoomGraph",$d,this),Zt(this,"stopScrollGraph",kd,this),Zt(this,"stopMoveGraph",Ud,this),Zt(this,"adjustEdge",Xd,this),Zt(this,"adjustEdgeMiddle",Yd,this),Zt(this,"adjustEdgeStartAndEnd",Wd,this),Zt(this,"adjustNodePosition",Kd,this),Zt(this,"hideAnchors",Vd,this),Zt(this,"hoverOutline",Zd,this),Zt(this,"nodeSelectedOutline",Jd,this),Zt(this,"edgeSelectedOutline",Qd,this),Zt(this,"nodeTextEdit",qd,this),Zt(this,"edgeTextEdit",ep,this),Zt(this,"nodeTextDraggable",tp,this),Zt(this,"edgeTextDraggable",rp,this),Zt(this,"autoExpand",np,this),ip(this,"multipleSelectKey",""),ip(this,"defaultConfig",{}),ur(this,this.getConfigDetail(r))}return RS(e,[{key:"updateEditConfig",value:function(t){var n=this.getConfigDetail(t);ur(this,n)}},{key:"getConfigDetail",value:function(t){var n=t.isSilentMode,o=t.textEdit,a={};if(n===!1&&ur(a,this.defaultConfig),n===!0){var f=ci(IS,Ql);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable,autoExpand:this.autoExpand},ur(a,f)}o===!1&&ur(a,{nodeTextEdit:!1,edgeTextEdit:!1});var p=ci(t,Ql);return ur(a,p)}},{key:"getConfig",value:function(){return ci(this,Ql)}}]),e}(),Gd=Wt(Rt.prototype,"isSilentMode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$d=Wt(Rt.prototype,"stopZoomGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kd=Wt(Rt.prototype,"stopScrollGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ud=Wt(Rt.prototype,"stopMoveGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Xd=Wt(Rt.prototype,"adjustEdge",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Yd=Wt(Rt.prototype,"adjustEdgeMiddle",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wd=Wt(Rt.prototype,"adjustEdgeStartAndEnd",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Kd=Wt(Rt.prototype,"adjustNodePosition",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Vd=Wt(Rt.prototype,"hideAnchors",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zd=Wt(Rt.prototype,"hoverOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Jd=Wt(Rt.prototype,"nodeSelectedOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Qd=Wt(Rt.prototype,"edgeSelectedOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),qd=Wt(Rt.prototype,"nodeTextEdit",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ep=Wt(Rt.prototype,"edgeTextEdit",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),tp=Wt(Rt.prototype,"nodeTextDraggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rp=Wt(Rt.prototype,"edgeTextDraggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),np=Wt(Rt.prototype,"autoExpand",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Wt(Rt.prototype,"updateEditConfig",[l.k],Object.getOwnPropertyDescriptor(Rt.prototype,"updateEditConfig"),Rt.prototype),Rt);i(63);var bt;(function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"})(bt||(bt={}));var up;(function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"})(up||(up={}));var ht;(function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"})(ht||(ht={}));var Ht;(function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"})(Ht||(Ht={}));var rt;(function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.ANCHOR_DRAGEND="anchor:dragend",e.ADJUST_POINT_MOUSEDOWN="adjustPoint:mousedown",e.ADJUST_POINT_MOUSEUP="adjustPoint:mouseup",e.ADJUST_POINT_MOUSEMOVE="adjustPoint:mousemove",e.ADJUST_POINT_DRAGSTART="adjustPoint:dragstart",e.ADJUST_POINT_DRAG="adjustPoint:drag",e.ADJUST_POINT_DROP="adjustPoint:drop",e.ADJUST_POINT_DRAGEND="adjustPoint:dragend",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"})(rt||(rt={}));var Dt;(function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"})(Dt||(Dt={}));var _S=9999,Sr;(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(Sr||(Sr={}));var Lt,sp,lp,fp,cp,dp,pp,hp;function Da(e,r){return FS(e)||zS(e,r)||LS(e,r)||BS()}function BS(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LS(e,r){if(e){if(typeof e=="string")return vp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return vp(e,r)}}function vp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function zS(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function FS(e){if(Array.isArray(e))return e}function io(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function HS(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function yp(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function GS(e,r,t){return r&&yp(e.prototype,r),t&&yp(e,t),e}function ql(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function zr(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var $S=(Lt=function(){function e(r){HS(this,e),ql(this,"MINI_SCALE_SIZE",.2),ql(this,"MAX_SCALE_SIZE",16),io(this,"SCALE_X",sp,this),io(this,"SKEW_Y",lp,this),io(this,"SKEW_X",fp,this),io(this,"SCALE_Y",cp,this),io(this,"TRANSLATE_X",dp,this),io(this,"TRANSLATE_Y",pp,this),io(this,"ZOOM_SIZE",hp,this),ql(this,"eventCenter",void 0),this.eventCenter=r}return GS(e,[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var n=Da(t,2),o=n[0],a=n[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(a-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var n=Da(t,2),o=n[0],a=n[1];return[o*this.SCALE_X+this.TRANSLATE_X,a*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,n,o){var a=Da(t,2),f=a[0],p=a[1];return[f+n/this.SCALE_X,p+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,n){return[t/this.SCALE_X,n/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,a=this.SCALE_Y;return t===!0?(o+=this.ZOOM_SIZE,a+=this.ZOOM_SIZE):t===!1?(o-=this.ZOOM_SIZE,a-=this.ZOOM_SIZE):typeof t=="number"&&(o=t,a=t),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE?"".concat(this.SCALE_X*100,"%"):(n&&(this.TRANSLATE_X-=(o-this.SCALE_X)*n[0],this.TRANSLATE_Y-=(a-this.SCALE_Y)*n[1]),this.SCALE_X=o,this.SCALE_Y=a,this.emitGraphTransform("zoom"),"".concat(this.SCALE_X*100,"%"))}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(rt.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,n){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=n,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,n,o,a){var f=this.CanvasPointToHtmlPoint([t,n]),p=Da(f,2),g=p[0],O=p[1],P=o/2-g,N=a/2-O;this.TRANSLATE_X+=P,this.TRANSLATE_Y+=N,this.emitGraphTransform("focusOn")}}]),e}(),sp=zr(Lt.prototype,"SCALE_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),lp=zr(Lt.prototype,"SKEW_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fp=zr(Lt.prototype,"SKEW_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),cp=zr(Lt.prototype,"SCALE_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),dp=zr(Lt.prototype,"TRANSLATE_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),pp=zr(Lt.prototype,"TRANSLATE_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hp=zr(Lt.prototype,"ZOOM_SIZE",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),zr(Lt.prototype,"zoom",[l.k],Object.getOwnPropertyDescriptor(Lt.prototype,"zoom"),Lt.prototype),zr(Lt.prototype,"resetZoom",[l.k],Object.getOwnPropertyDescriptor(Lt.prototype,"resetZoom"),Lt.prototype),zr(Lt.prototype,"translate",[l.k],Object.getOwnPropertyDescriptor(Lt.prototype,"translate"),Lt.prototype),zr(Lt.prototype,"focusOn",[l.k],Object.getOwnPropertyDescriptor(Lt.prototype,"focusOn"),Lt.prototype),Lt);function kS(e,r){for(var t=-1,n=e==null?0:e.length;++t<n&&r(e[t],t,e)!==!1;);return e}var US=kS;function XS(e,r){return e&&Mo(r,To(r),e)}var YS=XS;function WS(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var KS=WS,VS=Object.prototype,ZS=VS.hasOwnProperty;function JS(e){if(!Tt(e))return KS(e);var r=xa(e),t=[];for(var n in e)n=="constructor"&&(r||!ZS.call(e,n))||t.push(n);return t}var QS=JS;function qS(e){return no(e)?yd(e,!0):QS(e)}var di=qS;function ex(e,r){return e&&Mo(r,di(r),e)}var tx=ex,gp=i(106);function rx(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var mp=rx;function nx(e,r){return Mo(e,Et(e),r)}var ox=nx,ix=gd(Object.getPrototypeOf,Object),ef=ix,ax=Object.getOwnPropertySymbols,ux=ax?function(e){for(var r=[];e;)ui(r,Et(e)),e=ef(e);return r}:fe,bp=ux;function sx(e,r){return Mo(e,bp(e),r)}var lx=sx;function fx(e){return E(e,di,bp)}var cx=fx,dx=Object.prototype,px=dx.hasOwnProperty;function hx(e){var r=e.length,t=new e.constructor(r);return r&&typeof e[0]=="string"&&px.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var vx=hx;function yx(e){var r=new e.constructor(e.byteLength);return new Xt(r).set(new Xt(e)),r}var tf=yx;function gx(e,r){var t=r?tf(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var mx=gx,bx=/\w*$/;function Ox(e){var r=new e.constructor(e.source,bx.exec(e));return r.lastIndex=e.lastIndex,r}var Ex=Ox,Op=dr?dr.prototype:void 0,Ep=Op?Op.valueOf:void 0;function Sx(e){return Ep?Object(Ep.call(e)):{}}var xx=Sx;function Px(e,r){var t=r?tf(e.buffer):e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var Sp=Px,Tx="[object Boolean]",Mx="[object Date]",wx="[object Map]",Ax="[object Number]",Nx="[object RegExp]",Dx="[object Set]",jx="[object String]",Cx="[object Symbol]",Rx="[object ArrayBuffer]",Ix="[object DataView]",_x="[object Float32Array]",Bx="[object Float64Array]",Lx="[object Int8Array]",zx="[object Int16Array]",Fx="[object Int32Array]",Hx="[object Uint8Array]",Gx="[object Uint8ClampedArray]",$x="[object Uint16Array]",kx="[object Uint32Array]";function Ux(e,r,t){var n=e.constructor;switch(r){case Rx:return tf(e);case Tx:case Mx:return new n(+e);case Ix:return mx(e,t);case _x:case Bx:case Lx:case zx:case Fx:case Hx:case Gx:case $x:case kx:return Sp(e,t);case wx:return new n;case Ax:case jx:return new n(e);case Nx:return Ex(e);case Dx:return new n;case Cx:return xx(e)}}var Xx=Ux,xp=Object.create,Yx=function(){function e(){}return function(r){if(!Tt(r))return{};if(xp)return xp(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}(),Wx=Yx;function Kx(e){return typeof e.constructor=="function"&&!xa(e)?Wx(ef(e)):{}}var Pp=Kx,Vx="[object Map]";function Zx(e){return Mt(e)&&li(e)==Vx}var Jx=Zx,Tp=Po.a&&Po.a.isMap,Qx=Tp?Fl(Tp):Jx,qx=Qx,e0="[object Set]";function t0(e){return Mt(e)&&li(e)==e0}var r0=t0,Mp=Po.a&&Po.a.isSet,n0=Mp?Fl(Mp):r0,o0=n0,i0=1,a0=2,u0=4,wp="[object Arguments]",s0="[object Array]",l0="[object Boolean]",f0="[object Date]",c0="[object Error]",Ap="[object Function]",d0="[object GeneratorFunction]",p0="[object Map]",h0="[object Number]",Np="[object Object]",v0="[object RegExp]",y0="[object Set]",g0="[object String]",m0="[object Symbol]",b0="[object WeakMap]",O0="[object ArrayBuffer]",E0="[object DataView]",S0="[object Float32Array]",x0="[object Float64Array]",P0="[object Int8Array]",T0="[object Int16Array]",M0="[object Int32Array]",w0="[object Uint8Array]",A0="[object Uint8ClampedArray]",N0="[object Uint16Array]",D0="[object Uint32Array]",wt={};wt[wp]=wt[s0]=wt[O0]=wt[E0]=wt[l0]=wt[f0]=wt[S0]=wt[x0]=wt[P0]=wt[T0]=wt[M0]=wt[p0]=wt[h0]=wt[Np]=wt[v0]=wt[y0]=wt[g0]=wt[m0]=wt[w0]=wt[A0]=wt[N0]=wt[D0]=!0,wt[c0]=wt[Ap]=wt[b0]=!1;function ja(e,r,t,n,o,a){var f,p=r&i0,g=r&a0,O=r&u0;if(t&&(f=o?t(e,n,o,a):t(e)),f!==void 0)return f;if(!Tt(e))return e;var P=d(e);if(P){if(f=vx(e),!p)return mp(e,f)}else{var N=li(e),B=N==Ap||N==d0;if(Object(fn.a)(e))return Object(gp.a)(e,p);if(N==Np||N==wp||B&&!o){if(f=g||B?{}:Pp(e),!p)return g?lx(e,tx(f,e)):ox(e,YS(f,e))}else{if(!wt[N])return o?e:{};f=Xx(e,N,p)}}a||(a=new In);var H=a.get(e);if(H)return H;a.set(e,f),o0(e)?e.forEach(function(oe){f.add(ja(oe,r,t,oe,e,a))}):qx(e)&&e.forEach(function(oe,ue){f.set(ue,ja(oe,r,t,ue,e,a))});var K=O?g?cx:Gl:g?di:To,ie=P?void 0:K(e);return US(ie||e,function(oe,ue){ie&&(ue=oe,oe=e[ue]),Na(f,ue,ja(oe,r,t,ue,e,a))}),f}var j0=ja,C0=1,R0=4;function I0(e){return j0(e,C0|R0)}var It=I0;function _0(e,r,t){(t!==void 0&&!Qt(e[r],t)||t===void 0&&!(r in e))&&Jl(e,r,t)}var rf=_0;function B0(e){return Mt(e)&&no(e)}var L0=B0,z0="[object Object]",F0=Function.prototype,H0=Object.prototype,Dp=F0.toString,G0=H0.hasOwnProperty,$0=Dp.call(Object);function k0(e){if(!Mt(e)||Ur(e)!=z0)return!1;var r=ef(e);if(r===null)return!0;var t=G0.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&Dp.call(t)==$0}var U0=k0;function X0(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var nf=X0;function Y0(e){return Mo(e,di(e))}var W0=Y0;function K0(e,r,t,n,o,a,f){var p=nf(e,t),g=nf(r,t),O=f.get(g);if(O){rf(e,t,O);return}var P=a?a(p,g,t+"",e,r,f):void 0,N=P===void 0;if(N){var B=d(g),H=!B&&Object(fn.a)(g),K=!B&&!H&&Hl(g);P=g,B||H||K?d(p)?P=p:L0(p)?P=mp(p):H?(N=!1,P=Object(gp.a)(g,!0)):K?(N=!1,P=Sp(g,!0)):P=[]:U0(g)||Bn(g)?(P=p,Bn(p)?P=W0(p):(!Tt(p)||go(p))&&(P=Pp(g))):N=!1}N&&(f.set(g,P),o(P,g,n,a,f),f.delete(g)),rf(e,t,P)}var V0=K0;function jp(e,r,t,n,o){e!==r&&Id(r,function(a,f){if(o||(o=new In),Tt(a))V0(e,r,f,t,jp,n,o);else{var p=n?n(nf(e,f),a,f+"",e,r,o):void 0;p===void 0&&(p=a),rf(e,f,p)}},di)}var Z0=jp,J0=zd(function(e,r,t){Z0(e,r,t)}),Cp=J0,Q0={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}},edgeAnimation:{stroke:"red",strokeDasharray:"10 10",strokeDashoffset:"100%",animationName:"lf_animate_dash",animationDuration:"20s",animationIterationCount:"infinite",animationTimingFunction:"linear",animationDirection:"normal"}},Rp=function(r){var t=It(Q0);return r&&(t=Cp(t,r)),t};i(78),i(158);function q0(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ip(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function eP(e,r,t){return r&&Ip(e.prototype,r),t&&Ip(e,t),e}function tP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var rP="*",nP=function(){function e(){q0(this,e),tP(this,"_events",{})}return eP(e,[{key:"on",value:function(t,n,o){var a=this;return t==null||t.split(",").forEach(function(f){f=f.trim(),a._events[f]||(a._events[f]=[]),a._events[f].push({callback:n,once:!!o})}),this}},{key:"once",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){return a=a.trim(),o.on(a,n,!0)})}},{key:"emit",value:function(t,n){var o=this;t==null||t.split(",").forEach(function(a){var f=o._events[a]||[],p=o._events[rP]||[],g=function(P){for(var N=P.length,B=0;B<N;B++)if(P[B]){var H=P[B],K=H.callback,ie=H.once;ie&&(P.splice(B,1),P.length===0&&delete o._events[a],N--,B--),K.apply(o,[n])}};g(f),g(p)})}},{key:"off",value:function(t,n){var o=this;return t||(this._events={}),t.split(",").forEach(function(a){if(!n)delete o._events[a];else{for(var f=o._events[a]||[],p=f.length,g=0;g<p;g++)f[g].callback===n&&(f.splice(g,1),p--,g--);f.length===0&&delete o._events[a]}}),this}},{key:"getEvents",value:function(){return this._events}}]),e}();function Ln(e,r){return r*Math.round(e/r)||e}function _p(e,r){return e%r}function of(e,r){return uP(e)||aP(e,r)||iP(e,r)||oP()}function oP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iP(e,r){if(e){if(typeof e=="string")return Bp(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Bp(e,r)}}function Bp(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function aP(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function uP(e){if(Array.isArray(e))return e}var af=function(r,t,n){var o=of(r,2),a=o[0],f=o[1],p=of(t,2),g=p[0],O=p[1],P=of(n,2),N=P[0],B=P[1];return a>g&&a<N&&f>O&&f<B},Lp=function(r,t){var n=t.multipleSelectKey,o=!1;switch(n){case"meta":o=r.metaKey;break;case"alt":o=r.altKey;break;case"shift":o=r.shiftKey;break;case"ctrl":o=r.ctrlKey;break;default:o=!1;break}return o};i(79),i(161),i(125),i(80),i(30),i(12),i(13),i(14),i(47);var Ca,sP=new Uint8Array(16);function lP(){if(!Ca&&(Ca=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ca))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ca(sP)}var fP=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function cP(e){return typeof e=="string"&&fP.test(e)}for(var dP=cP,Jt=[],uf=0;uf<256;++uf)Jt.push((uf+256).toString(16).substr(1));function pP(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=(Jt[e[r+0]]+Jt[e[r+1]]+Jt[e[r+2]]+Jt[e[r+3]]+"-"+Jt[e[r+4]]+Jt[e[r+5]]+"-"+Jt[e[r+6]]+Jt[e[r+7]]+"-"+Jt[e[r+8]]+Jt[e[r+9]]+"-"+Jt[e[r+10]]+Jt[e[r+11]]+Jt[e[r+12]]+Jt[e[r+13]]+Jt[e[r+14]]+Jt[e[r+15]]).toLowerCase();if(!dP(t))throw TypeError("Stringified UUID is invalid");return t}var hP=pP;function vP(e,r,t){e=e||{};var n=e.random||(e.rng||lP)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,r){t=t||0;for(var o=0;o<16;++o)r[t+o]=n[o];return r}return hP(n)}var sf=vP,zn=function(){var r=sf();return r},yP=function(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=r.nodes.reduce(function(o,a){return o[a.id]=t+sf(),a.id=o[a.id],o},{});return r.edges.forEach(function(o){o.id=t+sf(),o.sourceNodeId=n[o.sourceNodeId],o.targetNodeId=n[o.targetNodeId]}),r};i(104),i(203);var gP=function(r,t,n,o){var a=(t.y-r.y)*(o.x-n.x)-(r.x-t.x)*(n.y-o.y);if(a===0)return!1;var f=((t.x-r.x)*(o.x-n.x)*(n.y-r.y)+(t.y-r.y)*(o.x-n.x)*r.x-(o.y-n.y)*(t.x-r.x)*n.x)/a,p=-((t.y-r.y)*(o.y-n.y)*(n.x-r.x)+(t.x-r.x)*(o.y-n.y)*r.y-(o.x-n.x)*(t.y-r.y)*n.y)/a;return(f-r.x)*(f-t.x)<=0&&(p-r.y)*(p-t.y)<=0&&(f-n.x)*(f-o.x)<=0&&(p-n.y)*(p-o.y)<=0?{x:f,y:p}:!1},pi=function(r,t,n){var o=r.x,a=r.y;return(o-t.x)*(o-n.x)<=0&&(a-t.y)*(a-n.y)<=0};function Ra(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ra=function(t){return typeof t}:Ra=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ra(e)}function zp(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Fp(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?zp(Object(t),!0).forEach(function(n){mP(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zp(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function mP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var lf=function(r){var t=r.anchors;return t},Ia=function(r,t){for(var n=t.nodes,o,a=n.length-1;a>=0;a--){var f=n[a],p=EP(r,f);if(p){var g=f.getTargetAnchor(r);if(g){var O={node:f,anchorIndex:g.index,anchor:g.anchor};(!o||bP(f,o.node,t))&&(o=O)}}}return o},bP=function(r,t,n){return r.zIndex>t.zIndex||n.nodesMap[r.id].index>n.nodesMap[t.id].index},OP=function(r,t){for(var n=lf(t),o,a=Number.MAX_SAFE_INTEGER,f=0;f<n.length;f++){var p=Wr(r.x,r.y,n[f].x,n[f].y);p<a&&(a=p,o={index:f,anchor:Fp(Fp({},n[f]),{},{x:n[f].x,y:n[f].y,id:n[f].id})})}return o},Wr=function(r,t,n,o){return Math.hypot(r-n,t-o)},Fn=function(r,t){var n=!1,o=0,a=xr(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},EP=function(r,t){var n=!1,o=5,a=xr(t);return r.x>=a.minX-o&&r.x<=a.maxX+o&&r.y>=a.minY-o&&r.y<=a.maxY+o&&(n=!0),n},xr=function(r){var t=r.x,n=r.y,o=r.width,a=r.height,f={minX:t-o/2,minY:n-a/2,maxX:t+o/2,maxY:n+a/2,x:t,y:n,width:o,height:a,centerX:t,centerY:n};return f},SP=function(r){var t=r,n=t.x,o=t.y,a=t.width,f=t.height,p=t.radius,g=[{x:n-a/2+p,y:o-f/2+p,r:p},{x:n+a/2-p,y:o-f/2+p,r:p},{x:n-a/2+p,y:o+f/2-p,r:p},{x:n+a/2-p,y:o+f/2-p,r:p}];return g},Hp=function(r,t,n){var o=SP(n),a,f=Number.MAX_SAFE_INTEGER;o.forEach(function(g){var O=Wr(r.x,r.y,g.x,g.y);O<f&&(f=O,a=g)});var p=ff(r,t,a);return p},ff=function(r,t,n){var o,a=n,f=a.x,p=a.y,g=a.r;if(t===Dt.HORIZONTAL){var O=f-Math.sqrt(g*g-(r.y-p)*(r.y-p)),P=f+Math.sqrt(g*g-(r.y-p)*(r.y-p)),N=Math.abs(O-r.x)<Math.abs(P-r.x)?O:P;o={x:N,y:r.y}}else if(t===Dt.VERTICAL){var B=p-Math.sqrt(g*g-(r.x-f)*(r.x-f)),H=p+Math.sqrt(g*g-(r.x-f)*(r.x-f)),K=Math.abs(B-r.y)<Math.abs(H-r.y)?B:H;o={x:r.x,y:K}}return o},Gp=function(r,t){var n=t,o=!1,a={minX:n.x-n.width/2+n.radius,maxX:n.x+n.width/2-n.radius,minY:n.y-n.height/2+n.radius,maxY:n.y+n.height/2-n.radius},f=n.x,p=n.y,g=n.width,O=n.height;return r.y===p+O/2||r.y===p-O/2?o=r.x>a.minX&&r.x<a.maxX:(r.x===f+g/2||r.x===f-g/2)&&(o=r.y>a.minY&&r.y<a.maxY),o},$p=function(r,t,n){var o,a=n,f=a.x,p=a.y,g=a.rx,O=a.ry;if(t===Dt.HORIZONTAL){var P=f-Math.sqrt(g*g-(r.y-p)*(r.y-p)*g*g/(O*O)),N=f+Math.sqrt(g*g-(r.y-p)*(r.y-p)*g*g/(O*O)),B=Math.abs(P-r.x)<Math.abs(N-r.x)?P:N;o={x:B,y:r.y}}else if(t===Dt.VERTICAL){var H=p-Math.sqrt(O*O-(r.x-f)*(r.x-f)*O*O/(g*g)),K=p+Math.sqrt(O*O-(r.x-f)*(r.x-f)*O*O/(g*g)),ie=Math.abs(H-r.y)<Math.abs(K-r.y)?H:K;o={x:r.x,y:ie}}return o},_a=function(r,t,n){for(var o=n,a=o.pointsPosition,f=Number.MAX_SAFE_INTEGER,p,g=[],O=0;O<a.length;O++)g.push({start:a[O],end:a[(O+1)%a.length]});return g.forEach(function(P){var N=P.start,B=P.end,H=N,K=B;N.x>B.x&&(H=B,K=N);var ie={x:r.x,y:r.y};if(H.x===K.x&&t===Dt.HORIZONTAL&&(ie={x:H.x,y:r.y}),H.y===K.y&&t===Dt.VERTICAL&&(ie={x:r.x,y:H.y}),H.x!==K.x&&H.y!==K.y){var oe=(K.y-H.y)/(K.x-H.x),ue=(H.x*K.y-K.x*H.y)/(H.x-K.x);t===Dt.HORIZONTAL?ie={x:(r.y-ue)/oe,y:r.y}:t===Dt.VERTICAL&&(ie={x:r.x,y:oe*r.x+ue})}var we=pi(ie,N,B);if(we){var je=Wr(ie.x,ie.y,r.x,r.y);je<f&&(f=je,p=ie)}}),p},xP=function(r){var t=ci(r,["id","type","x","y","text","properties","virtual"]);return t},kp=function(r,t,n,o){var a=r.x,f=r.y;return t.x>r.x?a=r.x+n/2:t.x<r.x&&(a=r.x-n/2),t.y>r.y?f=r.y+o/2:t.y<r.y&&(f=r.y-o/2),{x:a,y:f}},Up=function(r){var t=r.rows,n=r.style,o=r.rowsLength,a=r.className,f=document.createElement("div");f.style.fontSize=n.fontSize,f.style.width=n.width,f.className=a,f.style.lineHeight=n.lineHeight,f.style.padding=n.padding,n.fontFamily&&(f.style.fontFamily=n.fontFamily),o>1?t.forEach(function(g){var O=document.createElement("div");O.textContent=g,f.appendChild(O)}):f.textContent=t,document.body.appendChild(f);var p=f.clientHeight;return document.body.removeChild(f),p},cf=function(r){var t=r.rows,n=r.rowsLength,o=r.fontSize,a=0;return t&&t.forEach(function(f){var p=_h(f);a=p>a?p:a}),{width:Math.ceil(a/2)*o+o/4,height:n*(o+2)+o/4}},Ba=function(r){return Ra(r)!=="object"?{isAllPass:!!r,msg:r?"":"不允许连接"}:r},rr=function(r){try{return JSON.parse(JSON.stringify(r))}catch{return r}},PP=1e3,TP=999,df=function(){return++PP},MP=function(){return--TP},ge,Xp,Yp,Wp,Kp,Vp,Zp,Jp,Qp,qp,eh,th,rh,nh,oh,ih,ah,uh,sh,lh,fh;function ch(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function hr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ch(Object(t),!0).forEach(function(n){Cr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ch(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Gt(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function wP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function AP(e,r,t){return r&&dh(e.prototype,r),t&&dh(e,t),e}function Cr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Qe(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var pf=(ge=function(){function e(r,t){wP(this,e),Cr(this,"id",""),Gt(this,"type",Xp,this),Gt(this,"sourceNodeId",Yp,this),Gt(this,"targetNodeId",Wp,this),Gt(this,"startPoint",Kp,this),Gt(this,"endPoint",Vp,this),Gt(this,"text",Zp,this),Gt(this,"properties",Jp,this),Gt(this,"points",Qp,this),Gt(this,"pointsList",qp,this),Gt(this,"isSelected",eh,this),Gt(this,"isHovered",th,this),Gt(this,"isHitable",rh,this),Gt(this,"draggable",nh,this),Gt(this,"visible",oh,this),Cr(this,"virtual",!1),Gt(this,"isAnimation",ih,this),Gt(this,"isShowAdjustPoint",ah,this),Cr(this,"graphModel",void 0),Gt(this,"zIndex",uh,this),Cr(this,"BaseType",Ht.EDGE),Cr(this,"modelType",ht.EDGE),Gt(this,"state",sh,this),Cr(this,"additionStateData",void 0),Cr(this,"sourceAnchorId",""),Cr(this,"targetAnchorId",""),Cr(this,"menu",void 0),Cr(this,"customTextPosition",!1),Gt(this,"style",lh,this),Gt(this,"arrowConfig",fh,this),this.graphModel=t,this.initEdgeData(r),this.setAttributes()}return AP(e,[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type),a=this.createId();t.id=a||o||zn()}this.arrowConfig.markerEnd="url(#marker-end-".concat(t.id,")");var f=this.graphModel.editConfigModel.adjustEdgeStartAndEnd;this.isShowAdjustPoint=f,ur(this,gT(t));var p=this.graphModel.overlapMode;p===Sr.INCREASE&&(this.zIndex=t.zIndex||df()),this.setAnchors(),this.initPoints(),this.formatText(t)}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){return hr(hr({},this.graphModel.theme.baseEdge),this.style)}},{key:"getAdjustPointStyle",value:function(){return hr({},this.graphModel.theme.edgeAdjust)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return It(t)}},{key:"getEdgeAnimationStyle",value:function(){var t=this.graphModel.theme.edgeAnimation;return It(t)}},{key:"getArrowStyle",value:function(){var t=this.getEdgeStyle(),n=this.getEdgeAnimationStyle(),o=this.graphModel.theme.arrow,a=this.isAnimation?n.stroke:t.stroke;return hr(hr({},t),{},{fill:a,stroke:a},o)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel,n=t.theme.outline;return It(n)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.sourceNodeId])===null||n===void 0?void 0:n.model}},{key:"targetNode",get:function(){var t,n;return(t=this.graphModel)===null||t===void 0||(n=t.nodesMap[this.targetNodeId])===null||n===void 0?void 0:n.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,n){var o,a,f=lf(t);return f.forEach(function(p){var g=zh(p,n);(a===void 0||g<a)&&(a=g,o=p)}),o}},{key:"getEndAnchor",value:function(t){var n=this,o,a,f=lf(t);return f.forEach(function(p){var g=zh(p,n.startPoint);(a===void 0||g<a)&&(a=g,o=p)}),o}},{key:"getProperties",value:function(){return Object(l.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,f={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(l.I)(this.properties)};return a&&(f.text={x:n,y:o,value:a}),this.graphModel.overlapMode===Sr.INCREASE&&(f.zIndex=this.zIndex),f}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,n){this.properties[t]=rr(n),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=hr(hr({},this.properties),rr(t)),this.setAttributes()}},{key:"changeEdgeId",value:function(t){var n=this.arrowConfig,o=n.markerEnd,a=n.markerStart;a&&a==="url(#marker-start-".concat(this.id,")")&&(this.arrowConfig.markerStart="url(#marker-start-".concat(t,")")),o&&o==="url(#marker-end-".concat(this.id,")")&&(this.arrowConfig.markerEnd="url(#marker-end-".concat(t,")")),this.id=t}},{key:"setStyle",value:function(t,n){this.style=hr(hr({},this.style),{},Cr({},t,rr(n)))}},{key:"setStyles",value:function(t){this.style=hr(hr({},this.style),rr(t))}},{key:"updateStyles",value:function(t){this.style=hr({},rr(t))}},{key:"formatText",value:function(t){var n=this.textPosition,o=n.x,a=n.y;if(!t.text||typeof t.text=="string"){this.text={value:t.text||"",x:o,y:a,draggable:this.text.draggable,editable:this.text.editable};return}Object.prototype.toString.call(t.text)==="[object Object]"&&(this.text={x:t.text.x||o,y:t.text.y||a,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable})}},{key:"resetTextPosition",value:function(){var t=this.textPosition,n=t.x,o=t.y;this.text.x=n,this.text.y=o}},{key:"moveText",value:function(t,n){if(this.text){var o=this.text,a=o.x,f=o.y,p=o.value,g=o.draggable,O=o.editable;this.text={value:p,draggable:g,x:a+t,y:f+n,editable:O}}}},{key:"setText",value:function(t){t&&ur(this.text,t)}},{key:"updateText",value:function(t){this.text=hr(hr({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var n=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:n.x,y:n.y}),this.targetAnchorId||(this.targetAnchorId=n.id)}}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"openEdgeAnimation",value:function(){this.isAnimation=!0}},{key:"closeEdgeAnimation",value:function(){this.isAnimation=!1}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,n){this.startPoint.x+=t,this.startPoint.y+=n}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,n){this.endPoint.x+=t,this.endPoint.y+=n}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){ur(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var n=t.startPoint,o=t.endPoint;this.updateStartPoint({x:n.x,y:n.y}),this.updateEndPoint({x:o.x,y:o.y})}}]),e}(),Xp=Qe(ge.prototype,"type",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Yp=Qe(ge.prototype,"sourceNodeId",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Wp=Qe(ge.prototype,"targetNodeId",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Kp=Qe(ge.prototype,"startPoint",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vp=Qe(ge.prototype,"endPoint",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zp=Qe(ge.prototype,"text",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Jp=Qe(ge.prototype,"properties",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Qp=Qe(ge.prototype,"points",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),qp=Qe(ge.prototype,"pointsList",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),eh=Qe(ge.prototype,"isSelected",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),th=Qe(ge.prototype,"isHovered",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),rh=Qe(ge.prototype,"isHitable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),nh=Qe(ge.prototype,"draggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),oh=Qe(ge.prototype,"visible",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ih=Qe(ge.prototype,"isAnimation",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ah=Qe(ge.prototype,"isShowAdjustPoint",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),uh=Qe(ge.prototype,"zIndex",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),sh=Qe(ge.prototype,"state",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),lh=Qe(ge.prototype,"style",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),fh=Qe(ge.prototype,"arrowConfig",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{markerEnd:"url(#marker-end-".concat(this.id,")"),markerStart:""}}}),Qe(ge.prototype,"sourceNode",[l.m],Object.getOwnPropertyDescriptor(ge.prototype,"sourceNode"),ge.prototype),Qe(ge.prototype,"targetNode",[l.m],Object.getOwnPropertyDescriptor(ge.prototype,"targetNode"),ge.prototype),Qe(ge.prototype,"textPosition",[l.m],Object.getOwnPropertyDescriptor(ge.prototype,"textPosition"),ge.prototype),Qe(ge.prototype,"setProperty",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setProperty"),ge.prototype),Qe(ge.prototype,"deleteProperty",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"deleteProperty"),ge.prototype),Qe(ge.prototype,"setProperties",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setProperties"),ge.prototype),Qe(ge.prototype,"changeEdgeId",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"changeEdgeId"),ge.prototype),Qe(ge.prototype,"setStyle",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setStyle"),ge.prototype),Qe(ge.prototype,"setStyles",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setStyles"),ge.prototype),Qe(ge.prototype,"updateStyles",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateStyles"),ge.prototype),Qe(ge.prototype,"formatText",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"formatText"),ge.prototype),Qe(ge.prototype,"resetTextPosition",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"resetTextPosition"),ge.prototype),Qe(ge.prototype,"moveText",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"moveText"),ge.prototype),Qe(ge.prototype,"setText",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setText"),ge.prototype),Qe(ge.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateText"),ge.prototype),Qe(ge.prototype,"setAnchors",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setAnchors"),ge.prototype),Qe(ge.prototype,"setSelected",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setSelected"),ge.prototype),Qe(ge.prototype,"setHovered",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setHovered"),ge.prototype),Qe(ge.prototype,"setHitable",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setHitable"),ge.prototype),Qe(ge.prototype,"openEdgeAnimation",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"openEdgeAnimation"),ge.prototype),Qe(ge.prototype,"closeEdgeAnimation",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"closeEdgeAnimation"),ge.prototype),Qe(ge.prototype,"setElementState",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setElementState"),ge.prototype),Qe(ge.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateStartPoint"),ge.prototype),Qe(ge.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"moveStartPoint"),ge.prototype),Qe(ge.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateEndPoint"),ge.prototype),Qe(ge.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"moveEndPoint"),ge.prototype),Qe(ge.prototype,"setZIndex",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"setZIndex"),ge.prototype),Qe(ge.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"initPoints"),ge.prototype),Qe(ge.prototype,"updateAttributes",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateAttributes"),ge.prototype),Qe(ge.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"getAdjustStart"),ge.prototype),Qe(ge.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"getAdjustEnd"),ge.prototype),Qe(ge.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(ge.prototype,"updateAfterAdjustStartAndEnd"),ge.prototype),ge),hf=pf;function La(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?La=function(t){return typeof t}:La=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},La(e)}function ph(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function hh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ph(Object(t),!0).forEach(function(n){gh(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ph(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function NP(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DP(e,r,t){return r&&vh(e.prototype,r),t&&vh(e,t),e}function za(){return typeof Reflect<"u"&&Reflect.get?za=Reflect.get:za=function(r,t,n){var o=jP(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},za.apply(this,arguments)}function jP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=wo(e),e!==null););return e}function CP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&vf(e,r)}function vf(e,r){return vf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},vf(e,r)}function RP(e){var r=_P();return function(){var n=wo(e),o;if(r){var a=wo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return IP(this,o)}}function IP(e,r){if(r&&(La(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yh(e)}function yh(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _P(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wo(e){return wo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},wo(e)}function gh(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var yf=function(e){CP(t,e);var r=RP(t);function t(){var n;NP(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),gh(yh(n),"modelType",ht.LINE_EDGE),n}return DP(t,[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line,a=za(wo(t.prototype),"getEdgeStyle",this).call(this);return hh(hh({},a),It(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}]),t}(hf);function Fa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fa=function(t){return typeof t}:Fa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fa(e)}var ut,mh;function BP(e,r){return HP(e)||FP(e,r)||zP(e,r)||LP()}function LP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zP(e,r){if(e){if(typeof e=="string")return bh(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return bh(e,r)}}function bh(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function FP(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function HP(e){if(Array.isArray(e))return e}function Oh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Eh(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Oh(Object(t),!0).forEach(function(n){mf(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Oh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function GP(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function $P(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Sh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kP(e,r,t){return r&&Sh(e.prototype,r),t&&Sh(e,t),e}function Ao(){return typeof Reflect<"u"&&Reflect.get?Ao=Reflect.get:Ao=function(r,t,n){var o=UP(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Ao.apply(this,arguments)}function UP(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Hn(e),e!==null););return e}function XP(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&gf(e,r)}function gf(e,r){return gf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},gf(e,r)}function YP(e){var r=KP();return function(){var n=Hn(e),o;if(r){var a=Hn(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return WP(this,o)}}function WP(e,r){if(r&&(Fa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hi(e)}function hi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Hn(e){return Hn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Hn(e)}function mf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function sr(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var bf=(ut=function(e){XP(t,e);var r=YP(t);function t(){var n;$P(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),mf(hi(n),"modelType",ht.POLYLINE_EDGE),mf(hi(n),"draggingPointList",void 0),GP(hi(n),"dbClickPosition",mh,hi(n)),n}return kP(t,[{key:"initEdgeData",value:function(o){this.offset=30,Ao(Hn(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline,a=Ao(Hn(t.prototype),"getEdgeStyle",this).call(this);return Eh(Eh({},a),It(o))}},{key:"getTextPosition",value:function(){var o,a=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!a){var f=this.dbClickPosition,p=f.x,g=f.y;return{x:p,y:g}}var O=No(this.points),P=pT(O),N=BP(P,2),B=N[0],H=N[1];return{x:(B.x+H.x)/2,y:(B.y+H.y)/2}}},{key:"getAfterAnchor",value:function(o,a,f){var p,g;return f.forEach(function(O){var P;o===Dt.HORIZONTAL?P=Math.abs(a.y-O.y):o===Dt.VERTICAL&&(P=Math.abs(a.x-O.x)),(!g||g>P)&&(g=P,p=O)}),p}},{key:"getCrossPoint",value:function(o,a,f){var p;return o===Dt.HORIZONTAL?p={x:f.x,y:a.y}:o===Dt.VERTICAL&&(p={x:a.x,y:f.y}),p}},{key:"removeCrossPoints",value:function(o,a,f){var p=f.map(function(Ne){return Ne});if(o===1){var g=p[o],O=p[a],P=p[o-1],N=jh(P,g,this.sourceNode);if(N){var B=Ch(g,O,this.sourceNode);if(B){var H=Rh(g,O,this.sourceNode);H&&(p[o]=H,p.splice(o-1,1),o--,a--)}}else{var K=this.sourceNode.anchors;K.forEach(function(Ne){if(Ne.x===P.x&&Ne.x===g.x||Ne.y===P.y&&Ne.y===g.y){var ke=Wr(Ne.x,Ne.y,g.x,g.y),Re=Wr(P.x,P.y,g.x,g.y);ke<Re&&(p[o-1]=Ne)}})}}if(a===f.length-2){var ie=p[o],oe=p[a],ue=p[a+1],we=jh(oe,ue,this.targetNode);if(we){var je=Ch(ie,oe,this.targetNode);if(je){var ye=Rh(ie,oe,this.targetNode);ye&&(p[a]=ye,p.splice(a+1,1))}}else{var _e=this.targetNode.anchors;_e.forEach(function(Ne){if(Ne.x===ue.x&&Ne.x===oe.x||Ne.y===ue.y&&Ne.y===oe.y){var ke=Wr(Ne.x,Ne.y,oe.x,oe.y),Re=Wr(ue.x,ue.y,oe.x,oe.y);ke<Re&&(p[a+1]=Ne)}})}}return p}},{key:"getDraggingPoints",value:function(o,a,f,p,g){var O=g.map(function(B){return B}),P=this.getAfterAnchor(o,f,p),N=this.getCrossPoint(o,f,P);return a==="start"?(O.unshift(N),O.unshift(P)):(O.push(N),O.push(P)),O}},{key:"updateCrossPoints",value:function(o){var a=o.map(function(ye){return ye}),f=o[0],p=o[1],g=o[a.length-2],O=o[a.length-1],P=this.sourceNode,N=this.targetNode,B=P.modelType,H=N.modelType,K=Ya(f,p),ie=a[0];switch(B){case ht.RECT_NODE:if(P.radius!==0){var oe=Gp(f,P);oe||(ie=Hp(f,K,P))}break;case ht.CIRCLE_NODE:ie=ff(f,K,P);break;case ht.ELLIPSE_NODE:ie=$p(f,K,P);break;case ht.DIAMOND_NODE:ie=_a(f,K,P);break;case ht.POLYGON_NODE:ie=_a(f,K,P);break}a[0]=ie;var ue=Ya(g,O),we=a[a.length-1];switch(H){case ht.RECT_NODE:if(N.radius!==0){var je=Gp(O,N);je||(we=Hp(O,ue,N))}break;case ht.CIRCLE_NODE:we=ff(O,ue,N);break;case ht.ELLIPSE_NODE:we=$p(O,ue,N);break;case ht.DIAMOND_NODE:we=_a(O,ue,N);break;case ht.POLYGON_NODE:we=_a(O,ue,N);break}return a[a.length-1]=we,a}},{key:"getData",value:function(){var o=Ao(Hn(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(f){var p=f.x,g=f.y;return{x:p,y:g}});return Object.assign({},o,{pointsList:a})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Dh({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(a){return"".concat(a.x,",").concat(a.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draggingPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,a){this.isDragging=!0;var f=o.start,p=o.end,g=o.startIndex,O=o.endIndex,P=o.direction,N=this.pointsList,B=N;return P===Dt.HORIZONTAL?(N[g]={x:f.x,y:f.y+a.y},N[O]={x:p.x,y:p.y+a.y},B=this.pointsList.map(function(H){return H})):P===Dt.VERTICAL&&(N[g]={x:f.x+a.x,y:f.y},N[O]={x:p.x+a.x,y:p.y},B=this.pointsList.map(function(H){return H})),this.updatePointsAfterDrag(B),this.draggingPointList=B,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},N[g]),end:Object.assign({},N[O]),startIndex:g,endIndex:O,direction:P}}},{key:"dragAppend",value:function(o,a){this.isDragging=!0;var f=o.start,p=o.end,g=o.startIndex,O=o.endIndex,P=o.direction,N=this.pointsList;if(P===Dt.HORIZONTAL){N[g]={x:f.x,y:f.y+a.y},N[O]={x:p.x,y:p.y+a.y};var B=this.pointsList.map(function(st){return st});if(g!==0&&O!==this.pointsList.length-1&&(B=this.removeCrossPoints(g,O,B)),g===0){var H={x:f.x,y:f.y+a.y},K=Fn(H,this.sourceNode);if(!K){var ie=this.sourceNode.anchors;B=this.getDraggingPoints(P,"start",H,ie,B)}}if(O===this.pointsList.length-1){var oe={x:p.x,y:p.y+a.y},ue=Fn(oe,this.targetNode);if(!ue){var we=this.targetNode.anchors;B=this.getDraggingPoints(P,"end",oe,we,B)}}this.updatePointsAfterDrag(B),this.draggingPointList=B}else if(P===Dt.VERTICAL){N[g]={x:f.x+a.x,y:f.y},N[O]={x:p.x+a.x,y:p.y};var je=this.pointsList.map(function(st){return st});if(g!==0&&O!==this.pointsList.length-1&&(je=this.removeCrossPoints(g,O,je)),g===0){var ye={x:f.x+a.x,y:f.y},_e=Fn(ye,this.sourceNode);if(!_e){var Ne=this.sourceNode.anchors;je=this.getDraggingPoints(P,"start",ye,Ne,je)}}if(O===this.pointsList.length-1){var ke={x:p.x+a.x,y:p.y},Re=Fn(ke,this.targetNode);if(!Re){var qe=this.targetNode.anchors;je=this.getDraggingPoints(P,"end",ke,qe,je)}}this.updatePointsAfterDrag(je),this.draggingPointList=je}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},N[g]),end:Object.assign({},N[O]),startIndex:g,endIndex:O,direction:P}}},{key:"dragAppendEnd",value:function(){if(this.draggingPointList){var o=Nh(No(this.points));this.pointsList=o.map(function(p){return p}),this.draggingPointList=[];var a=o[0];this.startPoint=Object.assign({},a);var f=o[o.length-1];this.endPoint=Object.assign({},f)}this.isDragging=!1}},{key:"updatePointsAfterDrag",value:function(o){var a=this.updateCrossPoints(o);this.points=a.map(function(f){return"".concat(f.x,",").concat(f.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,f=o.endPoint,p=o.sourceNode,g=o.targetNode,O=Dh({x:a.x,y:a.y},{x:f.x,y:f.y},p,g,this.offset||0);this.pointsList=O,this.initPoints()}}]),t}(hf),mh=sr(ut.prototype,"dbClickPosition",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sr(ut.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"initPoints"),ut.prototype),sr(ut.prototype,"updatePoints",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"updatePoints"),ut.prototype),sr(ut.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateStartPoint"),ut.prototype),sr(ut.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"moveStartPoint"),ut.prototype),sr(ut.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateEndPoint"),ut.prototype),sr(ut.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"moveEndPoint"),ut.prototype),sr(ut.prototype,"dragAppendStart",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendStart"),ut.prototype),sr(ut.prototype,"dragAppendSimple",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendSimple"),ut.prototype),sr(ut.prototype,"dragAppend",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppend"),ut.prototype),sr(ut.prototype,"dragAppendEnd",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"dragAppendEnd"),ut.prototype),sr(ut.prototype,"updatePointsAfterDrag",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"updatePointsAfterDrag"),ut.prototype),sr(ut.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"getAdjustStart"),ut.prototype),sr(ut.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"getAdjustEnd"),ut.prototype),sr(ut.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(ut.prototype,"updateAfterAdjustStartAndEnd"),ut.prototype),ut),vi=function(r){var t=r.start,n=r.end,o=r.offset,a=r.verticalLength,f=r.type,p={leftX:0,leftY:0,rightX:0,rightY:0},g=Math.atan((n.y-t.y)/(n.x-t.x)),O=Math.atan(o/a),P=Math.sqrt(a*a+o*o);return f==="start"?n.x>=t.x?(p.leftX=t.x+P*Math.sin(g+O),p.leftY=t.y-P*Math.cos(g+O),p.rightX=t.x-P*Math.sin(g-O),p.rightY=t.y+P*Math.cos(g-O)):(p.leftX=t.x-P*Math.sin(g+O),p.leftY=t.y+P*Math.cos(g+O),p.rightX=t.x+P*Math.sin(g-O),p.rightY=t.y-P*Math.cos(g-O)):f==="end"&&(n.x>=t.x?(p.leftX=n.x+P*Math.sin(g-O),p.leftY=n.y-P*Math.cos(g-O),p.rightX=n.x-P*Math.sin(g+O),p.rightY=n.y+P*Math.cos(g+O)):(p.leftX=n.x-P*Math.sin(g-O),p.leftY=n.y+P*Math.cos(g-O),p.rightX=n.x+P*Math.sin(g+O),p.rightY=n.y-P*Math.cos(g+O))),p};function xh(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ha(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?xh(Object(t),!0).forEach(function(n){VP(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xh(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function VP(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ZP(e){return qP(e)||QP(e)||Ph(e)||JP()}function JP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QP(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function qP(e){if(Array.isArray(e))return Ef(e)}function Ga(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ga=function(t){return typeof t}:Ga=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ga(e)}function Of(e,r){return rT(e)||tT(e,r)||Ph(e,r)||eT()}function eT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ph(e,r){if(e){if(typeof e=="string")return Ef(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ef(e,r)}}function Ef(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function tT(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function rT(e){if(Array.isArray(e))return e}var nT=function(r,t){return Math.abs(r.centerX-t.centerX)*2<r.width+t.width&&Math.abs(r.centerY-t.centerY)*2<r.height+t.height},Sf=function(r){var t=[],n={};return r.forEach(function(o){var a="".concat(o.x,"-").concat(o.y);o.id=a,n[a]=o}),Object.keys(n).forEach(function(o){t.push(n[o])}),t},$a=function(r,t){return r.width===0&&r.height===0?r:{centerX:r.centerX,centerY:r.centerY,minX:r.minX-t,minY:r.minY-t,maxX:r.maxX+t,maxY:r.maxY+t,height:r.height+2*t,width:r.width+2*t}},oT=function(r,t){var n=Math.abs(r.x-t.centerX),o=Math.abs(r.y-t.centerY);return n/t.width>o/t.height?Dt.HORIZONTAL:Dt.VERTICAL},ka=function(r,t){var n=oT(t,r);return n===Dt.HORIZONTAL?{x:t.x>r.centerX?r.maxX:r.minX,y:t.y}:{x:t.x,y:t.y>r.centerY?r.maxY:r.minY}},Th=function(r,t){var n=Math.min(r.minX,t.minX),o=Math.min(r.minY,t.minY),a=Math.max(r.maxX,t.maxX),f=Math.max(r.maxY,t.maxY);return{centerX:(n+a)/2,centerY:(o+f)/2,minX:n,minY:o,maxX:a,maxY:f,height:f-o,width:a-n}},yi=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],o=[];r.forEach(function(N){n.push(N.x),o.push(N.y)});var a=Math.min.apply(Math,n),f=Math.max.apply(Math,n),p=Math.min.apply(Math,o),g=Math.max.apply(Math,o),O=f-a,P=g-p;return t&&(O+=t,P+=t),{centerX:(a+f)/2,centerY:(p+g)/2,maxX:f,maxY:g,minX:a,minY:p,x:(a+f)/2,y:(p+g)/2,height:P,width:O}},Ua=function(r){var t=r.minX,n=r.minY,o=r.maxX,a=r.maxY;return[{x:t,y:n},{x:o,y:n},{x:o,y:a},{x:t,y:a}]},Xa=function(r,t){var n=r.x,o=r.y;return n<t.minX||n>t.maxX||o<t.minY||o>t.maxY},iT=function(r,t){return t<r.minX||t>r.maxX?[]:[{x:t,y:r.minY},{x:t,y:r.maxY}]},aT=function(r,t){return t<r.minY||t>r.maxY?[]:[{x:r.minX,y:t},{x:r.maxX,y:t}]},uT=function(r,t){return iT(r,t.x).concat(aT(r,t.y))},xf=function(r,t){return Math.abs(r.x-t.x)+Math.abs(r.y-t.y)},sT=function(r,t){var n=-2,o=0;return t.forEach(function(a){a&&(r.x===a.x&&(o+=n),r.y===a.y&&(o+=n))}),o},Mh=function(r,t,n,o,a){return xf(r,t)+xf(r,n)+sT(r,[t,n,o,a])},lT=function e(r,t,n,o,a){a||(a=0),r.unshift(t[o]),n[o]&&n[o]!==o&&a<=100&&e(r,t,n,n[o],a+1)},fT=function(r,t){var n=r.indexOf(t);n>-1&&r.splice(n,1)},gi=function(r,t,n,o){var a=t.x-r.x,f=t.y-r.y,p=o.x-n.x,g=o.y-n.y,O=(-f*(r.x-n.x)+a*(r.y-n.y))/(-p*f+a*g),P=(p*(r.y-n.y)-g*(r.x-n.x))/(-p*f+a*g);return O>=0&&O<=1&&P>=0&&P<=1},wh=function(r,t,n){if(n.width===0&&n.height===0)return!1;var o=Ua(n),a=Of(o,4),f=a[0],p=a[1],g=a[2],O=a[3];return gi(r,t,f,p)||gi(r,t,f,O)||gi(r,t,p,g)||gi(r,t,g,O)},cT=function(r,t,n,o){var a=[];return r.forEach(function(f){f!==t&&(f.x===t.x||f.y===t.y)&&!wh(f,t,n)&&!wh(f,t,o)&&a.push(f)}),Sf(a)},dT=function(r,t,n,o,a,f,p){var g=[],O=[t],P={},N={},B={};N[t.id]=0,B[t.id]=Mh(t,n,t);var H={};r.forEach(function(oe){H[oe.id]=oe});for(var K=function(){var ue=void 0,we=1/0;if(O.forEach(function(ye){B[ye.id]<we&&(we=B[ye.id],ue=ye)}),ue===n){var je=[];return lT(je,H,P,n.id),{v:je}}fT(O,ue),g.push(ue),cT(r,ue,o,a).forEach(function(ye){if(g.indexOf(ye)===-1){O.indexOf(ye)===-1&&O.push(ye);var _e=B[ue.id]+xf(ue,ye);N[ye.id]&&_e>=N[ye.id]||(P[ye.id]=ue.id,N[ye.id]=_e,B[ye.id]=N[ye.id]+Mh(ye,n,t,f,p))}})};O.length;){var ie=K();if(Ga(ie)==="object")return ie.v}return[t,n]},Ah=function(r){var t=xr(r);return t},Nh=function(r){for(var t=1;t<r.length-1;){var n=r[t-1],o=r[t],a=r[t+1];n.x===o.x&&o.x===a.x||n.y===o.y&&o.y===a.y?r.splice(t,1):t++}return r},Dh=function(r,t,n,o,a){var f=Ah(n),p=Ah(o),g=$a(f,a),O=$a(p,a),P=ka(g,r),N=ka(O,t);if(nT(g,O)){var B=hT(r,t,P,N);return[r,P].concat(ZP(B),[N,t])}var H=yi([P,N]),K=Th(g,H),ie=Th(O,H),oe=[];oe=oe.concat(Ua(K)),oe=oe.concat(Ua(ie));var ue={x:(r.x+t.x)/2,y:(r.y+t.y)/2};[H,K,ie].forEach(function(je){oe=oe.concat(uT(je,ue).filter(function(ye){return Xa(ye,g)&&Xa(ye,O)}))}),[{x:P.x,y:N.y},{x:N.x,y:P.y}].forEach(function(je){Xa(je,g)&&Xa(je,O)&&oe.push(je)}),oe.unshift(P),oe.push(N),oe=Sf(oe);var we=dT(oe,P,N,f,p,r,t);return we.unshift(r),we.push(t),we.length>2&&(we=Nh(we)),Sf(we)},pT=function(r){var t;if(r.length===1)t=[r[0],r[0]];else if(r.length>=2){for(var n=r[0],o=r[1],a=Wr(n.x,n.y,o.x,o.y),f=1;f<r.length-1;f++){var p=r[f],g=r[f+1],O=Wr(p.x,p.y,g.x,g.y);O>a&&(a=O,n=p,o=g)}t=[n,o]}return t},jh=function(r,t,n){var o=Fn(r,n),a=Fn(t,n);return o&&a},Ch=function(r,t,n){var o=Fn(r,n),a=Fn(t,n),f=o&&a,p=o||a;return!f&&p},Rh=function(r,t,n){for(var o,a,f=xr(n),p=Ua(f),g=0;g<p.length;g++){var O=gi(r,t,p[g],p[(g+1)%p.length]);O&&(a=[p[g],p[(g+1)%p.length]])}return a&&(o=gP(r,t,a[0],a[1])),o},Ya=function(r,t){var n;return r.x===t.x?n=Dt.VERTICAL:r.y===t.y&&(n=Dt.HORIZONTAL),n},No=function(r){var t=r.split(" "),n=[];return t&&t.forEach(function(o){var a=o.split(","),f=Of(a,2),p=f[0],g=f[1];n.push({x:Number(p),y:Number(g)})}),n},hT=function(r,t,n,o){var a=[],f=Ya(r,n),p=Ya(t,o);if(f===p)r.y===n.y?(a.push({x:n.x,y:(n.y+o.y)/2}),a.push({x:o.x,y:(n.y+o.y)/2})):(a.push({x:(n.x+o.x)/2,y:n.y}),a.push({x:(n.x+o.x)/2,y:o.y}));else{var g={x:n.x,y:o.y},O=pi(g,r,n),P=pi(g,t,o);if(O||P)g={x:o.x,y:n.y};else{var N=Ih(g,r,n),B=Ih(g,t,o);N&&B&&(g={x:o.x,y:n.y})}a.push(g)}return a},Ih=function(r,t,n){return r.x===t.x&&r.x===n.x||r.y===t.y&&r.y===n.y},_h=function(r){if(!r)return 0;for(var t=0,n=0;n<r.length;n++){var o=r.charCodeAt(n);r.match(/[A-Z]/)?t+=1.5:o>=1&&o<=126||o>=65376&&o<=65439?t+=1:t+=2}return t},vT=function(r){var t=r.start,n=r.end,o;if(t.x===n.x&&t.y===n.y)o="";else{var a={start:t,end:n,offset:10,verticalLength:5},f=vi(Ha(Ha({},a),{},{type:"start"})),p=vi(Ha(Ha({},a),{},{type:"end"}));o="M".concat(f.leftX," ").concat(f.leftY,` 
    L`).concat(f.rightX," ").concat(f.rightY,` 
    L`).concat(p.rightX," ").concat(p.rightY,`
    L`).concat(p.leftX," ").concat(p.leftY," z")}return{d:o,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}},Bh=function(r){var t=r.start,n=r.end,o=r.sourceNode,a=r.targetNode,f=r.offset,p=xr(o),g=xr(a),O=$a(p,f),P=$a(g,f),N=ka(O,t),B=ka(P,n);return{sNext:N,ePre:B}},Wa=function(r){var t=r.replace(/M/g,"").replace(/C/g,",").split(","),n=Ka(t[0]),o=Ka(t[1]),a=Ka(t[2]),f=Ka(t[3]);return[n,o,a,f]},Ka=function(r){var t=r.replace(/(^\s*)/g,"").split(" "),n=Of(t,2),o=n[0],a=n[1];return{x:+o,y:+a}},yT=function(r){var t=Wa(r);return[t[2],t[3]]},Lh=function(r,t){for(var n=r.x,o=r.y,a=No(t),f=Number.MAX_SAFE_INTEGER,p,g=[],O=0;O<a.length;O++)g.push({start:a[O],end:a[(O+1)%a.length]});if(g.forEach(function(H){var K=H.start,ie=H.end;if(K.x===ie.x){var oe={x:K.x,y:o},ue=pi(oe,K,ie);if(ue){var we=Math.abs(K.x-n);we<f&&(f=we,p=oe)}}else if(K.y===ie.y){var je={x:n,y:K.y},ye=pi(je,K,ie);if(ye){var _e=Math.abs(K.y-o);_e<f&&(f=_e,p=je)}}}),!p){var P=g[0],N=P.start,B=P.end;p={x:N.x+(B.x-N.x)/2,y:N.y+(B.y-N.y)/2}}return p},gT=function(r){return ci(r,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},zh=function(r,t){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))};function mT(e,r){return typeof r!="function"?function(t,n,o){return Object.assign({type:e.edgeType},o)}:function(t,n,o){var a=r(t,n,o);return a?typeof a=="string"?Object.assign({},o,{type:a}):Object.assign({type:a},o):{type:e.edgeType}}}i(204);function bT(){}var Do=bT;function OT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Fh(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ET(e,r,t){return r&&Fh(e.prototype,r),t&&Fh(e,t),e}function $t(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Kr=window.document,Hh=0;function ST(e){var r=e.onDragStart,t=r===void 0?Do:r,n=e.onDragging,o=n===void 0?Do:n,a=e.onDragEnd,f=a===void 0?Do:a,p=e.step,g=p===void 0?1:p,O=e.isStopPropagation,P=O===void 0?!0:O,N=!1,B=!1,H=0,K=0,ie=0,oe=0;function ue(ye){if(P&&ye.stopPropagation(),!!B&&(N=!0,ie+=ye.clientX-H,oe+=ye.clientY-K,H=ye.clientX,K=ye.clientY,Math.abs(ie)>g||Math.abs(oe)>g)){var _e=ie%g,Ne=oe%g,ke=ie-_e,Re=oe-Ne;ie=_e,oe=Ne,o({deltaX:ke,deltaY:Re,event:ye})}}function we(ye){if(P&&ye.stopPropagation(),B=!1,Kr.removeEventListener("mousemove",ue,!1),Kr.removeEventListener("mouseup",we,!1),!!N)return N=!1,f({event:ye})}function je(ye){if(ye.button===Hh)return P&&ye.stopPropagation(),B=!0,H=ye.clientX,K=ye.clientY,Kr.addEventListener("mousemove",ue,!1),Kr.addEventListener("mouseup",we,!1),t({event:ye})}return je}var cn=function(){function e(r){var t=this,n=r.onDragStart,o=n===void 0?Do:n,a=r.onDragging,f=a===void 0?Do:a,p=r.onDragEnd,g=p===void 0?Do:p,O=r.eventType,P=O===void 0?"":O,N=r.eventCenter,B=N===void 0?null:N,H=r.step,K=H===void 0?1:H,ie=r.isStopPropagation,oe=ie===void 0?!0:ie,ue=r.model,we=ue===void 0?null:ue,je=r.data,ye=je===void 0?null:je;OT(this,e),$t(this,"onDragStart",void 0),$t(this,"onDragging",void 0),$t(this,"onDragEnd",void 0),$t(this,"step",void 0),$t(this,"isStopPropagation",void 0),$t(this,"isDragging",!1),$t(this,"isStartDragging",!1),$t(this,"startX",0),$t(this,"startY",0),$t(this,"sumDeltaX",0),$t(this,"sumDeltaY",0),$t(this,"eventType",void 0),$t(this,"eventCenter",void 0),$t(this,"model",void 0),$t(this,"data",void 0),$t(this,"startTime",void 0),$t(this,"handleMouseDown",function(_e){var Ne,ke;if(_e.button===Hh){t.isStopPropagation&&_e.stopPropagation(),t.isStartDragging=!0,t.startX=_e.clientX,t.startY=_e.clientY,Kr.addEventListener("mousemove",t.handleMouseMove,!1),Kr.addEventListener("mouseup",t.handleMouseUp,!1);var Re=(Ne=t.model)===null||Ne===void 0?void 0:Ne.getData();(ke=t.eventCenter)===null||ke===void 0||ke.emit(rt["".concat(t.eventType,"_MOUSEDOWN")],{e:_e,data:t.data||Re}),t.startTime=new Date().getTime()}}),$t(this,"handleMouseMove",function(_e){if(t.isStopPropagation&&_e.stopPropagation(),!!t.isStartDragging&&(t.sumDeltaX+=_e.clientX-t.startX,t.sumDeltaY+=_e.clientY-t.startY,t.startX=_e.clientX,t.startY=_e.clientY,t.step<=1||Math.abs(t.sumDeltaX)>t.step||Math.abs(t.sumDeltaY)>t.step)){var Ne,ke=t.sumDeltaX%t.step,Re=t.sumDeltaY%t.step,qe=t.sumDeltaX-ke,st=t.sumDeltaY-Re;t.sumDeltaX=ke,t.sumDeltaY=Re;var _t=(Ne=t.model)===null||Ne===void 0?void 0:Ne.getData();if(!t.isDragging){var Ft;(Ft=t.eventCenter)===null||Ft===void 0||Ft.emit(rt["".concat(t.eventType,"_DRAGSTART")],{e:_e,data:t.data||_t}),t.onDragStart({event:_e})}t.isDragging=!0,Promise.resolve().then(function(){var Kt,ir;t.onDragging({deltaX:qe,deltaY:st,event:_e}),(Kt=t.eventCenter)===null||Kt===void 0||Kt.emit(rt["".concat(t.eventType,"_MOUSEMOVE")],{e:_e,data:t.data||_t}),(ir=t.eventCenter)===null||ir===void 0||ir.emit(rt["".concat(t.eventType,"_DRAG")],{e:_e,data:t.data||_t})})}}),$t(this,"handleMouseUp",function(_e){t.isStartDragging=!1,t.isStopPropagation&&_e.stopPropagation(),Promise.resolve().then(function(){var Ne,ke,Re;Kr.removeEventListener("mousemove",t.handleMouseMove,!1),Kr.removeEventListener("mouseup",t.handleMouseUp,!1);var qe=(Ne=t.model)===null||Ne===void 0?void 0:Ne.getData();(ke=t.eventCenter)===null||ke===void 0||ke.emit(rt["".concat(t.eventType,"_MOUSEUP")],{e:_e,data:t.data||qe}),t.isDragging&&(t.isDragging=!1,t.onDragEnd({event:_e}),(Re=t.eventCenter)===null||Re===void 0||Re.emit(rt["".concat(t.eventType,"_DROP")],{e:_e,data:t.data||qe}))})}),$t(this,"cancelDrag",function(){Kr.removeEventListener("mousemove",t.handleMouseMove,!1),Kr.removeEventListener("mouseup",t.handleMouseUp,!1),t.onDragEnd({event:null}),t.isDragging=!1}),this.onDragStart=o,this.onDragging=f,this.onDragEnd=g,this.step=K,this.isStopPropagation=oe,this.eventType=P,this.eventCenter=B,this.model=we,this.data=ye}return ET(e,[{key:"setStep",value:function(t){this.step=t}}]),e}(),Gh={node:!1,edge:!1},xT={node:!0,edge:!0},PT=function(r){return!r||typeof r=="boolean"?It(r===!0?xT:Gh):Cp(It(Gh),r)},de,$h,kh,Uh,Xh,Yh,Wh,Kh,Vh,Zh,Jh,Qh,qh;function ev(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Va(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ev(Object(t),!0).forEach(function(n){Vr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ev(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function mi(e,r){return wT(e)||MT(e,r)||tv(e,r)||TT()}function TT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MT(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function wT(e){if(Array.isArray(e))return e}function jo(e){return DT(e)||NT(e)||tv(e)||AT()}function AT(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tv(e,r){if(e){if(typeof e=="string")return Pf(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pf(e,r)}}function NT(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function DT(e){if(Array.isArray(e))return Pf(e)}function Pf(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function bi(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bi=function(t){return typeof t}:bi=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bi(e)}function Rr(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function jT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function rv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CT(e,r,t){return r&&rv(e.prototype,r),t&&rv(e,t),e}function Vr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ze(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Za=200,nv=(de=function(){function e(r){jT(this,e),Vr(this,"rootEl",void 0),Rr(this,"width",$h,this),Rr(this,"height",kh,this),Vr(this,"theme",void 0),Vr(this,"eventCenter",void 0),Vr(this,"modelMap",new Map),Vr(this,"topElement",void 0),Vr(this,"animation",void 0),Vr(this,"idGenerator",void 0),Vr(this,"edgeGenerator",void 0),Vr(this,"nodeMoveRules",[]),Rr(this,"edgeType",Uh,this),Rr(this,"nodes",Xh,this),Rr(this,"edges",Yh,this),Rr(this,"overlapMode",Wh,this),Rr(this,"background",Kh,this),Rr(this,"transformModel",Vh,this),Rr(this,"editConfigModel",Zh,this),Rr(this,"gridSize",Jh,this),Rr(this,"partial",Qh,this),Rr(this,"fakerNode",qh,this);var t=r.container,n=r.background,o=n===void 0?{}:n,a=r.grid,f=r.idGenerator,p=r.edgeGenerator,g=r.animation;this.background=o,bi(a)==="object"&&(this.gridSize=a.size),this.rootEl=t,this.editConfigModel=new ap(r),this.eventCenter=new nP,this.transformModel=new $S(this.eventCenter),this.theme=Rp(r.style),this.edgeType=r.edgeType||"polyline",this.width=r.width,this.height=r.height,this.animation=PT(g),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=f,this.edgeGenerator=mT(this,p),this.width=r.width||this.rootEl.getBoundingClientRect().width,this.height=r.height||this.rootEl.getBoundingClientRect().height,this.flowId=zn()}return CT(e,[{key:"nodesMap",get:function(){return this.nodes.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(t,n,o){return t[n.id]={index:o,model:n},t},{})}},{key:"modelsMap",get:function(){return[].concat(jo(this.nodes),jo(this.edges)).reduce(function(t,n){return t[n.id]=n,t},{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach(function(g){return t.push(g)}),this.edges.forEach(function(g){return t.push(g)}),t=t.sort(function(g,O){return g.zIndex-O.zIndex});for(var n=[],o=[-Za,-Za],a=[this.width+Za,this.height+Za],f=0;f<t.length;f++){var p=t[f];p.visible&&(!this.partial||p.isSelected||this.isElementInArea(p,o,a,!1,!1))&&n.push(p)}return n}},{key:"textEditElement",get:function(){var t=this.nodes.find(function(o){return o.state===bt.TEXT_EDIT}),n=this.edges.find(function(o){return o.state===bt.TEXT_EDIT});return t||n}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach(function(n){n.isSelected&&t.set(n.id,n)}),this.edges.forEach(function(n){n.isSelected&&t.set(n.id,n)}),t}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,p=[],g=[];this.nodes.forEach(function(N){return g.push(N)}),this.edges.forEach(function(N){return g.push(N)});for(var O=0;O<g.length;O++){var P=g[O];(!f||P.visible)&&this.isElementInArea(P,t,n,o,a)&&p.push(P)}return p}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var n;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:(n=this.nodesMap[t])===null||n===void 0?void 0:n.model}},{key:"getPointByClient",value:function(t){var n=t.x,o=t.y,a=this.rootEl.getBoundingClientRect(),f={x:n-a.left,y:o-a.top},p=this.transformModel.HtmlPointToCanvasPoint([f.x,f.y]),g=mi(p,2),O=g[0],P=g[1];return{domOverlayPosition:f,canvasOverlayPosition:{x:O,y:P}}}},{key:"isElementInArea",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(t.BaseType===Ht.NODE){t=t;for(var p=xr(t),g=p.minX,O=p.minY,P=p.maxX,N=p.maxY,B=[{x:g,y:O},{x:P,y:O},{x:P,y:N},{x:g,y:N}],H=f,K=0;K<B.length;K++){var ie=B[K],oe=ie.x,ue=ie.y,we=this.transformModel.CanvasPointToHtmlPoint([oe,ue]),je=mi(we,2);if(oe=je[0],ue=je[1],af([oe,ue],n,o)!==f){H=!f;break}}return H}if(t.BaseType===Ht.EDGE){t=t;var ye=t,_e=ye.startPoint,Ne=ye.endPoint,ke=this.transformModel.CanvasPointToHtmlPoint([_e.x,_e.y]),Re=this.transformModel.CanvasPointToHtmlPoint([Ne.x,Ne.y]),qe=af(ke,n,o),st=af(Re,n,o);return a?qe&&st:qe||st}return!1}},{key:"graphDataToModel",value:function(t){var n=this;(!this.width||!this.height)&&this.resize(),this.nodes=wa(t.nodes,function(o){var a=n.getModel(o.type);if(!a)throw new Error("找不到".concat(o.type,"对应的节点。"));var f=o.x,p=o.y;return f&&p&&(o.x=Ln(f,n.gridSize),o.y=Ln(p,n.gridSize),bi(o.text)==="object"&&(o.text.x-=_p(f,n.gridSize),o.text.y-=_p(p,n.gridSize))),new a(o,n)}),this.edges=wa(t.edges,function(o){var a=n.getModel(o.type);if(!a)throw new Error("找不到".concat(o.type,"对应的边。"));return new a(o,n)})}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach(function(o){var a=o.getData();a&&!o.virtual&&t.push(a)});var n=[];return this.nodes.forEach(function(o){var a=o.getData();a&&!o.virtual&&n.push(a)}),{nodes:n,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,n=[],o=0;o<this.nodes.length;o++){var a=this.nodes[o];if(a.isDragging){t=!0;break}else n.push(a.getHistoryData())}if(t)return!1;for(var f=!1,p=[],g=0;g<this.edges.length;g++){var O=this.edges[g];if(O.isDragging){f=!0;break}else p.push(O.getHistoryData())}return f?!1:{nodes:n,edges:p}}},{key:"getEdgeModelById",value:function(t){var n;return(n=this.edgesMap[t])===null||n===void 0?void 0:n.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var n=[],o=0;o<this.edges.length;o++){var a=this.edges[o],f=this.edges[o].sourceNodeId===t,p=this.edges[o].targetNodeId===t;(f||p)&&n.push(a)}return n}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=this.selectElements,o={nodes:[],edges:[]};return n.forEach(function(a){if(a.BaseType===Ht.NODE&&o.nodes.push(a.getData()),a.BaseType===Ht.EDGE){var f=a.getData(),p=n.get(f.sourceNodeId)&&n.get(f.targetNodeId);(t||p)&&o.edges.push(f)}}),o}},{key:"updateAttributes",value:function(t,n){var o=this.getElement(t);o.updateAttributes(n)}},{key:"changeNodeId",value:function(t,n){return n||(n=zn()),this.nodesMap[n]?(console.warn("当前流程图已存在节点".concat(n,", 修改失败")),""):this.nodesMap[t]?(this.edges.forEach(function(o){o.sourceNodeId===t&&(o.sourceNodeId=n),o.targetNodeId===t&&(o.targetNodeId=n)}),this.nodesMap[t].model.id=n,n):(console.warn("当前流程图找不到节点".concat(n,", 修改失败")),"")}},{key:"changeEdgeId",value:function(t,n){return n||(n=zn()),this.edgesMap[n]?(console.warn("当前流程图已存在边: ".concat(n,", 修改失败")),""):this.edgesMap[t]?(this.edges.forEach(function(o){o.id===t&&o.changeEdgeId(n)}),n):(console.warn("当前流程图找不到边: ".concat(n,", 修改失败")),"")}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,n){return this.modelMap.set(t,n)}},{key:"toFront",value:function(t){var n,o,a=((n=this.nodesMap[t])===null||n===void 0?void 0:n.model)||((o=this.edgesMap[t])===null||o===void 0?void 0:o.model);if(a){if(this.overlapMode===Sr.DEFAULT){var f;(f=this.topElement)===null||f===void 0||f.setZIndex(),a.setZIndex(_S),this.topElement=a}this.overlapMode===Sr.INCREASE&&this.setElementZIndex(t,"top")}}},{key:"setElementZIndex",value:function(t,n){var o,a,f=((o=this.nodesMap[t])===null||o===void 0?void 0:o.model)||((a=this.edgesMap[t])===null||a===void 0?void 0:a.model);if(f){var p;typeof n=="number"&&(p=n),n==="top"&&(p=df()),n==="bottom"&&(p=MP()),f.setZIndex(p)}}},{key:"deleteNode",value:function(t){var n=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(rt.NODE_DELETE,{data:n})}},{key:"addNode",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rt.NODE_ADD,o=rr(t);o.id&&this.nodesMap[t.id]&&delete o.id;var a=this.getModel(o.type);if(!a)throw new Error("找不到".concat(o.type,"对应的节点，请确认是否已注册此类型节点。"));o.x=Ln(o.x,this.gridSize),o.y=Ln(o.y,this.gridSize);var f=new a(o,this);this.nodes.push(f);var p=f.getData();return this.eventCenter.emit(n,{data:p}),f}},{key:"cloneNode",value:function(t){var n=this.getNodeModelById(t),o=n.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var a=this.addNode(o);return a.setSelected(!0),n.setSelected(!1),a.getData()}},{key:"moveNode",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=this.nodesMap[t];if(!f){console.warn("不存在id为".concat(t,"的节点"));return}var p=f.model,g=p.getMoveDistance(n,o,a),O=mi(g,2);n=O[0],o=O[1],this.moveEdge(t,n,o)}},{key:"moveNode2Coordinate",value:function(t,n,o){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=this.nodesMap[t];if(!f){console.warn("不存在id为".concat(t,"的节点"));return}var p=f.model,g=p.x,O=p.y,P=n-g,N=o-O;this.moveNode(t,P,N,a)}},{key:"editText",value:function(t){this.setElementStateById(t,bt.TEXT_EDIT)}},{key:"addEdge",value:function(t){var n=rr(t),o=n.type;o||(o=this.edgeType),n.id&&this.edgesMap[n.id]&&delete n.id;var a=this.getModel(o);if(!a)throw new Error("找不到".concat(o,"对应的边，请确认是否已注册此类型边。"));var f=new a(Va(Va({},n),{},{type:o}),this),p=f.getData();return this.edges.push(f),this.eventCenter.emit(rt.EDGE_ADD,{data:p}),f}},{key:"moveEdge",value:function(t,n,o){for(var a=0;a<this.edges.length;a++){var f=this.edges[a],p=f.textPosition,g=p.x,O=p.y,P=this.edges[a].sourceNodeId===t,N=this.edges[a].targetNodeId===t;if(P&&f.moveStartPoint(n,o),N&&f.moveEndPoint(n,o),P||N){var B;if(f.customTextPosition===!0)f.resetTextPosition();else if(f.modelType===ht.POLYLINE_EDGE&&(B=f.text)!==null&&B!==void 0&&B.value){var H=f.text,K=Lh(H,f.points);f.moveText(K.x-H.x,K.y-H.y)}else{var ie=f.textPosition,oe=ie.x,ue=ie.y;f.moveText(oe-g,ue-O)}}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,n){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===t&&this.edges[o].targetNodeId===n){var a=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(rt.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeById",value:function(t){var n=this.edgesMap[t];if(n){var o=this.edgesMap[t].index,a=this.edgesMap[t].model.getData();this.edges.splice(o,1),this.eventCenter.emit(rt.EDGE_DELETE,{data:a})}}},{key:"deleteEdgeBySource",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].sourceNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(rt.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(t){for(var n=0;n<this.edges.length;n++)if(this.edges[n].targetNodeId===t){var o=this.edges[n].getData();this.edges.splice(n,1),n--,this.eventCenter.emit(rt.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(t,n,o){this.nodes.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(bt.DEFAULT)}),this.edges.forEach(function(a){a.id===t?a.setElementState(n,o):a.setElementState(bt.DEFAULT)})}},{key:"updateText",value:function(t,n){this.nodes.forEach(function(o){o.id===t&&o.updateText(n)}),this.edges.forEach(function(o){o.id===t&&o.updateText(n)})}},{key:"selectNodeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.nodesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var n,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o||this.clearSelectElements();var a=(n=this.edgesMap[t])===null||n===void 0?void 0:n.model;a==null||a.setSelected(!0)}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;n||this.clearSelectElements();var o=this.getElement(t);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){if(this.selectElements.forEach(function(n){n==null||n.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===Sr.DEFAULT){var t;(t=this.topElement)===null||t===void 0||t.setZIndex()}}},{key:"moveNodes",value:function(t,n,o){for(var a=this,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,p=t.reduce(function(oe,ue){var we=a.nodesMap[ue].model,je=we.getMoveDistance(n,o,f);return oe[ue]=je,oe},{}),g=0;g<this.edges.length;g++){var O=this.edges[g],P=p[O.sourceNodeId],N=void 0,B=void 0;if(P){var H=mi(P,2);N=H[0],B=H[1],O.moveStartPoint(N,B)}var K=p[O.targetNodeId];if(K){var ie=mi(K,2);N=ie[0],B=ie[1],O.moveEndPoint(N,B)}(P||K)&&O.moveText(N,B)}}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,n){var o=this.getNodeModelById(t);if(!o){console.warn("找不到id为".concat(t,"的节点"));return}var a=o.getData();a.type=n;var f=this.getModel(n);if(!f)throw new Error("找不到".concat(n,"对应的节点，请确认是否已注册此类型节点。"));var p=new f(a,this);this.nodes.splice(this.nodesMap[t].index,1,p);var g=this.getNodeEdges(t);g.forEach(function(O){if(O.sourceNodeId===t){var P=kp(p,O.startPoint,p.width,p.height);O.updateStartPoint(P)}if(O.targetNodeId===t){var N=kp(p,O.endPoint,p.width,p.height);O.updateEndPoint(N)}})}},{key:"changeEdgeType",value:function(t,n){var o=this.getEdgeModelById(t);if(!o){console.warn("找不到id为".concat(t,"的边"));return}if(o.type!==n){var a=o.getData();a.type=n;var f=this.getModel(n);if(!f)throw new Error("找不到".concat(n,"对应的节点，请确认是否已注册此类型节点。"));delete a.pointsList;var p=new f(a,this);this.edges.splice(this.edgesMap[t].index,1,p)}}},{key:"getNodeIncomingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.targetNodeId===t&&n.push(o)}),n}},{key:"getNodeOutgoingEdge",value:function(t){var n=[];return this.edges.forEach(function(o){o.sourceNodeId===t&&n.push(o)}),n}},{key:"getNodeIncomingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.targetNodeId===t&&o.push(n.nodesMap[a.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(t){var n=this,o=[];return this.edges.forEach(function(a){a.sourceNodeId===t&&o.push(n.nodesMap[a.targetNodeId].model)}),o}},{key:"setTheme",value:function(t){this.theme=Rp(Va(Va({},this.theme),t))}},{key:"resize",value:function(t,n){this.width=t||this.rootEl.getBoundingClientRect().width,this.height=n||this.rootEl.getBoundingClientRect().height,(!this.width||!this.height)&&console.warn("渲染画布的时候无法获取画布宽高，请确认在container已挂载到DOM。@see https://github.com/didi/LogicFlow/issues/675")}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,n=[],o=[];t.forEach(function(H){var K=H.x,ie=H.y,oe=H.width,ue=H.height,we=H.getNodeStyle(),je=we.strokeWidth,ye=je===void 0?0:je;n=n.concat([K+oe/2+ye,K-oe/2-ye]),o=o.concat([ie+ue/2+ye,ie-ue/2-ye])});var a=Math.min.apply(Math,jo(n)),f=Math.max.apply(Math,jo(n)),p=Math.min.apply(Math,jo(o)),g=Math.max.apply(Math,jo(o)),O=f-a||0,P=g-p||0,N=a+O/2,B=p+P/2;return{virtualRectWidth:O,virtualRectHeight:P,virtualRectCenterPositionX:N,virtualRectCenterPositionY:B}}},{key:"translateCenter",value:function(){var t=this.nodes,n=this.width,o=this.height,a=this.rootEl,f=this.transformModel;if(t.length){var p=n||a.clientWidth,g=o||a.clientHeight,O=this.getVirtualRectSize(),P=O.virtualRectCenterPositionX,N=O.virtualRectCenterPositionY;f.focusOn(P,N,p,g)}}},{key:"fitView",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20,o=this.nodes,a=this.width,f=this.height,p=this.rootEl,g=this.transformModel;if(o.length){var O=a||p.clientWidth,P=f||p.clientHeight,N=this.getVirtualRectSize(),B=N.virtualRectWidth,H=N.virtualRectHeight,K=N.virtualRectCenterPositionX,ie=N.virtualRectCenterPositionY,oe=(B+n)/O,ue=(H+t)/P,we=0;we=1/Math.max(oe,ue);var je=[O/2,P/2];g.zoom(we,je),g.focusOn(K,ie,O,P)}}},{key:"openEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.openEdgeAnimation()}},{key:"closeEdgeAnimation",value:function(t){var n=this.getEdgeModelById(t);n.closeEdgeAnimation()}}]),e}(),$h=Ze(de.prototype,"width",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kh=Ze(de.prototype,"height",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Uh=Ze(de.prototype,"edgeType",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Xh=Ze(de.prototype,"nodes",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Yh=Ze(de.prototype,"edges",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Wh=Ze(de.prototype,"overlapMode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Sr.DEFAULT}}),Kh=Ze(de.prototype,"background",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Vh=Ze(de.prototype,"transformModel",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Zh=Ze(de.prototype,"editConfigModel",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Jh=Ze(de.prototype,"gridSize",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Qh=Ze(de.prototype,"partial",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qh=Ze(de.prototype,"fakerNode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ze(de.prototype,"nodesMap",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"nodesMap"),de.prototype),Ze(de.prototype,"edgesMap",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"edgesMap"),de.prototype),Ze(de.prototype,"modelsMap",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"modelsMap"),de.prototype),Ze(de.prototype,"sortElements",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"sortElements"),de.prototype),Ze(de.prototype,"textEditElement",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"textEditElement"),de.prototype),Ze(de.prototype,"selectElements",[l.m],Object.getOwnPropertyDescriptor(de.prototype,"selectElements"),de.prototype),Ze(de.prototype,"setFakerNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setFakerNode"),de.prototype),Ze(de.prototype,"removeFakerNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"removeFakerNode"),de.prototype),Ze(de.prototype,"setModel",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setModel"),de.prototype),Ze(de.prototype,"toFront",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"toFront"),de.prototype),Ze(de.prototype,"setElementZIndex",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementZIndex"),de.prototype),Ze(de.prototype,"deleteNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteNode"),de.prototype),Ze(de.prototype,"addNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"addNode"),de.prototype),Ze(de.prototype,"cloneNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"cloneNode"),de.prototype),Ze(de.prototype,"moveNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode"),de.prototype),Ze(de.prototype,"moveNode2Coordinate",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNode2Coordinate"),de.prototype),Ze(de.prototype,"editText",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"editText"),de.prototype),Ze(de.prototype,"addEdge",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"addEdge"),de.prototype),Ze(de.prototype,"moveEdge",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"moveEdge"),de.prototype),Ze(de.prototype,"deleteEdgeBySourceAndTarget",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySourceAndTarget"),de.prototype),Ze(de.prototype,"deleteEdgeById",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeById"),de.prototype),Ze(de.prototype,"deleteEdgeBySource",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeBySource"),de.prototype),Ze(de.prototype,"deleteEdgeByTarget",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"deleteEdgeByTarget"),de.prototype),Ze(de.prototype,"setElementStateById",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setElementStateById"),de.prototype),Ze(de.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"updateText"),de.prototype),Ze(de.prototype,"selectNodeById",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"selectNodeById"),de.prototype),Ze(de.prototype,"selectEdgeById",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"selectEdgeById"),de.prototype),Ze(de.prototype,"selectElementById",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"selectElementById"),de.prototype),Ze(de.prototype,"clearSelectElements",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"clearSelectElements"),de.prototype),Ze(de.prototype,"moveNodes",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"moveNodes"),de.prototype),Ze(de.prototype,"setDefaultEdgeType",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setDefaultEdgeType"),de.prototype),Ze(de.prototype,"changeNodeType",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"changeNodeType"),de.prototype),Ze(de.prototype,"changeEdgeType",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"changeEdgeType"),de.prototype),Ze(de.prototype,"getNodeIncomingEdge",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingEdge"),de.prototype),Ze(de.prototype,"getNodeOutgoingEdge",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingEdge"),de.prototype),Ze(de.prototype,"getNodeIncomingNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeIncomingNode"),de.prototype),Ze(de.prototype,"getNodeOutgoingNode",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"getNodeOutgoingNode"),de.prototype),Ze(de.prototype,"setTheme",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"setTheme"),de.prototype),Ze(de.prototype,"resize",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"resize"),de.prototype),Ze(de.prototype,"clearData",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"clearData"),de.prototype),Ze(de.prototype,"translateCenter",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"translateCenter"),de.prototype),Ze(de.prototype,"fitView",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"fitView"),de.prototype),Ze(de.prototype,"openEdgeAnimation",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"openEdgeAnimation"),de.prototype),Ze(de.prototype,"closeEdgeAnimation",[l.k],Object.getOwnPropertyDescriptor(de.prototype,"closeEdgeAnimation"),de.prototype),de),RT=nv;function Ja(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ja=function(t){return typeof t}:Ja=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(e)}var ov;function Tf(){return Tf=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Tf.apply(this,arguments)}function IT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function iv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _T(e,r,t){return r&&iv(e.prototype,r),t&&iv(e,t),e}function BT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Mf(e,r)}function Mf(e,r){return Mf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Mf(e,r)}function LT(e){var r=FT();return function(){var n=Qa(e),o;if(r){var a=Qa(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return zT(this,o)}}function zT(e,r){if(r&&(Ja(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zr(e)}function Zr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Qa(e){return Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Qa(e)}function dn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var HT=$r(ov=function(e){BT(t,e);var r=LT(t);function t(n){var o;IT(this,t),o=r.call(this),dn(Zr(o),"stepDrag",void 0),dn(Zr(o),"stepScrollX",0),dn(Zr(o),"stepScrollY",0),dn(Zr(o),"onDragging",function(g){var O=g.deltaX,P=g.deltaY;o.setState({isDragging:!0});var N=o.props.graphModel,B=N.transformModel,H=N.editConfigModel;H.stopMoveGraph||B.translate(O,P)}),dn(Zr(o),"onDragEnd",function(){o.setState({isDragging:!1})}),dn(Zr(o),"zoomHandler",function(g){var O=o.props,P=O.graphModel,N=P.editConfigModel,B=P.transformModel,H=P.gridSize,K=O.graphModel,ie=g.deltaX,oe=g.deltaY;if(!N.stopScrollGraph&&g.ctrlKey!==!0){if(g.preventDefault(),o.stepScrollX+=ie,o.stepScrollY+=oe,Math.abs(o.stepScrollX)>=H){var ue=o.stepScrollX%H,we=o.stepScrollX-ue;B.translate(-we*B.SCALE_X,0),o.stepScrollX=ue}if(Math.abs(o.stepScrollY)>=H){var je=o.stepScrollY%H,ye=o.stepScrollY-je;B.translate(0,-ye*B.SCALE_Y),o.stepScrollY=je}return}if(!N.stopZoomGraph){g.preventDefault();var _e=K.getPointByClient({x:g.clientX,y:g.clientY}),Ne=_e.canvasOverlayPosition,ke=Ne.x,Re=Ne.y;B.zoom(g.deltaY<0,[ke,Re])}}),dn(Zr(o),"clickHandler",function(g){var O=g.target;if(O.getAttribute("name")==="canvas-overlay"){var P=o.props.graphModel,N=P.selectElements;N.size>0&&P.clearSelectElements(),P.eventCenter.emit(rt.BLANK_CLICK,{e:g})}}),dn(Zr(o),"handleContextMenu",function(g){var O=g.target;if(O.getAttribute("name")==="canvas-overlay"){g.preventDefault();var P=o.props.graphModel,N=P.getPointByClient({x:g.clientX,y:g.clientY});P.eventCenter.emit(rt.BLANK_CONTEXTMENU,{e:g,position:N})}}),dn(Zr(o),"mouseDownHandler",function(g){var O=o.props.graphModel,P=O.eventCenter,N=O.editConfigModel,B=O.transformModel.SCALE_X,H=O.gridSize,K=g.target,ie=!N.adjustEdge&&!N.adjustNodePosition;(K.getAttribute("name")==="canvas-overlay"||ie)&&(N.stopMoveGraph?P.emit(rt.BLANK_MOUSEDOWN,{e:g}):(o.stepDrag.setStep(H*B),o.stepDrag.handleMouseDown(g)),o.clickHandler(g))});var a=n.graphModel,f=a.gridSize,p=a.eventCenter;return o.stepDrag=new cn({onDragging:o.onDragging,onDragEnd:o.onDragEnd,step:f,eventType:"BLANK",isStopPropagation:!1,eventCenter:p,model:null}),o.state={isDragging:!1},o}return _T(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),f=a.transform,p=this.props,g=p.children,O=p.dnd,P=this.state.isDragging;return Object(ae.g)("svg",Tf({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:P?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},O.eventMap()),Object(ae.g)("g",{transform:f},g))}}]),t}(ae.a))||ov,GT=HT;function qa(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qa=function(t){return typeof t}:qa=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(e)}var av;function $T(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function uv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kT(e,r,t){return r&&uv(e.prototype,r),t&&uv(e,t),e}function UT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&wf(e,r)}function wf(e,r){return wf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},wf(e,r)}function XT(e){var r=KT();return function(){var n=eu(e),o;if(r){var a=eu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return YT(this,o)}}function YT(e,r){if(r&&(qa(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WT(e)}function WT(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KT(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function eu(e){return eu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},eu(e)}var VT=$r(av=function(e){UT(t,e);var r=XT(t);function t(){return $T(this,t),r.apply(this,arguments)}return kT(t,[{key:"componentDidMount",value:function(){this.triggerToolRender()}},{key:"componentDidUpdate",value:function(){this.triggerToolRender()}},{key:"getTools",value:function(){var o=this.props,a=o.tool,f=o.graphModel,p=a.getTools(),g=p.map(function(O){return Object(ae.g)(O,{graphModel:f,logicFlow:a.instance})});return a.components=g,g}},{key:"triggerToolRender",value:function(){var o=this.props,a=o.tool,f=o.graphModel,p=document.querySelector("#ToolOverlay_".concat(f.flowId)),g=a.getInstance();g.components.forEach(function(O){return O(g,p)}),g.components=[]}},{key:"render",value:function(){var o=this.props.graphModel;return Object(ae.g)("div",{className:"lf-tool-overlay",id:"ToolOverlay_".concat(o.flowId)},this.getTools())}}]),t}(ae.a))||av;function tu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?tu=function(t){return typeof t}:tu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tu(e)}function ZT(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function JT(e,r,t){return r&&sv(e.prototype,r),t&&sv(e,t),e}function QT(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Af(e,r)}function Af(e,r){return Af=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Af(e,r)}function qT(e){var r=rM();return function(){var n=ru(e),o;if(r){var a=ru(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return eM(this,o)}}function eM(e,r){if(r&&(tu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tM(e)}function tM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ru(e){return ru=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ru(e)}var nM=function(e){QT(t,e);var r=qT(t);function t(){return ZT(this,t),r.apply(this,arguments)}return JT(t,[{key:"render",value:function(){var o=this.props.background;return Object(ae.g)("div",{className:"lf-background"},Object(ae.g)("div",{style:o,className:"lf-background-area"}))}}]),t}(ae.a);function nu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nu=function(t){return typeof t}:nu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nu(e)}var lv;function oM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function fv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function iM(e,r,t){return r&&fv(e.prototype,r),t&&fv(e,t),e}function aM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Nf(e,r)}function Nf(e,r){return Nf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Nf(e,r)}function uM(e){var r=lM();return function(){var n=ou(e),o;if(r){var a=ou(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return sM(this,o)}}function sM(e,r){if(r&&(nu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cv(e)}function cv(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ou(e){return ou=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ou(e)}function fM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var dv=$r(lv=function(e){aM(t,e);var r=uM(t);function t(){var n;oM(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),fM(cv(n),"id",zn()),n}return iM(t,[{key:"renderDot",value:function(){var o=this.props,a=o.config,f=a.color,p=a.thickness,g=p===void 0?2:p,O=o.size,P=o.visible,N=Math.min(Math.max(2,g),O/2),B=1;return P||(B=0),Object(ae.g)("rect",{width:N,height:N,rx:N/2,ry:N/2,fill:f,opacity:B})}},{key:"renderMesh",value:function(){var o=this.props,a=o.config,f=a.color,p=a.thickness,g=p===void 0?1:p,O=o.size,P=o.visible,N=Math.min(Math.max(1,g),O/2),B="M ".concat(O," 0 H0 M0 0 V0 ").concat(O),H=1;return P||(H=0),Object(ae.g)("path",{d:B,stroke:f,strokeWidth:N,opacity:H})}},{key:"render",value:function(){var o=this.props,a=o.type,f=o.size,p=o.graphModel.transformModel,g=p.SCALE_X,O=p.SKEW_Y,P=p.SKEW_X,N=p.SCALE_Y,B=p.TRANSLATE_X,H=p.TRANSLATE_Y,K=[g,O,P,N,B,H].join(","),ie="matrix(".concat(K,")");return Object(ae.g)("div",{className:"lf-grid"},Object(ae.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(ae.g)("defs",null,Object(ae.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:ie,x:"0",y:"0",width:f,height:f},a==="dot"&&this.renderDot(),a==="mesh"&&this.renderMesh())),Object(ae.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}]),t}(ae.a))||lv;dv.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},i(52);function iu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?iu=function(t){return typeof t}:iu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iu(e)}function cM(e,r){return vM(e)||hM(e,r)||pM(e,r)||dM()}function dM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pM(e,r){if(e){if(typeof e=="string")return pv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pv(e,r)}}function pv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function hM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function vM(e){if(Array.isArray(e))return e}function yM(e){var r={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(t){var n=cM(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var f=iu(a);f!=="object"&&(r[o]=a)}}),Object(ae.g)("line",r)}var Co=yM;function au(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?au=function(t){return typeof t}:au=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},au(e)}var hv;function vv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function uu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?vv(Object(t),!0).forEach(function(n){gM(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):vv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function gM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function mM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function yv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bM(e,r,t){return r&&yv(e.prototype,r),t&&yv(e,t),e}function OM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Df(e,r)}function Df(e,r){return Df=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Df(e,r)}function EM(e){var r=PM();return function(){var n=su(e),o;if(r){var a=su(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return SM(this,o)}}function SM(e,r){if(r&&(au(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xM(e)}function xM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function su(e){return su=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},su(e)}var TM=$r(hv=function(e){OM(t,e);var r=EM(t);function t(){return mM(this,t),r.apply(this,arguments)}return bM(t,[{key:"render",value:function(){var o=this.props.snaplineModel,a=o.position,f=o.isShowHorizontal,p=o.isShowVertical,g=o.getStyle(),O=a.x,P=O===void 0?0:O,N=a.y,B=N===void 0?0:N,H=uu(uu({x1:-1e5,y1:B,x2:1e5,y2:B},g),{},{stroke:f?g.stroke:"none"}),K=uu(uu({x1:P,y1:-1e5,x2:P,y2:1e5},g),{},{stroke:p?g.stroke:"none"});return Object(ae.g)("g",{className:"lf-snapline"},Object(ae.g)(Co,H),Object(ae.g)(Co,K))}}]),t}(ae.a))||hv;function lu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lu=function(t){return typeof t}:lu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lu(e)}function MM(e,r){return DM(e)||NM(e,r)||AM(e,r)||wM()}function wM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AM(e,r){if(e){if(typeof e=="string")return gv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gv(e,r)}}function gv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function NM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function DM(e){if(Array.isArray(e))return e}function Gn(e){var r=e.x,t=e.y,n=e.width,o=e.height,a=e.className,f=e.radius,p=r-n/2,g=t-o/2,O={};return Object.entries(e).forEach(function(P){var N=MM(P,2),B=N[0],H=N[1],K=lu(H);K!=="object"&&(O[B]=H)}),a?O.className="lf-basic-shape ".concat(a):O.className="lf-basic-shape",f&&(O.rx=f,O.ry=f),O.x=p,O.y=g,Object(ae.g)("rect",O)}Gn.defaultProps={className:"",radius:""};function fu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fu=function(t){return typeof t}:fu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fu(e)}var mv;function Ro(){return Ro=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ro.apply(this,arguments)}function bv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ov(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?bv(Object(t),!0).forEach(function(n){jM(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function jM(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function CM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ev(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RM(e,r,t){return r&&Ev(e.prototype,r),t&&Ev(e,t),e}function IM(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&jf(e,r)}function jf(e,r){return jf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},jf(e,r)}function _M(e){var r=zM();return function(){var n=cu(e),o;if(r){var a=cu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return BM(this,o)}}function BM(e,r){if(r&&(fu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return LM(e)}function LM(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cu(e){return cu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cu(e)}var FM=$r(mv=function(e){IM(t,e);var r=_M(t);function t(){return CM(this,t),r.apply(this,arguments)}return RM(t,[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,a=o.nodes,f=o.editConfigModel,p=f.hoverOutline,g=f.nodeSelectedOutline,O=[];return a.forEach(function(P){if(P.isHovered||P.isSelected){var N=P.isHovered,B=P.isSelected,H=P.x,K=P.y,ie=P.width,oe=P.height;if(g&&B||p&&N){var ue=P.getOutlineStyle(),we={};if(Object.keys(ue).forEach(function(ye){ye!=="hover"&&(we[ye]=ue[ye])}),N){var je=ue.hover;we=Ov(Ov({},we),je)}O.push(Object(ae.g)(Gn,Ro({className:"lf-outline-node",x:H,y:K,width:ie+10,height:oe+10},we)))}}}),O}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,a=o.edges,f=o.editConfigModel,p=f.edgeSelectedOutline,g=f.hoverOutline,O=[],P=0;P<a.length;P++){var N=a[P];(p&&N.isSelected||g&&N.isHovered)&&(N.modelType===ht.LINE_EDGE?O.push(this.getLineOutline(N)):N.modelType===ht.POLYLINE_EDGE?O.push(this.getPolylineOutline(N)):N.modelType===ht.BEZIER_EDGE&&O.push(this.getBezierOutline(N)))}return O}},{key:"getLineOutline",value:function(o){var a=o.startPoint,f=o.endPoint,p=(a.x+f.x)/2,g=(a.y+f.y)/2,O=Math.abs(a.x-f.x)+10,P=Math.abs(a.y-f.y)+10,N=o.getOutlineStyle();return Object(ae.g)(Gn,Ro({className:"lf-outline-edge",x:p,y:g,width:O,height:P},N))}},{key:"getPolylineOutline",value:function(o){var a=o.points,f=No(a),p=yi(f,8),g=p.x,O=p.y,P=p.width,N=p.height,B=o.getOutlineStyle();return Object(ae.g)(Gn,Ro({className:"lf-outline",x:g,y:O,width:P,height:N},B))}},{key:"getBezierOutline",value:function(o){var a=o.path,f=Wa(a),p=yi(f,8),g=p.x,O=p.y,P=p.width,N=p.height,B=o.getOutlineStyle();return Object(ae.g)(Gn,Ro({className:"lf-outline",x:g,y:O,width:P,height:N},B))}},{key:"render",value:function(){return Object(ae.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}]),t}(ae.a))||mv;function du(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?du=function(t){return typeof t}:du=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},du(e)}function HM(e,r){return UM(e)||kM(e,r)||$M(e,r)||GM()}function GM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $M(e,r){if(e){if(typeof e=="string")return Sv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sv(e,r)}}function Sv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function kM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function UM(e){if(Array.isArray(e))return e}function Oi(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.r,f=a===void 0?4:a,p=e.className,g={cx:t,cy:o,r:f,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(O){var P=HM(O,2),N=P[0],B=P[1],H=du(B);H!=="object"&&(g[N]=B)}),p?g.className="lf-basic-shape ".concat(p):g.className="lf-basic-shape",Object(ae.g)("circle",g)}function pu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pu=function(t){return typeof t}:pu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pu(e)}var xv;function XM(e,r){return VM(e)||KM(e,r)||WM(e,r)||YM()}function YM(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WM(e,r){if(e){if(typeof e=="string")return Pv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Pv(e,r)}}function Pv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function KM(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function VM(e){if(Array.isArray(e))return e}function Ei(){return Ei=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ei.apply(this,arguments)}function Tv(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Mv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function wv(e,r,t){return r&&Mv(e.prototype,r),t&&Mv(e,t),e}function Av(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Cf(e,r)}function Cf(e,r){return Cf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Cf(e,r)}function Nv(e){var r=JM();return function(){var n=vu(e),o;if(r){var a=vu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return ZM(this,o)}}function ZM(e,r){if(r&&(pu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hu(e)}function hu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vu(e){return vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vu(e)}function Rf(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Dv=function(e){Av(t,e);var r=Nv(t);function t(){var n;return Tv(this,t),n=r.call(this),Rf(hu(n),"dragHandler",void 0),Rf(hu(n),"onDragging",function(o){var a=o.event,f=n.props,p=f.graphModel,g=f.bezierModel,O=f.type,P=p.getPointByClient({x:a.clientX,y:a.clientY}),N=P.canvasOverlayPosition,B=N.x,H=N.y;g.updateAdjustAnchor({x:B,y:H},O)}),Rf(hu(n),"onDragEnd",function(){var o=n.props.bezierModel;o.isDragging=!1}),n.dragHandler=new cn({onDragging:n.onDragging,onDragEnd:n.onDragEnd}),n}return wv(t,[{key:"render",value:function(){var o=this,a=this.props.position,f=a.x,p=a.y,g=this.props.bezierModel,O=g.getEdgeStyle(),P=O.adjustAnchor;return Object(ae.g)(Oi,Ei({className:"lf-bezier-adjust-anchor",x:f,y:p},P,{onMouseDown:function(B){o.dragHandler.handleMouseDown(B)}}))}}]),t}(ae.a),QM=$r(xv=function(e){Av(t,e);var r=Nv(t);function t(){return Tv(this,t),r.apply(this,arguments)}return wv(t,[{key:"getBezierAdjust",value:function(o,a){var f=o.path,p=o.id,g=Wa(f),O=XM(g,4),P=O[0],N=O[1],B=O[2],H=O[3],K=o.getEdgeStyle(),ie=K.adjustLine,oe=[];return oe.push(Object(ae.g)(Co,Ei({x1:P.x,y1:P.y,x2:N.x,y2:N.y},ie))),oe.push(Object(ae.g)(Dv,{position:N,bezierModel:o,graphModel:a,key:"".concat(p,"_ePre"),type:"sNext"})),oe.push(Object(ae.g)(Co,Ei({x1:H.x,y1:H.y,x2:B.x,y2:B.y},ie))),oe.push(Object(ae.g)(Dv,{position:B,bezierModel:o,graphModel:a,key:"".concat(p,"_sNext"),type:"ePre"})),oe}},{key:"selectedBezierEdge",value:function(){for(var o=this.props.graphModel,a=o.edges,f=[],p=0;p<a.length;p++){var g=a[p];g.isSelected&&g.modelType===ht.BEZIER_EDGE&&g.draggable&&f.push(this.getBezierAdjust(g,o))}return f}},{key:"render",value:function(){return Object(ae.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),t}(ae.a))||xv;function yu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yu=function(t){return typeof t}:yu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yu(e)}var jv;function qM(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Cv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ew(e,r,t){return r&&Cv(e.prototype,r),t&&Cv(e,t),e}function tw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&If(e,r)}function If(e,r){return If=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},If(e,r)}function rw(e){var r=iw();return function(){var n=gu(e),o;if(r){var a=gu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return nw(this,o)}}function nw(e,r){if(r&&(yu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ow(e)}function ow(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gu(e){return gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},gu(e)}var aw=$r(jv=function(e){tw(t,e);var r=rw(t);function t(){return qM(this,t),r.apply(this,arguments)}return ew(t,[{key:"render",value:function(){var o=this.props.graphModel.transformModel,a=o.getTransformStyle(),f=a.transform,p=this.props.children;return Object(ae.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(ae.g)("g",{transform:f},p))}}]),t}(ae.a))||jv;function mu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?mu=function(t){return typeof t}:mu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mu(e)}var Rv;function _f(){return _f=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},_f.apply(this,arguments)}function uw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Iv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function sw(e,r,t){return r&&Iv(e.prototype,r),t&&Iv(e,t),e}function lw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bf(e,r)}function Bf(e,r){return Bf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Bf(e,r)}function fw(e){var r=pw();return function(){var n=bu(e),o;if(r){var a=bu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return cw(this,o)}}function cw(e,r){if(r&&(mu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dw(e)}function dw(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function bu(e){return bu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bu(e)}var hw=$r(Rv=function(e){lw(t,e);var r=fw(t);function t(){return uw(this,t),r.apply(this,arguments)}return sw(t,[{key:"getComponent",value:function(o,a){var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",p=this.props.getView,g=p(o.type);return Object(ae.g)(g,{key:o.id,model:o,graphModel:a,overlay:f})}},{key:"render",value:function(){var o=this,a=this.props,f=a.graphModel,p=a.tool,g=a.options,O=a.dnd,P=a.snaplineModel,N={};g.width&&(N.width="".concat(f.width,"px")),g.height&&(N.height="".concat(f.height,"px"));var B=g.grid,H=f.fakerNode,K=f.editConfigModel,ie=K.adjustEdge;return Object(ae.g)("div",{className:"lf-graph","flow-id":f.flowId,style:N},Object(ae.g)(GT,{graphModel:f,dnd:O},Object(ae.g)("g",{className:"lf-base"},wa(f.sortElements,function(oe){return o.getComponent(oe,f)})),H?this.getComponent(H,f):""),Object(ae.g)(aw,{graphModel:f},Object(ae.g)(FM,{graphModel:f}),ie?Object(ae.g)(QM,{graphModel:f}):"",g.snapline!==!1?Object(ae.g)(TM,{snaplineModel:P}):""),Object(ae.g)(VT,{graphModel:f,tool:p}),g.background&&Object(ae.g)(nM,{background:g.background}),g.grid&&Object(ae.g)(dv,_f({},B,{graphModel:f})))}}]),t}(ae.a))||Rv,vw=hw;function _v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ou(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?_v(Object(t),!0).forEach(function(n){pn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_v(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function yw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Bv(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gw(e,r,t){return r&&Bv(e.prototype,r),t&&Bv(e,t),e}function pn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var mw=function(){function e(r){var t=this;yw(this,e),pn(this,"nodeConfig",void 0),pn(this,"lf",void 0),pn(this,"fakerNode",void 0),pn(this,"stopDrag",function(){t.nodeConfig=null,window.document.removeEventListener("mouseup",t.stopDrag)}),pn(this,"dragEnter",function(o){!t.nodeConfig||t.fakerNode||(t.fakerNode=t.lf.createFakerNode(Ou(Ou({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY}))))}),pn(this,"onDragOver",function(o){if(o.preventDefault(),t.fakerNode){var a=t.clientToLocalPoint({x:o.clientX,y:o.clientY}),f=a.x,p=a.y;t.fakerNode.moveTo(f,p);var g=t.fakerNode.getData();t.lf.setNodeSnapLine(g),t.lf.graphModel.eventCenter.emit(rt.NODE_DND_DRAG,{data:g})}return!1}),pn(this,"onDragLeave",function(){t.fakerNode&&(t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null)}),pn(this,"onDrop",function(o){if(!(!t.lf.graphModel||!o||!t.nodeConfig)){var a=t.lf.addNode(Ou(Ou({},t.nodeConfig),t.clientToLocalPoint({x:o.clientX,y:o.clientY})),rt.NODE_DND_ADD);o.preventDefault(),o.stopPropagation(),t.nodeConfig=null,t.lf.removeNodeSnapLine(),t.lf.graphModel.removeFakerNode(),t.fakerNode=null,a.getData()}});var n=r.lf;this.lf=n}return gw(e,[{key:"clientToLocalPoint",value:function(t){var n=t.x,o=t.y,a=Cd(this.lf.options,["grid","size"]),f=this.lf.graphModel.getPointByClient({x:n,y:o}),p=f.canvasOverlayPosition,g=p.x,O=p.y;return{x:Ln(g,a),y:Ln(O,a)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}]),e}();function Lv(e){var r=e.container,t=e.grid,n=e.width,o=e.height;if(!r)throw new Error("请检查 container 参数是否有效");if(typeof n=="string"||typeof o=="string")throw new Error("width或height不支持传入字符串，请传数字");return t&&(e.grid=ur({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},t)),ur({},zv,e)}var zv={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Eu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Eu=function(t){return typeof t}:Eu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eu(e)}var gt,Fv;function Lf(e,r){return Sw(e)||Ew(e,r)||Ow(e,r)||bw()}function bw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ow(e,r){if(e){if(typeof e=="string")return Hv(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Hv(e,r)}}function Hv(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ew(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Sw(e){if(Array.isArray(e))return e}function Gv(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Su(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Gv(Object(t),!0).forEach(function(n){kv(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Gv(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function xw(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Pw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $v(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tw(e,r,t){return r&&$v(e.prototype,r),t&&$v(e,t),e}function Io(){return typeof Reflect<"u"&&Reflect.get?Io=Reflect.get:Io=function(r,t,n){var o=Mw(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Io.apply(this,arguments)}function Mw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=$n(e),e!==null););return e}function ww(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&zf(e,r)}function zf(e,r){return zf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},zf(e,r)}function Aw(e){var r=Dw();return function(){var n=$n(e),o;if(r){var a=$n(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Nw(this,o)}}function Nw(e,r){if(r&&(Eu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xu(e)}function xu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $n(e){return $n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$n(e)}function kv(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Fr(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Ff=(gt=function(e){ww(t,e);var r=Aw(t);function t(){var n;Pw(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),kv(xu(n),"modelType",ht.BEZIER_EDGE),xw(xu(n),"path",Fv,xu(n)),n}return Tw(t,[{key:"initEdgeData",value:function(o){this.offset=100,Io($n(t.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier,a=Io($n(t.prototype),"getEdgeStyle",this).call(this);return Su(Su({},a),It(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,a=0;return this.pointsList.forEach(function(f){var p=f.x,g=f.y;o+=p,a+=g}),{x:o/this.pointsList.length,y:a/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=Io($n(t.prototype),"getData",this).call(this),a=this.pointsList.map(function(f){var p=f.x,g=f.y;return{x:p,y:g}});return Su(Su({},o),{},{pointsList:a})}},{key:"getControls",value:function(){var o=this.startPoint,a=this.endPoint,f=Bh({start:o,end:a,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset});return f}},{key:"getPath",value:function(o){var a=Lf(o,4),f=a[0],p=a[1],g=a[2],O=a[3];return"M ".concat(f.x," ").concat(f.y,`
    C `).concat(p.x," ").concat(p.y,`,
    `).concat(g.x," ").concat(g.y,`,
    `).concat(O.x," ").concat(O.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),a=o.sNext,f=o.ePre;this.updatePath(a,f)}},{key:"updatePath",value:function(o,a){var f={x:this.startPoint.x,y:this.startPoint.y},p={x:this.endPoint.x,y:this.endPoint.y};if(!o||!a){var g=this.getControls();o=g.sNext,a=g.ePre}this.pointsList=[f,o,a,p],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,a){this.startPoint.x+=o,this.startPoint.y+=a;var f=Lf(this.pointsList,3),p=f[1],g=f[2];p.x+=o,p.y+=a,this.updatePath(p,g)}},{key:"moveEndPoint",value:function(o,a){this.endPoint.x+=o,this.endPoint.y+=a;var f=Lf(this.pointsList,3),p=f[1],g=f[2];g.x+=o,g.y+=a,this.updatePath(p,g)}},{key:"updateAdjustAnchor",value:function(o,a){a==="sNext"?this.pointsList[1]=o:a==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var a=o.startPoint,f=o.endPoint,p=o.sourceNode,g=o.targetNode,O=Bh({start:a,end:f,sourceNode:p,targetNode:g,offset:this.offset}),P=O.sNext,N=O.ePre;this.pointsList=[a,P,N,f],this.initPoints()}}]),t}(hf),Fv=Fr(gt.prototype,"path",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Fr(gt.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"initPoints"),gt.prototype),Fr(gt.prototype,"updatePoints",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"updatePoints"),gt.prototype),Fr(gt.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateStartPoint"),gt.prototype),Fr(gt.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateEndPoint"),gt.prototype),Fr(gt.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveStartPoint"),gt.prototype),Fr(gt.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"moveEndPoint"),gt.prototype),Fr(gt.prototype,"updateAdjustAnchor",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAdjustAnchor"),gt.prototype),Fr(gt.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustStart"),gt.prototype),Fr(gt.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"getAdjustEnd"),gt.prototype),Fr(gt.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(gt.prototype,"updateAfterAdjustStartAndEnd"),gt.prototype),gt);function jw(e){return e==null}var Cw=jw,Ie,Uv,Xv,Yv,Wv,Kv,Vv,Zv,Jv,Qv,qv,ey,ty,ry,ny,oy,iy,ay,uy,sy;function Pu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pu=function(t){return typeof t}:Pu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pu(e)}function Rw(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=Iw(e))||r&&e&&typeof e.length=="number"){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(O){throw O},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a=!0,f=!1,p;return{s:function(){t=t.call(e)},n:function(){var O=t.next();return a=O.done,O},e:function(O){f=!0,p=O},f:function(){try{!a&&t.return!=null&&t.return()}finally{if(f)throw p}}}}function Iw(e,r){if(e){if(typeof e=="string")return ly(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ly(e,r)}}function ly(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function fy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function lr(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?fy(Object(t),!0).forEach(function(n){vr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ut(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function _w(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function cy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Bw(e,r,t){return r&&cy(e.prototype,r),t&&cy(e,t),e}function vr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ft(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var hn=(Ie=function(){function e(r,t){_w(this,e),vr(this,"id",""),Ut(this,"type",Uv,this),Ut(this,"x",Xv,this),Ut(this,"y",Yv,this),Ut(this,"text",Wv,this),Ut(this,"properties",Kv,this),Ut(this,"_width",Vv,this),Ut(this,"_height",Zv,this),Ut(this,"anchorsOffset",Jv,this),Ut(this,"isSelected",Qv,this),Ut(this,"isHovered",qv,this),Ut(this,"isShowAnchor",ey,this),Ut(this,"isDragging",ty,this),Ut(this,"isHitable",ry,this),Ut(this,"draggable",ny,this),Ut(this,"visible",oy,this),vr(this,"virtual",!1),vr(this,"graphModel",void 0),Ut(this,"zIndex",iy,this),Ut(this,"state",ay,this),Ut(this,"autoToFront",uy,this),Ut(this,"style",sy,this),vr(this,"BaseType",Ht.NODE),vr(this,"modelType",ht.NODE),vr(this,"additionStateData",void 0),vr(this,"targetRules",[]),vr(this,"sourceRules",[]),vr(this,"moveRules",[]),vr(this,"hasSetTargetRules",!1),vr(this,"hasSetSourceRules",!1),this.graphModel=t,this.initNodeData(r),this.setAttributes()}return Bw(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var n=this.graphModel.idGenerator,o=n&&n(t.type),a=this.createId();t.id=a||o||zn()}this.formatText(t),ur(this,xP(t));var f=this.graphModel.overlapMode;f===Sr.INCREASE&&(this.zIndex=t.zIndex||df())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&typeof t.text=="string"?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&t.text.editable===void 0&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,n=t.x,o=t.y,a=t.value,f=this.properties;Object(l.x)(f)&&(f=Object(l.I)(f));var p={id:this.id,type:this.type,x:this.x,y:this.y,properties:f};return this.graphModel.overlapMode===Sr.INCREASE&&(p.zIndex=this.zIndex),a&&(p.text={x:n,y:o,value:a}),p}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(l.I)(this.properties)}},{key:"getNodeStyle",value:function(){return lr(lr({},this.graphModel.theme.baseNode),this.style)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return It(t)}},{key:"getAnchorStyle",value:function(t){var n=this.graphModel.theme.anchor;return It(n)}},{key:"getAnchorLineStyle",value:function(t){var n=this.graphModel.theme.anchorLine;return It(n)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return It(t)}},{key:"isAllowConnectedAsSource",value:function(t,n,o,a){var f=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var p=!0,g,O=0;O<f.length;O++){var P=f[O];if(!P.validate.call(this,this,t,n,o,a)){p=!1,g=P.message;break}}return{isAllPass:p,msg:g}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,n,o,a){var f=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var p=!0,g,O=0;O<f.length;O++){var P=f[O];if(!P.validate.call(this,t,this,n,o,a)){p=!1,g=P.message;break}}return{isAllPass:p,msg:g}}},{key:"isAllowMoveNode",value:function(t,n){var o=!0,a=!0,f=this.moveRules.concat(this.graphModel.nodeMoveRules),p=Rw(f),g;try{for(p.s();!(g=p.n()).done;){var O=g.value,P=O(this,t,n);if(!P)return!1;if(Pu(P)==="object"){var N=P;if(N.x===!1&&N.y===!1)return!1;o=o&&N.x,a=a&&N.y}}}catch(B){p.e(B)}finally{p.f()}return{x:o,y:a}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,n=this.id,o=this.x,a=this.y;return t&&t.length>0?t.map(function(f,p){return f.length?(f=f,{id:"".concat(n,"_").concat(p),x:o+f[0],y:a+f[1]}):(f=f,lr(lr({},f),{},{x:o+f.x,y:a+f.y,id:f.id||"".concat(n,"_").concat(p)}))}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getTargetAnchor",value:function(t){return OP(t,this)}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!Cw(t))for(var n=0;n<this.anchors.length;n++){var o=this.anchors[n];if(o.id===t)return o}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,f=!1;if(o)a=!0,f=!0;else{var p=this.isAllowMoveNode(t,n);typeof p=="boolean"?(a=p,f=p):(a=p.x,f=p.y)}if(a){var g=this.x+t;this.x=g,this.text&&this.moveText(t,0)}if(f){var O=this.y+n;this.y=O,this.text&&this.moveText(0,n)}return a||f}},{key:"getMoveDistance",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=!1,f=!1,p=0,g=0;if(o)a=!0,f=!0;else{var O=this.isAllowMoveNode(t,n);typeof O=="boolean"?(a=O,f=O):(a=O.x,f=O.y)}if(a&&t){var P=this.x+t;this.x=P,this.text&&this.moveText(t,0),p=t}if(f&&n){var N=this.y+n;this.y=N,this.text&&this.moveText(0,n),g=n}return[p,g]}},{key:"moveTo",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=t-this.x,f=n-this.y;return!o&&!this.isAllowMoveNode(a,f)?!1:(this.text&&this.text&&this.moveText(a,f),this.x=t,this.y=n,!0)}},{key:"moveText",value:function(t,n){var o=this.text,a=o.x,f=o.y,p=o.value,g=o.draggable,O=o.editable;this.text={value:p,editable:O,draggable:g,x:a+t,y:f+n}}},{key:"updateText",value:function(t){this.text=lr(lr({},this.text),{},{value:t})}},{key:"setSelected",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isSelected=t}},{key:"setHovered",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHovered=t,this.setIsShowAnchor(t)}},{key:"setIsShowAnchor",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isShowAnchor=t}},{key:"setHitable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.isHitable=t}},{key:"setElementState",value:function(t,n){this.state=t,this.additionStateData=n}},{key:"setProperty",value:function(t,n){this.properties=lr(lr({},this.properties),{},vr({},t,rr(n))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=lr(lr({},this.properties),rr(t)),this.setAttributes()}},{key:"deleteProperty",value:function(t){delete this.properties[t],this.setAttributes()}},{key:"setStyle",value:function(t,n){this.style=lr(lr({},this.style),{},vr({},t,rr(n)))}},{key:"setStyles",value:function(t){this.style=lr(lr({},this.style),rr(t))}},{key:"updateStyles",value:function(t){this.style=lr({},rr(t))}},{key:"setZIndex",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=t}},{key:"updateAttributes",value:function(t){ur(this,t)}}]),e}(),Uv=ft(Ie.prototype,"type",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Xv=ft(Ie.prototype,"x",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Yv=ft(Ie.prototype,"y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Wv=ft(Ie.prototype,"text",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Kv=ft(Ie.prototype,"properties",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Vv=ft(Ie.prototype,"_width",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Zv=ft(Ie.prototype,"_height",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Jv=ft(Ie.prototype,"anchorsOffset",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Qv=ft(Ie.prototype,"isSelected",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),qv=ft(Ie.prototype,"isHovered",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ey=ft(Ie.prototype,"isShowAnchor",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ty=ft(Ie.prototype,"isDragging",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ry=ft(Ie.prototype,"isHitable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ny=ft(Ie.prototype,"draggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),oy=ft(Ie.prototype,"visible",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),iy=ft(Ie.prototype,"zIndex",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ay=ft(Ie.prototype,"state",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),uy=ft(Ie.prototype,"autoToFront",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),sy=ft(Ie.prototype,"style",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ft(Ie.prototype,"incoming",[l.m],Object.getOwnPropertyDescriptor(Ie.prototype,"incoming"),Ie.prototype),ft(Ie.prototype,"outgoing",[l.m],Object.getOwnPropertyDescriptor(Ie.prototype,"outgoing"),Ie.prototype),ft(Ie.prototype,"addNodeMoveRules",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"addNodeMoveRules"),Ie.prototype),ft(Ie.prototype,"move",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"move"),Ie.prototype),ft(Ie.prototype,"getMoveDistance",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"getMoveDistance"),Ie.prototype),ft(Ie.prototype,"moveTo",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"moveTo"),Ie.prototype),ft(Ie.prototype,"moveText",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"moveText"),Ie.prototype),ft(Ie.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateText"),Ie.prototype),ft(Ie.prototype,"setSelected",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setSelected"),Ie.prototype),ft(Ie.prototype,"setHovered",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setHovered"),Ie.prototype),ft(Ie.prototype,"setIsShowAnchor",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setIsShowAnchor"),Ie.prototype),ft(Ie.prototype,"setHitable",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setHitable"),Ie.prototype),ft(Ie.prototype,"setElementState",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setElementState"),Ie.prototype),ft(Ie.prototype,"setProperty",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setProperty"),Ie.prototype),ft(Ie.prototype,"setProperties",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setProperties"),Ie.prototype),ft(Ie.prototype,"deleteProperty",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"deleteProperty"),Ie.prototype),ft(Ie.prototype,"setStyle",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setStyle"),Ie.prototype),ft(Ie.prototype,"setStyles",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setStyles"),Ie.prototype),ft(Ie.prototype,"updateStyles",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateStyles"),Ie.prototype),ft(Ie.prototype,"setZIndex",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setZIndex"),Ie.prototype),ft(Ie.prototype,"updateAttributes",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateAttributes"),Ie.prototype),Ie);function Tu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Tu=function(t){return typeof t}:Tu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tu(e)}var vn,dy;function py(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function hy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?py(Object(t),!0).forEach(function(n){yy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):py(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Lw(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function zw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Fw(e,r,t){return r&&vy(e.prototype,r),t&&vy(e,t),e}function Mu(){return typeof Reflect<"u"&&Reflect.get?Mu=Reflect.get:Mu=function(r,t,n){var o=Hw(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Mu.apply(this,arguments)}function Hw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=_o(e),e!==null););return e}function Gw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Hf(e,r)}function Hf(e,r){return Hf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Hf(e,r)}function $w(e){var r=Uw();return function(){var n=_o(e),o;if(r){var a=_o(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return kw(this,o)}}function kw(e,r){if(r&&(Tu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wu(e)}function wu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _o(e){return _o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_o(e)}function yy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Gf(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var $f=(vn=function(e){Gw(t,e);var r=$w(t);function t(){var n;zw(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),yy(wu(n),"modelType",ht.CIRCLE_NODE),Lw(wu(n),"r",dy,wu(n)),n}return Fw(t,[{key:"width",get:function(){return this.r*2}},{key:"height",get:function(){return this.r*2}},{key:"getNodeStyle",value:function(){var o=Mu(_o(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.circle;return hy(hy({},o),It(a))}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,f=this.r;return[{x:o,y:a-f,id:"".concat(this.id,"_0")},{x:o+f,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+f,id:"".concat(this.id,"_2")},{x:o-f,y:a,id:"".concat(this.id,"_3")}]}}]),t}(hn),dy=Gf(vn.prototype,"r",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Gf(vn.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(vn.prototype,"width"),vn.prototype),Gf(vn.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(vn.prototype,"height"),vn.prototype),vn);i(127);function Au(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Au=function(t){return typeof t}:Au=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Au(e)}var nr,gy,my;function kf(e,r){return Kw(e)||Ww(e,r)||Yw(e,r)||Xw()}function Xw(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yw(e,r){if(e){if(typeof e=="string")return by(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return by(e,r)}}function by(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Ww(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Kw(e){if(Array.isArray(e))return e}function Oy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ey(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Oy(Object(t),!0).forEach(function(n){Py(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Oy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Sy(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function Vw(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function xy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zw(e,r,t){return r&&xy(e.prototype,r),t&&xy(e,t),e}function Nu(){return typeof Reflect<"u"&&Reflect.get?Nu=Reflect.get:Nu=function(r,t,n){var o=Jw(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Nu.apply(this,arguments)}function Jw(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Lo(e),e!==null););return e}function Qw(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Uf(e,r)}function Uf(e,r){return Uf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Uf(e,r)}function qw(e){var r=tA();return function(){var n=Lo(e),o;if(r){var a=Lo(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return eA(this,o)}}function eA(e,r){if(r&&(Au(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bo(e)}function Bo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Lo(e){return Lo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Lo(e)}function Py(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function zo(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Xf=(nr=function(e){Qw(t,e);var r=qw(t);function t(){var n;Vw(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),Py(Bo(n),"modelType",ht.DIAMOND_NODE),Sy(Bo(n),"rx",gy,Bo(n)),Sy(Bo(n),"ry",my,Bo(n)),n}return Zw(t,[{key:"getNodeStyle",value:function(){var o=Nu(Lo(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.diamond;return Ey(Ey({},o),It(a))}},{key:"points",get:function(){var o=this.x,a=this.y,f=this.rx,p=this.ry;return[[o,a-p],[o+f,a],[o,a+p],[o-f,a]]}},{key:"pointsPosition",get:function(){var o=this.points.map(function(a){return{x:a[0],y:a[1]}});return o}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var p=kf(f,1),g=p[0];g<o&&(o=g),g>a&&(a=g)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var p=kf(f,2),g=p[1];g<o&&(o=g),g>a&&(a=g)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(a,f){var p=kf(a,2),g=p[0],O=p[1];return{x:g,y:O,id:"".concat(o.id,"_").concat(f)}})}}]),t}(hn),gy=zo(nr.prototype,"rx",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),my=zo(nr.prototype,"ry",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),zo(nr.prototype,"points",[l.m],Object.getOwnPropertyDescriptor(nr.prototype,"points"),nr.prototype),zo(nr.prototype,"pointsPosition",[l.m],Object.getOwnPropertyDescriptor(nr.prototype,"pointsPosition"),nr.prototype),zo(nr.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(nr.prototype,"width"),nr.prototype),zo(nr.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(nr.prototype,"height"),nr.prototype),nr);function Du(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Du=function(t){return typeof t}:Du=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}var Jr,Ty,My;function wy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Ay(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?wy(Object(t),!0).forEach(function(n){jy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ny(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function rA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Dy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function nA(e,r,t){return r&&Dy(e.prototype,r),t&&Dy(e,t),e}function ju(){return typeof Reflect<"u"&&Reflect.get?ju=Reflect.get:ju=function(r,t,n){var o=oA(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},ju.apply(this,arguments)}function oA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Ho(e),e!==null););return e}function iA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Yf(e,r)}function Yf(e,r){return Yf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Yf(e,r)}function aA(e){var r=sA();return function(){var n=Ho(e),o;if(r){var a=Ho(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return uA(this,o)}}function uA(e,r){if(r&&(Du(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fo(e)}function Fo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ho(e){return Ho=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ho(e)}function jy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Cu(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Wf=(Jr=function(e){iA(t,e);var r=aA(t);function t(){var n;rA(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),jy(Fo(n),"modelType",ht.ELLIPSE_NODE),Ny(Fo(n),"rx",Ty,Fo(n)),Ny(Fo(n),"ry",My,Fo(n)),n}return nA(t,[{key:"getNodeStyle",value:function(){var o=ju(Ho(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.ellipse;return Ay(Ay({},o),It(a))}},{key:"width",get:function(){return this.rx*2}},{key:"height",get:function(){return this.ry*2}},{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,f=this.rx,p=this.ry;return[{x:o,y:a-p,id:"".concat(this.id,"_0")},{x:o+f,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p,id:"".concat(this.id,"_2")},{x:o-f,y:a,id:"".concat(this.id,"_3")}]}}]),t}(hn),Ty=Cu(Jr.prototype,"rx",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),My=Cu(Jr.prototype,"ry",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Cu(Jr.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(Jr.prototype,"width"),Jr.prototype),Cu(Jr.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(Jr.prototype,"height"),Jr.prototype),Jr);function Ru(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ru=function(t){return typeof t}:Ru=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}var Ir,Cy;function Kf(e,r){return dA(e)||cA(e,r)||fA(e,r)||lA()}function lA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fA(e,r){if(e){if(typeof e=="string")return Ry(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ry(e,r)}}function Ry(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function cA(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function dA(e){if(Array.isArray(e))return e}function Iy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function _y(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Iy(Object(t),!0).forEach(function(n){Ly(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Iy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function pA(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function hA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function By(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function vA(e,r,t){return r&&By(e.prototype,r),t&&By(e,t),e}function Iu(){return typeof Reflect<"u"&&Reflect.get?Iu=Reflect.get:Iu=function(r,t,n){var o=yA(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Iu.apply(this,arguments)}function yA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=Go(e),e!==null););return e}function gA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Vf(e,r)}function Vf(e,r){return Vf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Vf(e,r)}function mA(e){var r=OA();return function(){var n=Go(e),o;if(r){var a=Go(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return bA(this,o)}}function bA(e,r){if(r&&(Ru(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _u(e)}function _u(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Go(e){return Go=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Go(e)}function Ly(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Bu(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var Zf=(Ir=function(e){gA(t,e);var r=mA(t);function t(){var n;hA(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),Ly(_u(n),"modelType",ht.POLYGON_NODE),pA(_u(n),"points",Cy,_u(n)),n}return vA(t,[{key:"getNodeStyle",value:function(){var o=Iu(Go(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.polygon;return _y(_y({},o),It(a))}},{key:"pointsPosition",get:function(){var o=this.x,a=this.y,f=this.width,p=this.height,g=this.points.map(function(O){return{x:O[0]+o-f/2,y:O[1]+a-p/2}});return g}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var p=Kf(f,1),g=p[0];g<o&&(o=g),g>a&&(a=g)}),a-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(f){var p=Kf(f,2),g=p[1];g<o&&(o=g),g>a&&(a=g)}),a-o}},{key:"getDefaultAnchor",value:function(){var o=this,a=this.x,f=this.y,p=this.width,g=this.height,O=this.points;return O.map(function(P,N){var B=Kf(P,2),H=B[0],K=B[1];return{x:a+H-p/2,y:f+K-g/2,id:"".concat(o.id,"_").concat(N)}})}}]),t}(hn),Cy=Bu(Ir.prototype,"points",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Bu(Ir.prototype,"pointsPosition",[l.m],Object.getOwnPropertyDescriptor(Ir.prototype,"pointsPosition"),Ir.prototype),Bu(Ir.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(Ir.prototype,"width"),Ir.prototype),Bu(Ir.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(Ir.prototype,"height"),Ir.prototype),Ir);function Lu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Lu=function(t){return typeof t}:Lu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}var Jf,zy;function Fy(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Hy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Fy(Object(t),!0).forEach(function(n){$y(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Fy(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function EA(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function SA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Gy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xA(e,r,t){return r&&Gy(e.prototype,r),t&&Gy(e,t),e}function zu(){return typeof Reflect<"u"&&Reflect.get?zu=Reflect.get:zu=function(r,t,n){var o=PA(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},zu.apply(this,arguments)}function PA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=$o(e),e!==null););return e}function TA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Qf(e,r)}function Qf(e,r){return Qf=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Qf(e,r)}function MA(e){var r=AA();return function(){var n=$o(e),o;if(r){var a=$o(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return wA(this,o)}}function wA(e,r){if(r&&(Lu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fu(e)}function Fu(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function $o(e){return $o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},$o(e)}function $y(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function NA(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var qf=(Jf=function(e){TA(t,e);var r=MA(t);function t(){var n;SA(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),$y(Fu(n),"modelType",ht.RECT_NODE),EA(Fu(n),"radius",zy,Fu(n)),n}return xA(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,f=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+f/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-f/2,y:a,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=zu($o(t.prototype),"getNodeStyle",this).call(this),a=this.graphModel.theme.rect;return Hy(Hy({},o),It(a))}}]),t}(hn),zy=NA(Jf.prototype,"radius",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Jf);function Hu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hu=function(t){return typeof t}:Hu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}var kn;function ky(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Uy(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ky(Object(t),!0).forEach(function(n){Wy(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ky(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function DA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Xy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function jA(e,r,t){return r&&Xy(e.prototype,r),t&&Xy(e,t),e}function Gu(){return typeof Reflect<"u"&&Reflect.get?Gu=Reflect.get:Gu=function(r,t,n){var o=CA(r,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(arguments.length<3?r:n):a.value}},Gu.apply(this,arguments)}function CA(e,r){for(;!Object.prototype.hasOwnProperty.call(e,r)&&(e=ko(e),e!==null););return e}function RA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ec(e,r)}function ec(e,r){return ec=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},ec(e,r)}function IA(e){var r=BA();return function(){var n=ko(e),o;if(r){var a=ko(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return _A(this,o)}}function _A(e,r){if(r&&(Hu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yy(e)}function Yy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function BA(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ko(e){return ko=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ko(e)}function Wy(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ky(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var tc=(kn=function(e){RA(t,e);var r=IA(t);function t(){var n;DA(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),Wy(Yy(n),"modelType",ht.TEXT_NODE),n}return jA(t,[{key:"getTextStyle",value:function(){var o=Gu(ko(t.prototype),"getTextStyle",this).call(this),a=this.graphModel.theme.text;return Uy(Uy({},o),It(a))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),f=a.fontSize,p=cf({rows:o,fontSize:f,rowsLength:o.length}),g=p.width;return g}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),a=this.getTextStyle(),f=a.fontSize,p=cf({rows:o,fontSize:f,rowsLength:o.length}),g=p.height;return g}}]),t}(hn),Ky(kn.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(kn.prototype,"width"),kn.prototype),Ky(kn.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(kn.prototype,"height"),kn.prototype),kn);function $u(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$u=function(t){return typeof t}:$u=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$u(e)}function LA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Vy(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zA(e,r,t){return r&&Vy(e.prototype,r),t&&Vy(e,t),e}function FA(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&rc(e,r)}function rc(e,r){return rc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},rc(e,r)}function HA(e){var r=$A();return function(){var n=ku(e),o;if(r){var a=ku(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return GA(this,o)}}function GA(e,r){if(r&&($u(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zy(e)}function Zy(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ku(e){return ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ku(e)}function kA(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var nc=function(e){FA(t,e);var r=HA(t);function t(){var n;LA(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),kA(Zy(n),"modelType",ht.HTML_NODE),n}return zA(t,[{key:"getDefaultAnchor",value:function(){var o=this.x,a=this.y,f=this.width,p=this.height;return[{x:o,y:a-p/2,id:"".concat(this.id,"_0")},{x:o+f/2,y:a,id:"".concat(this.id,"_1")},{x:o,y:a+p/2,id:"".concat(this.id,"_2")},{x:o-f/2,y:a,id:"".concat(this.id,"_3")}]}}]),t}(hn),Hr,Jy,Qy,qy;function eg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function UA(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?eg(Object(t),!0).forEach(function(n){rg(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):eg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function oc(e,r,t,n){t&&Object.defineProperty(e,r,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(n):void 0})}function XA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function tg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function YA(e,r,t){return r&&tg(e.prototype,r),t&&tg(e,t),e}function rg(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Si(e,r,t,n,o){var a={};return Object.keys(n).forEach(function(f){a[f]=n[f]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=t.slice().reverse().reduce(function(f,p){return p(e,r,f)||f},a),o&&a.initializer!==void 0&&(a.value=a.initializer?a.initializer.call(o):void 0,a.initializer=void 0),a.initializer===void 0&&(Object.defineProperty(e,r,a),a=null),a}var ng=(Hr=function(){function e(r){XA(this,e),rg(this,"graphModel",void 0),oc(this,"isShowHorizontal",Jy,this),oc(this,"isShowVertical",Qy,this),oc(this,"position",qy,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}return YA(e,[{key:"getStyle",value:function(){return UA({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,n){for(var o=t.x,a=t.y,f=!1,p=!1,g=0;g<n.length;g++){var O=n[g];if(O.id!==t.id&&(o===O.x&&(f=!0),a===O.y&&(p=!0),f&&p))break}return{isShowVertical:f,isShowHorizontal:p,position:{x:o,y:a}}}},{key:"getHorizontalSnapline",value:function(t,n){var o=!1,a,f=t.id,p;if(f){var g=this.graphModel.fakerNode;if(g&&g.id===f)p=xr(g);else{var O=this.graphModel.getNodeModelById(f);p=xr(O)}}for(var P=0;P<n.length;P++){var N=n[P];if(N.id!==t.id){var B=xr(N);if(B.minY===p.minY||B.maxY===p.minY){o=!0,a=p.minY;break}if(B.minY===p.maxY||B.maxY===p.maxY){o=!0,a=p.maxY;break}}}return ur({isShowHorizontal:o,position:{y:a}})}},{key:"getVerticalSnapline",value:function(t,n){var o=!1,a,f=t.id,p;if(f){var g=this.graphModel.fakerNode;if(g&&g.id===f)p=xr(g);else{var O=this.graphModel.getNodeModelById(f);p=xr(O)}}for(var P=0;P<n.length;P++){var N=n[P];if(N.id!==t.id){var B=xr(N);if(B.minX===p.minX||B.maxX===p.minX){o=!0,a=p.minX;break}if(B.minX===p.maxX||B.maxX===p.maxX){o=!0,a=p.maxX;break}}}return ur({isShowVertical:o,position:{x:a}})}},{key:"getSnapLinePosition",value:function(t,n){var o=this.getCenterSnapLine(t,n),a=o.isShowHorizontal,f=o.isShowVertical;if(!a){var p=this.getHorizontalSnapline(t,n);p.isShowHorizontal&&(o.isShowHorizontal=p.isShowHorizontal,o.position.y=p.position.y)}if(!f){var g=this.getVerticalSnapline(t,n);g.isShowVertical&&(o.isShowVertical=g.isShowVertical,o.position.x=g.position.x)}return o}},{key:"setSnaplineInfo",value:function(t){var n=t.isShowHorizontal,o=t.isShowVertical,a=t.position;this.position=a,this.isShowHorizontal=n,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var n=this.graphModel.nodes,o=this.getSnapLinePosition(t,n);this.setSnaplineInfo(o)}}]),e}(),Jy=Si(Hr.prototype,"isShowHorizontal",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Qy=Si(Hr.prototype,"isShowVertical",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),qy=Si(Hr.prototype,"position",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Si(Hr.prototype,"clearSnapline",[l.k],Object.getOwnPropertyDescriptor(Hr.prototype,"clearSnapline"),Hr.prototype),Si(Hr.prototype,"setNodeSnapLine",[l.k],Object.getOwnPropertyDescriptor(Hr.prototype,"setNodeSnapLine"),Hr.prototype),Hr),xi=new Map,og=function(r){var t=zn();function n(){r();var a=xi.get(t);if(a){var f=window.requestAnimationFrame(n);xi.set(t,f)}}var o=window.requestAnimationFrame(n);return xi.set(t,o),t},Uu=function(r){var t=xi.get(r);t&&(window.cancelAnimationFrame(t),xi.delete(r))};function Xu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Xu=function(t){return typeof t}:Xu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function Pi(){return Pi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Pi.apply(this,arguments)}function ig(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Yu(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ig(Object(t),!0).forEach(function(n){qr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ig(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function WA(e,r){return JA(e)||ZA(e,r)||VA(e,r)||KA()}function KA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VA(e,r){if(e){if(typeof e=="string")return ag(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return ag(e,r)}}function ag(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function ZA(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function JA(e){if(Array.isArray(e))return e}function QA(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function ug(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function qA(e,r,t){return r&&ug(e.prototype,r),t&&ug(e,t),e}function e1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&ic(e,r)}function ic(e,r){return ic=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},ic(e,r)}function t1(e){var r=n1();return function(){var n=Wu(e),o;if(r){var a=Wu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return r1(this,o)}}function r1(e,r){if(r&&(Xu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qr(e)}function Qr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function n1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Wu(e){return Wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Wu(e)}function qr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var o1=function(e){e1(t,e);var r=t1(t);function t(){var n;return QA(this,t),n=r.call(this),qr(Qr(n),"preTargetNode",void 0),qr(Qr(n),"sourceRuleResults",void 0),qr(Qr(n),"targetRuleResults",void 0),qr(Qr(n),"dragHandler",void 0),qr(Qr(n),"t",void 0),qr(Qr(n),"onDragStart",function(o){var a=o.event,f=n.props,p=f.anchorData,g=f.nodeModel,O=f.graphModel,P=O.overlapMode;O.selectNodeById(g.id),P!==Sr.INCREASE&&g.autoToFront&&O.toFront(g.id),O.eventCenter.emit(rt.ANCHOR_DRAGSTART,{data:p,e:a,nodeModel:g}),n.setState({startX:p.x,startY:p.y,endX:p.x,endY:p.y})}),qr(Qr(n),"onDragging",function(o){var a=o.event,f=n.props,p=f.graphModel,g=f.nodeModel,O=f.anchorData,P=p.transformModel,N=p.eventCenter,B=p.width,H=p.height,K=p.editConfigModel,ie=K.autoExpand,oe=K.stopMoveGraph,ue=a.clientX,we=a.clientY,je=p.getPointByClient({x:ue,y:we}),ye=je.domOverlayPosition,_e=ye.x,Ne=ye.y,ke=je.canvasOverlayPosition,Re=ke.x,qe=ke.y;n.t&&Uu(n.t);var st=[],_t=10;_e<10?st=[_t,0]:_e+10>B?st=[-_t,0]:Ne<10?st=[0,_t]:Ne+10>H&&(st=[0,-_t]),n.setState({endX:Re,endY:qe,dragging:!0}),n.moveAnchorEnd(Re,qe),st.length>0&&!oe&&ie&&(n.t=og(function(){var Ft=st,Kt=WA(Ft,2),ir=Kt[0],On=Kt[1];P.translate(ir,On);var Yn=n.state,nn=Yn.endX,Yo=Yn.endY;n.setState({endX:nn-ir,endY:Yo-On}),n.moveAnchorEnd(nn-ir,Yo-On)})),N.emit(rt.ANCHOR_DRAG,{data:O,e:a,nodeModel:g})}),qr(Qr(n),"onDragEnd",function(o){var a=o.event;n.t&&Uu(n.t),n.checkEnd(a),n.setState({startX:0,startY:0,endX:0,endY:0,dragging:!1}),n.sourceRuleResults.clear(),n.targetRuleResults.clear();var f=n.props,p=f.graphModel,g=f.nodeModel,O=f.anchorData;p.eventCenter.emit(rt.ANCHOR_DRAGEND,{data:O,e:a,nodeModel:g})}),qr(Qr(n),"checkEnd",function(o){var a=n.props,f=a.graphModel,p=a.nodeModel,g=a.anchorData,O=g.x,P=g.y,N=g.id;f.edgeType;var B=n.state,H=B.endX,K=B.endY,ie=B.dragging,oe=Ia({x:H,y:K},f);if(n.preTargetNode&&n.preTargetNode.state!==bt.DEFAULT&&n.preTargetNode.setElementState(bt.DEFAULT),!!ie&&oe&&oe.node){var ue=oe.node,we=oe.anchor.id,je="".concat(p.id,"_").concat(ue.id,"_").concat(we,"_").concat(N),ye=n.sourceRuleResults.get(je)||{},_e=ye.isAllPass,Ne=ye.msg,ke=n.targetRuleResults.get(je)||{},Re=ke.isAllPass,qe=ke.msg;if(_e&&Re){ue.setElementState(bt.DEFAULT);var st=f.edgeGenerator(p.getData(),f.getNodeModelById(oe.node.id).getData()),_t=f.addEdge(Yu(Yu({},st),{},{sourceNodeId:p.id,sourceAnchorId:N,startPoint:{x:O,y:P},targetNodeId:oe.node.id,targetAnchorId:oe.anchor.id,endPoint:{x:oe.anchor.x,y:oe.anchor.y}})),Ft=n.props.anchorData;f.eventCenter.emit(rt.ANCHOR_DROP,{data:Ft,e:o,nodeModel:p,edgeModel:_t})}else{var Kt=ue.getData();f.eventCenter.emit(rt.CONNECTION_NOT_ALLOWED,{data:Kt,msg:qe||Ne})}}}),n.sourceRuleResults=new Map,n.targetRuleResults=new Map,n.state={startX:0,startY:0,endX:0,endY:0,dragging:!1},n.dragHandler=new cn({onDragStart:n.onDragStart,onDragging:n.onDragging,onDragEnd:n.onDragEnd}),n}return qA(t,[{key:"getAnchorShape",value:function(){var o=this.props,a=o.anchorData,f=o.style,p=o.node,g=p.getAnchorShape(a);if(g)return g;var O=a.x,P=a.y,N=Yu(Yu({},f),f.hover);return Object(ae.g)("g",null,Object(ae.g)(Oi,Pi({className:"lf-node-anchor-hover"},N,{x:O,y:P})),Object(ae.g)(Oi,Pi({className:"lf-node-anchor"},f,{x:O,y:P})))}},{key:"moveAnchorEnd",value:function(o,a){var f=this.props,p=f.graphModel,g=f.nodeModel,O=f.anchorData,P=Ia({x:o,y:a},p);if(P){var N=P.node,B=P.anchor.id;if(this.preTargetNode&&this.preTargetNode!==P.node&&this.preTargetNode.setElementState(bt.DEFAULT),O.id===B)return;this.preTargetNode=N;var H="".concat(g.id,"_").concat(N.id,"_").concat(B,"_").concat(O.id);if(!this.targetRuleResults.has(H)){var K=P.anchor,ie=g.isAllowConnectedAsSource(N,O,K),oe=N.isAllowConnectedAsTarget(g,O,K);this.sourceRuleResults.set(H,Ba(ie)),this.targetRuleResults.set(H,Ba(oe))}var ue=this.sourceRuleResults.get(H),we=ue.isAllPass,je=this.targetRuleResults.get(H),ye=je.isAllPass;we&&ye?N.setElementState(bt.ALLOW_CONNECT):N.setElementState(bt.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==bt.DEFAULT&&this.preTargetNode.setElementState(bt.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,a=o.startX,f=o.startY,p=o.endX,g=o.endY,O=Wr(a,f,p,g);return O>10}},{key:"render",value:function(){var o=this,a=this.state,f=a.startX,p=a.startY,g=a.endX,O=a.endY,P=this.props,N=P.anchorData.edgeAddable,B=P.edgeStyle;return Object(ae.g)("g",{className:"lf-anchor"},Object(ae.g)("g",{onMouseDown:function(K){N!==!1&&o.dragHandler.handleMouseDown(K)}},this.getAnchorShape()),this.isShowLine()&&Object(ae.g)(Co,Pi({x1:f,y1:p,x2:g,y2:O},B,{"pointer-events":"none"})))}}]),t}(ae.a),i1=o1;i(64);function sg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function a1(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?sg(Object(t),!0).forEach(function(n){u1(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):sg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function u1(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ku(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ku=function(t){return typeof t}:Ku=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function s1(e,r){return d1(e)||c1(e,r)||f1(e,r)||l1()}function l1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f1(e,r){if(e){if(typeof e=="string")return lg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return lg(e,r)}}function lg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function c1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function d1(e){if(Array.isArray(e))return e}function fg(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.value,f=e.fontSize,p=e.fill,g=p===void 0?"currentColor":p,O=e.overflowMode,P=O===void 0?"default":O,N=e.textWidth,B=N===void 0?"":N,H=e.model,K={textAnchor:"middle","dominant-baseline":"middle",x:t,y:o,fill:g};if(Object.entries(e).forEach(function(ye){var _e=s1(ye,2),Ne=_e[0],ke=_e[1],Re=Ku(ke);Re!=="object"&&(K[Ne]=ke)}),a){var ie=String(a).split(/[\r\n]/g),oe=ie.length;if(P!=="default"){var ue=H.BaseType,we=H.modelType;if(ue===Ht.NODE&&we!==ht.TEXT_NODE||ue===Ht.EDGE&&B)return p1(e)}if(oe>1){var je=ie.map(function(ye,_e){var Ne=f+2,ke=(_e-(oe-1)/2)*Ne;return Object(ae.g)("tspan",{className:"lf-text-tspan",x:t,y:o+ke},ye)});return Object(ae.g)("text",K,je)}return Object(ae.g)("text",K,a)}}function p1(e){var r=e.value,t=e.fontSize,n=e.model,o=e.fontFamily,a=o===void 0?"":o,f=e.lineHeight,p=e.wrapPadding,g=p===void 0?"0, 0":p,O=e.overflowMode,P=e.x,N=e.y,B=n.width,H=n.textHeight,K=e.textWidth||B,ie=String(r).split(/[\r\n]/g),oe=ie.length,ue=Up({rows:ie,style:{fontSize:"".concat(t,"px"),width:"".concat(K,"px"),fontFamily:a,lineHeight:f,padding:g},rowsLength:oe,className:"lf-get-text-height"}),we=n.height>ue?n.height:ue;H&&(we=H);var je=O==="ellipsis";return Object(ae.g)("g",null,Object(ae.g)("foreignObject",{width:K,height:we,x:P-K/2,y:N-we/2},Object(ae.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:we,width:K,padding:g}},Object(ae.g)("div",{className:je?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",title:je?ie.join(""):"",style:a1({},e)},ie.map(function(ye){return Object(ae.g)("div",{className:"lf-node-text--auto-wrap-inner"},ye)})))))}function Vu(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vu=function(t){return typeof t}:Vu=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function ac(){return ac=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},ac.apply(this,arguments)}function h1(e,r){return m1(e)||g1(e,r)||y1(e,r)||v1()}function v1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y1(e,r){if(e){if(typeof e=="string")return cg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return cg(e,r)}}function cg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function g1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function m1(e){if(Array.isArray(e))return e}function b1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function dg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function O1(e,r,t){return r&&dg(e.prototype,r),t&&dg(e,t),e}function E1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&uc(e,r)}function uc(e,r){return uc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},uc(e,r)}function S1(e){var r=P1();return function(){var n=Zu(e),o;if(r){var a=Zu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return x1(this,o)}}function x1(e,r){if(r&&(Vu(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Un(e)}function Un(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Zu(e){return Zu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Zu(e)}function ao(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var pg=function(e){E1(t,e);var r=S1(t);function t(n){var o;b1(this,t),o=r.call(this),ao(Un(o),"dragHandler",void 0),ao(Un(o),"sumDeltaX",0),ao(Un(o),"sumDeltaY",0),ao(Un(o),"stepDrag",void 0),ao(Un(o),"onDragging",function(p){var g=p.deltaX,O=p.deltaY,P=o.props,N=P.model,B=P.graphModel.transformModel,H=B.fixDeltaXY(g,O),K=h1(H,2),ie=K[0],oe=K[1];N.moveText(ie,oe)}),ao(Un(o),"dblClickHandler",function(){var p=o.props.editable;if(p){var g=o.props.model;g.setElementState(bt.TEXT_EDIT)}}),ao(Un(o),"mouseDownHandle",function(p){var g=o.props,O=g.draggable,P=g.graphModel.editConfigModel.nodeTextDraggable;(O||P)&&o.stepDrag.handleMouseDown(p)});var a=n.model,f=n.draggable;return o.stepDrag=new cn({onDragging:o.onDragging,step:1,model:a,isStopPropagation:f}),o}return O1(t,[{key:"getShape",value:function(){var o=this.props,a=o.model,f=o.graphModel,p=a.text,g=f.editConfigModel,O=p.value,P=p.x,N=p.y,B=p.editable,H=p.draggable,K={x:P,y:N,className:"",value:O};B?K.className="lf-element-text":H||g.nodeTextDraggable?K.className="lf-text-draggable":K.className="lf-text-disabled";var ie=a.getTextStyle();return Object(ae.g)(fg,ac({},K,ie,{model:a}))}},{key:"render",value:function(){var o=this.props.model.text;if(o)return Object(ae.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}]),t}(ae.a),T1=window.navigator.userAgent.match(/MSIE|Trident/)!==null;function Ju(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ju=function(t){return typeof t}:Ju=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function Qu(e,r){return N1(e)||A1(e,r)||w1(e,r)||M1()}function M1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w1(e,r){if(e){if(typeof e=="string")return hg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return hg(e,r)}}function hg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function A1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function N1(e){if(Array.isArray(e))return e}function D1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function vg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function j1(e,r,t){return r&&vg(e.prototype,r),t&&vg(e,t),e}function C1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&sc(e,r)}function sc(e,r){return sc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},sc(e,r)}function R1(e){var r=_1();return function(){var n=qu(e),o;if(r){var a=qu(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return I1(this,o)}}function I1(e,r){if(r&&(Ju(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return or(e)}function or(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qu(e){return qu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},qu(e)}function fr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var yn=function(e){C1(t,e);var r=R1(t);function t(n){var o;D1(this,t),o=r.call(this),fr(or(o),"t",void 0),fr(or(o),"moveOffset",void 0),fr(or(o),"stepDrag",void 0),fr(or(o),"contextMenuTime",void 0),fr(or(o),"startTime",void 0),fr(or(o),"clickTimer",void 0),fr(or(o),"onDragStart",function(O){var P=O.event,N=P.clientX,B=P.clientY,H=o.props,K=H.model,ie=H.graphModel,oe=ie.getPointByClient({x:N,y:B}),ue=oe.canvasOverlayPosition,we=ue.x,je=ue.y;o.moveOffset={x:K.x-we,y:K.y-je}}),fr(or(o),"onDragging",function(O){var P=O.event,N=o.props,B=N.model,H=N.graphModel,K=H.editConfigModel,ie=K.stopMoveGraph,oe=K.autoExpand,ue=H.transformModel,we=H.width,je=H.height,ye=H.gridSize;B.isDragging=!0;var _e=P.clientX,Ne=P.clientY,ke=H.getPointByClient({x:_e,y:Ne}),Re=ke.canvasOverlayPosition,qe=Re.x,st=Re.y,_t=ue.CanvasPointToHtmlPoint([qe,st]),Ft=Qu(_t,2),Kt=Ft[0],ir=Ft[1];if(qe=qe+o.moveOffset.x,st=st+o.moveOffset.y,qe=Ln(qe,ye),st=Ln(st,ye),!we||!je){H.moveNode2Coordinate(B.id,qe,st);return}var On=Kt<0||ir<0||Kt>we||ir>je;if(!(oe&&!ie&&On)){var Yn=ue.CanvasPointToHtmlPoint([qe-B.width/2,st-B.height/2]),nn=Qu(Yn,2),Yo=nn[0],qc=nn[1],xC=ue.CanvasPointToHtmlPoint([qe+B.width/2,st+B.height/2]),hm=Qu(xC,2),PC=hm[0],TC=hm[1],Gs=Math.max(ye,20),Wo=[];Yo<0?Wo=[Gs,0]:PC>H.width?Wo=[-Gs,0]:qc<0?Wo=[0,Gs]:TC>H.height&&(Wo=[0,-Gs]),o.t&&Uu(o.t),Wo.length>0&&!ie&&oe?o.t=og(function(){var MC=Wo,vm=Qu(MC,2),ym=vm[0],gm=vm[1];ue.translate(ym,gm),H.moveNode(B.id,-ym/ue.SCALE_X,-gm/ue.SCALE_X)}):H.moveNode2Coordinate(B.id,qe,st)}}),fr(or(o),"onDragEnd",function(){o.t&&Uu(o.t);var O=o.props.model;O.isDragging=!1}),fr(or(o),"handleClick",function(O){if(o.startTime){var P=new Date().getTime()-o.startTime;if(!(P>200)){var N=o.props,B=N.model,H=N.graphModel,K=B.getData(),ie=H.getPointByClient({x:O.clientX,y:O.clientY}),oe={data:K,e:O,position:ie,isSelected:!1,isMultiple:!1},ue=O.button===2,we=O.detail===2;if(!ue){var je=H.editConfigModel,ye=Lp(O,je);oe.isMultiple=ye,B.isSelected&&!we&&ye?(oe.isSelected=!1,B.setSelected(!1)):(H.selectNodeById(B.id,ye),oe.isSelected=!0,o.toFront()),we?(je.nodeTextEdit&&B.text.editable&&(B.setSelected(!1),H.setElementStateById(B.id,bt.TEXT_EDIT)),H.eventCenter.emit(rt.NODE_DBCLICK,oe)):(H.eventCenter.emit(rt.ELEMENT_CLICK,oe),H.eventCenter.emit(rt.NODE_CLICK,oe))}}}}),fr(or(o),"handleContextMenu",function(O){O.preventDefault();var P=o.props,N=P.model,B=P.graphModel,H=N.getData(),K=B.getPointByClient({x:O.clientX,y:O.clientY});B.setElementStateById(N.id,bt.SHOW_MENU,K.domOverlayPosition),N.isSelected||B.selectNodeById(N.id),B.eventCenter.emit(rt.NODE_CONTEXTMENU,{data:H,e:O,position:K}),o.toFront()}),fr(or(o),"handleMouseDown",function(O){var P=o.props,N=P.model,B=P.graphModel;o.startTime=new Date().getTime();var H=B.editConfigModel;H.adjustNodePosition&&N.draggable&&o.stepDrag&&o.stepDrag.handleMouseDown(O)}),fr(or(o),"setHoverON",function(O){var P=o.props,N=P.model,B=P.graphModel;if(!N.isHovered){var H=N.getData();N.setHovered(!0),B.eventCenter.emit(rt.NODE_MOUSEENTER,{data:H,e:O})}}),fr(or(o),"setHoverOFF",function(O){var P=o.props,N=P.model,B=P.graphModel,H=N.getData();N.isHovered&&(N.setHovered(!1),B.eventCenter.emit(rt.NODE_MOUSELEAVE,{data:H,e:O}))}),fr(or(o),"onMouseOut",function(O){T1&&o.setHoverOFF(O)});var a=n.graphModel,f=a.gridSize,p=a.eventCenter,g=n.model;return o.stepDrag=new cn({onDragStart:o.onDragStart,onDragging:o.onDragging,onDragEnd:o.onDragEnd,step:f,eventType:"NODE",isStopPropagation:!1,eventCenter:p,model:g}),o}return j1(t,[{key:"getAnchorShape",value:function(o){return null}},{key:"getAnchors",value:function(){var o=this,a=this.props,f=a.model,p=a.graphModel,g=f.isSelected,O=f.isHitable,P=f.isDragging,N=f.isShowAnchor;return O&&(g||N)&&!P?wa(f.anchors,function(B,H){var K=f.getAnchorLineStyle(B),ie=f.getAnchorStyle(B);return Object(ae.g)(i1,{anchorData:B,node:o,style:ie,edgeStyle:K,anchorIndex:H,nodeModel:f,graphModel:p,setHoverOFF:o.setHoverOFF})}):[]}},{key:"getText",value:function(){var o=this.props,a=o.model,f=o.graphModel;if(a.state===bt.TEXT_EDIT)return"";if(a.text){var p=f.editConfigModel,g=!1;return(a.text.draggable||p.nodeTextDraggable)&&(g=!0),Object(ae.g)(pg,{editable:p.nodeTextEdit&&a.text.editable,model:a,graphModel:f,draggable:g})}}},{key:"getStateClassName",value:function(){var o=this.props.model,a=o.state,f=o.isDragging,p=o.isSelected,g="lf-node";switch(a){case bt.ALLOW_CONNECT:g+=" lf-node-allow";break;case bt.NOT_ALLOW_CONNECT:g+=" lf-node-not-allow";break;default:g+=" lf-node-default";break}return f&&(g+=" lf-isDragging"),p&&(g+=" lf-node-selected"),g}},{key:"toFront",value:function(){var o=this.props,a=o.model,f=o.graphModel,p=f.overlapMode;p!==Sr.INCREASE&&a.autoToFront&&f.toFront(a.id)}},{key:"render",value:function(){var o=this.props,a=o.model,f=o.graphModel,p=f.editConfigModel,g=p.hideAnchors,O=p.adjustNodePosition,P=f.gridSize,N=f.transformModel.SCALE_X,B=a.isHitable,H=a.draggable,K=Object(ae.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),g?null:this.getAnchors()),ie;return B?(O&&H&&this.stepDrag.setStep(P*N),ie=Object(ae.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onClick:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},K)):ie=Object(ae.g)("g",{className:this.getStateClassName()},K),ie}}],[{key:"getModel",value:function(o){return o}}]),t}(ae.a);function es(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?es=function(t){return typeof t}:es=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},es(e)}function lc(){return lc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},lc.apply(this,arguments)}function B1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function yg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function L1(e,r,t){return r&&yg(e.prototype,r),t&&yg(e,t),e}function z1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&fc(e,r)}function fc(e,r){return fc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},fc(e,r)}function F1(e){var r=$1();return function(){var n=ts(e),o;if(r){var a=ts(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return H1(this,o)}}function H1(e,r){if(r&&(es(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return G1(e)}function G1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ts(e){return ts=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ts(e)}var cc=function(e){z1(t,e);var r=F1(t);function t(){return B1(this,t),r.apply(this,arguments)}return L1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ae.g)(Gn,lc({},a,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}]),t}(yn);function rs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?rs=function(t){return typeof t}:rs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rs(e)}function dc(){return dc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},dc.apply(this,arguments)}function k1(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function gg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function U1(e,r,t){return r&&gg(e.prototype,r),t&&gg(e,t),e}function X1(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&pc(e,r)}function pc(e,r){return pc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},pc(e,r)}function Y1(e){var r=V1();return function(){var n=ns(e),o;if(r){var a=ns(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return W1(this,o)}}function W1(e,r){if(r&&(rs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K1(e)}function K1(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ns(e){return ns=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ns(e)}var hc=function(e){X1(t,e);var r=Y1(t);function t(){return k1(this,t),r.apply(this,arguments)}return U1(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,f=o.y,p=o.r,g=o.getNodeStyle();return Object(ae.g)(Oi,dc({},g,{x:a,y:f,r:p}))}}]),t}(yn);function os(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?os=function(t){return typeof t}:os=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(e)}function Z1(e,r){return eN(e)||q1(e,r)||Q1(e,r)||J1()}function J1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q1(e,r){if(e){if(typeof e=="string")return mg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return mg(e,r)}}function mg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function q1(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function eN(e){if(Array.isArray(e))return e}function bg(e){var r=e.points,t=e.className,n={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(o){var a=Z1(o,2),f=a[0],p=a[1],g=os(p);g!=="object"&&(n[f]=p)}),t?n.className="lf-basic-shape ".concat(t):n.className="lf-basic-shape",n.points=r.map(function(o){return o.join(",")}).join(" "),Object(ae.g)("polygon",n)}function is(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?is=function(t){return typeof t}:is=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},is(e)}function vc(){return vc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},vc.apply(this,arguments)}function tN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Og(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function rN(e,r,t){return r&&Og(e.prototype,r),t&&Og(e,t),e}function nN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&yc(e,r)}function yc(e,r){return yc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},yc(e,r)}function oN(e){var r=uN();return function(){var n=as(e),o;if(r){var a=as(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return iN(this,o)}}function iN(e,r){if(r&&(is(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aN(e)}function aN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function as(e){return as=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},as(e)}var gc=function(e){nN(t,e);var r=oN(t);function t(){return tN(this,t),r.apply(this,arguments)}return rN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.x,f=o.y,p=o.width,g=o.height,O=o.points,P=o.getNodeStyle(),N={transform:"matrix(1 0 0 1 ".concat(a-p/2," ").concat(f-g/2,")")};return Object(ae.g)("g",N,Object(ae.g)(bg,vc({},P,{points:O,x:a,y:f})))}}]),t}(yn);function us(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?us=function(t){return typeof t}:us=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},us(e)}function mc(){return mc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},mc.apply(this,arguments)}function sN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Eg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function lN(e,r,t){return r&&Eg(e.prototype,r),t&&Eg(e,t),e}function fN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&bc(e,r)}function bc(e,r){return bc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},bc(e,r)}function cN(e){var r=hN();return function(){var n=ss(e),o;if(r){var a=ss(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return dN(this,o)}}function dN(e,r){if(r&&(us(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pN(e)}function pN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ss(e){return ss=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ss(e)}var Oc=function(e){fN(t,e);var r=cN(t);function t(){return sN(this,t),r.apply(this,arguments)}return lN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ae.g)("g",null,Object(ae.g)(bg,mc({},a,{points:o.points,x:o.x,y:o.y})))}}]),t}(yn);function ls(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ls=function(t){return typeof t}:ls=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ls(e)}function vN(e,r){return bN(e)||mN(e,r)||gN(e,r)||yN()}function yN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gN(e,r){if(e){if(typeof e=="string")return Sg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Sg(e,r)}}function Sg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function mN(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function bN(e){if(Array.isArray(e))return e}function ON(e){var r=e.x,t=r===void 0?0:r,n=e.y,o=n===void 0?0:n,a=e.rx,f=a===void 0?4:a,p=e.ry,g=p===void 0?4:p,O=e.className,P={cx:t,cy:o,rx:f,ry:g,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(N){var B=vN(N,2),H=B[0],K=B[1],ie=ls(K);ie!=="object"&&(P[H]=K)}),O?P.className="lf-basic-shape ".concat(O):P.className="lf-basic-shape",Object(ae.g)("ellipse",P)}function fs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fs=function(t){return typeof t}:fs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fs(e)}function Ec(){return Ec=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Ec.apply(this,arguments)}function EN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function xg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SN(e,r,t){return r&&xg(e.prototype,r),t&&xg(e,t),e}function xN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Sc(e,r)}function Sc(e,r){return Sc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Sc(e,r)}function PN(e){var r=wN();return function(){var n=cs(e),o;if(r){var a=cs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return TN(this,o)}}function TN(e,r){if(r&&(fs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return MN(e)}function MN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function cs(e){return cs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},cs(e)}var xc=function(e){xN(t,e);var r=PN(t);function t(){return EN(this,t),r.apply(this,arguments)}return SN(t,[{key:"getShape",value:function(){var o=this.props.model,a=o.getNodeStyle();return Object(ae.g)(ON,Ec({},a,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}]),t}(yn);function ds(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ds=function(t){return typeof t}:ds=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ds(e)}function Pg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Tg(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Pg(Object(t),!0).forEach(function(n){AN(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function AN(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function NN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Mg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function DN(e,r,t){return r&&Mg(e.prototype,r),t&&Mg(e,t),e}function jN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Pc(e,r)}function Pc(e,r){return Pc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Pc(e,r)}function CN(e){var r=_N();return function(){var n=ps(e),o;if(r){var a=ps(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return RN(this,o)}}function RN(e,r){if(r&&(ds(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IN(e)}function IN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _N(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ps(e){return ps=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ps(e)}var Tc=function(e){jN(t,e);var r=CN(t);function t(){return NN(this,t),r.apply(this,arguments)}return DN(t,[{key:"getBackground",value:function(){var o=this.props.model,a=o.getTextStyle(),f=o.text;if(f&&f.value&&a.background&&a.background.fill!=="transparent"){var p=f.x,g=f.y,O=o.width,P=o.height,N=Tg(Tg({},a.background),{},{x:p,y:g-1,width:O,height:P});return Object(ae.g)(Gn,N)}}},{key:"getShape",value:function(){return Object(ae.g)("g",null,this.getBackground())}}]),t}(yn);function hs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?hs=function(t){return typeof t}:hs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hs(e)}function Mc(){return Mc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Mc.apply(this,arguments)}function BN(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function wg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function LN(e,r,t){return r&&wg(e.prototype,r),t&&wg(e,t),e}function zN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&wc(e,r)}function wc(e,r){return wc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},wc(e,r)}function FN(e){var r=GN();return function(){var n=vs(e),o;if(r){var a=vs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return HN(this,o)}}function HN(e,r){if(r&&(hs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ti(e)}function Ti(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function GN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function vs(e){return vs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},vs(e)}function ys(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ac=function(e){zN(t,e);var r=FN(t);function t(){var n;BN(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),ys(Ti(n),"ref",void 0),ys(Ti(n),"currentProperties",void 0),ys(Ti(n),"preProperties",void 0),ys(Ti(n),"setRef",function(p){n.ref=p}),n}return LN(t,[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!(this.preProperties&&this.preProperties===this.currentProperties))return this.preProperties=this.currentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,a=o.x,f=o.y,p=o.height,g=o.width,O=o.getNodeStyle();return this.currentProperties=JSON.stringify(o.properties),Object(ae.g)("foreignObject",Mc({},O,{x:a-g/2,y:f-p/2,width:g,height:p,ref:this.setRef}))}}]),t}(yn);function gs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gs=function(t){return typeof t}:gs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gs(e)}function Nc(){return Nc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Nc.apply(this,arguments)}function Ag(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function uo(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Ag(Object(t),!0).forEach(function(n){Cc(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ag(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function $N(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ng(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kN(e,r,t){return r&&Ng(e.prototype,r),t&&Ng(e,t),e}function UN(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Dc(e,r)}function Dc(e,r){return Dc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Dc(e,r)}function XN(e){var r=WN();return function(){var n=ms(e),o;if(r){var a=ms(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return YN(this,o)}}function YN(e,r){if(r&&(gs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jc(e)}function jc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WN(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ms(e){return ms=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},ms(e)}function Cc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var KN=function(e){UN(t,e);var r=XN(t);function t(n){var o;return $N(this,t),o=r.call(this,n),Cc(jc(o),"setHoverON",function(){o.setState({isHovered:!0})}),Cc(jc(o),"setHoverOFF",function(){o.setState({isHovered:!1})}),o.state={isHovered:!1},o}return kN(t,[{key:"getBackground",value:function(){var o=this.props.model,a=o.getTextStyle(),f=o.text,p=a.background||{},g=this.state.isHovered;if(g&&a.hover&&a.hover.background&&(p=uo(uo({},p),a.hover.background)),f&&f.value&&p.fill!=="transparent"){var O=a.fontSize,P=a.overflowMode,N=a.lineHeight,B=a.wrapPadding,H=a.textWidth,K=f.value,ie=f.x,oe=f.y,ue=String(K).split(/[\r\n]/g),we=ue.length,je;if(P==="autoWrap"&&H){var ye=Up({rows:ue,style:{fontSize:"".concat(O,"px"),width:"".concat(H,"px"),lineHeight:N,padding:B},rowsLength:we,className:"lf-get-text-height"});je=uo(uo({},p),{},{x:ie-1,y:oe-1,width:H,height:ye})}else{ue&&ue.forEach(function(qe){_h(qe)});var _e=cf({rows:ue,fontSize:O,rowsLength:we}),Ne=_e.width,ke=_e.height;if(typeof p.wrapPadding=="string"){var Re=p.wrapPadding.split(",").filter(function(qe){return qe.trim()}).map(function(qe){return parseFloat(qe.trim())});Re.length>0&&Re.length<=4&&(Re.length===1?Re=[Re[0],Re[0],Re[0],Re[0]]:Re.length===2?Re=[Re[0],Re[1],Re[0],Re[1]]:Re.length===3&&(Re=[Re[0],Re[1],Re[2],Re[1]]),Ne+=Re[1]+Re[3],ke+=Re[0]+Re[2],ie=ie+(Re[1]-Re[3])/2,oe=oe+(Re[2]-Re[0])/2)}je=uo(uo({},p),{},{x:ie-1,y:oe-1,width:Ne,height:ke})}return Object(ae.g)(Gn,je)}}},{key:"getShape",value:function(){var o=this.props.model,a=o.text,f=a.value,p=a.x,g=a.y;if(f){var O=o.getTextStyle(),P=uo({x:p,y:g,className:"lf-element-text",value:f},O);return Object(ae.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackground(),Object(ae.g)(fg,Nc({},P,{model:o})))}}}]),t}(pg);function bs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bs=function(t){return typeof t}:bs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bs(e)}function Dg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function gn(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Dg(Object(t),!0).forEach(function(n){Tr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Dg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function VN(e,r){return qN(e)||QN(e,r)||JN(e,r)||ZN()}function ZN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JN(e,r){if(e){if(typeof e=="string")return jg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jg(e,r)}}function jg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function QN(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function qN(e){if(Array.isArray(e))return e}function eD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Cg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function tD(e,r,t){return r&&Cg(e.prototype,r),t&&Cg(e,t),e}function rD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Rc(e,r)}function Rc(e,r){return Rc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Rc(e,r)}function nD(e){var r=iD();return function(){var n=Os(e),o;if(r){var a=Os(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return oD(this,o)}}function oD(e,r){if(r&&(bs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pr(e)}function Pr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function iD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Os(e){return Os=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Os(e)}function Tr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var en;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(en||(en={}));var Rg=function(e){rD(t,e);var r=nD(t);function t(n){var o;eD(this,t),o=r.call(this),Tr(Pr(o),"stepDragData",void 0),Tr(Pr(o),"stepDrag",void 0),Tr(Pr(o),"oldEdge",void 0),Tr(Pr(o),"preTargetNode",void 0),Tr(Pr(o),"targetRuleResults",void 0),Tr(Pr(o),"sourceRuleResults",void 0),Tr(Pr(o),"handleMouseDown",function(O){o.stepDrag&&o.stepDrag.handleMouseDown(O)}),Tr(Pr(o),"onDragStart",function(){var O=o.props,P=O.x,N=O.y,B=O.edgeModel,H=B.startPoint,K=B.endPoint,ie=B.pointsList;o.oldEdge={startPoint:H,endPoint:K,pointsList:ie},o.setState({endX:P,endY:N,dragging:!0})}),Tr(Pr(o),"onDragging",function(O){var P=O.deltaX,N=O.deltaY,B=o.state,H=B.endX,K=B.endY,ie=o.props,oe=ie.graphModel,ue=ie.type,we=oe.transformModel,je=oe.editConfigModel,ye=we.moveCanvasPointByHtml([H,K],P,N),_e=VN(ye,2),Ne=_e[0],ke=_e[1];o.setState({endX:Ne,endY:ke,dragging:!0});var Re=o.props.edgeModel,qe=Ia({x:H,y:K},oe);if(qe&&qe.node&&o.isAllowAdjust(qe).pass){var st,_t=Re.startPoint,Ft=Re.endPoint,Kt=Re.sourceNode,ir=Re.targetNode;ue===en.SOURCE?st={startPoint:{x:qe.anchor.x,y:qe.anchor.y},endPoint:{x:Ft.x,y:Ft.y},sourceNode:qe.node,targetNode:ir}:ue===en.TARGET&&(st={startPoint:{x:_t.x,y:_t.y},endPoint:{x:qe.anchor.x,y:qe.anchor.y},sourceNode:Kt,targetNode:qe.node}),Re.updateAfterAdjustStartAndEnd(st)}else ue===en.SOURCE?Re.updateStartPoint({x:Ne,y:ke}):ue===en.TARGET&&Re.updateEndPoint({x:Ne,y:ke});Re.text.value&&je.adjustEdge&&Re.setText(Object.assign({},Re.text,Re.textPosition))}),Tr(Pr(o),"onDragEnd",function(O){var P=O.event;try{var N;o.setState({dragging:!1});var B=o.props,H=B.graphModel,K=B.edgeModel,ie=B.type,oe=o.state,ue=oe.endX,we=oe.endY,je=oe.dragging,ye=Ia({x:ue,y:we},H);if(!je)return;var _e=!1,Ne;if(ye&&ye.node){var ke=o.isAllowAdjust(ye),Re=ke.pass,qe=ke.msg,st=ke.newTargetNode;if(Re){var _t,Ft=K.getData();if(Ne=gn(gn({},Ft),{},{sourceAnchorId:"",targetAnchorId:"",text:(Ft==null||(_t=Ft.text)===null||_t===void 0?void 0:_t.value)||""}),ie===en.SOURCE){var Kt=H.edgeGenerator(H.getNodeModelById(ye.node.id).getData(),H.getNodeModelById(K.targetNodeId).getData(),Ne);Ne=gn(gn({},Kt),{},{sourceNodeId:ye.node.id,sourceAnchorId:ye.anchor.id,startPoint:{x:ye.anchor.x,y:ye.anchor.y},targetNodeId:K.targetNodeId,endPoint:gn({},K.endPoint)}),K.sourceNodeId===ye.node.id&&K.sourceAnchorId===ye.anchor.id&&(_e=!0)}else if(ie===en.TARGET){var ir=H.edgeGenerator(H.getNodeModelById(K.sourceNodeId).getData(),H.getNodeModelById(ye.node.id).getData(),Ne);Ne=gn(gn({},ir),{},{sourceNodeId:K.sourceNodeId,startPoint:gn({},K.startPoint),targetNodeId:ye.node.id,targetAnchorId:ye.anchor.id,endPoint:{x:ye.anchor.x,y:ye.anchor.y}}),K.targetNodeId===ye.node.id&&K.targetAnchorId===ye.anchor.id&&(_e=!0)}}else{_e=!0;var On=st.getData();H.eventCenter.emit(rt.CONNECTION_NOT_ALLOWED,{data:On,msg:qe})}}else _e=!0;if(_e)o.recoveryEdge();else{H.deleteEdgeById(K.id);var Yn=H.addEdge(gn({},Ne));H.eventCenter.emit(rt.EDGE_EXCHANGE_NODE,{data:{newEdge:Yn.getData(),oldEdge:K.getData()}})}(N=o.preTargetNode)===null||N===void 0||N.setElementState(bt.DEFAULT)}finally{var nn=o.props.graphModel;nn.eventCenter.emit(rt.ADJUST_POINT_DRAGEND,{e:P,data:o.stepDragData})}}),Tr(Pr(o),"recoveryEdge",function(){var O=o.props.edgeModel,P=o.oldEdge,N=P.startPoint,B=P.endPoint,H=P.pointsList;O.updateStartPoint(N),O.updateEndPoint(B),O.modelType!==ht.LINE_EDGE&&(O.pointsList=H,O.initPoints())}),Tr(Pr(o),"getAdjustPointStyle",function(){var O=o.props,P=O.graphModel.theme;O.edgeModel;var N=P.edgeAdjust;return N}),o.state={dragging:!1,endX:0,endY:0},o.targetRuleResults=new Map,o.sourceRuleResults=new Map;var a=n.type,f=n.edgeModel,p=n.graphModel,g=p.eventCenter;return o.stepDragData={type:a,edgeData:f.getData()},o.stepDrag=new cn({onDragStart:o.onDragStart,onDragging:o.onDragging,onDragEnd:o.onDragEnd,eventType:"ADJUST_POINT",isStopPropagation:!1,eventCenter:g,data:o.stepDragData}),o}return tD(t,[{key:"isAllowAdjust",value:function(o){var a=this.props,f=a.edgeModel,p=f.id,g=f.sourceNode,O=f.targetNode,P=f.sourceAnchorId,N=f.targetAnchorId,B=a.type,H=null,K=null,ie=null,oe=null;if(B===en.SOURCE?(H=o.node,K=O,ie=o.anchor,oe=O.getAnchorInfo(N)):(H=g,K=o.node,oe=o.anchor,ie=g.getAnchorInfo(P)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(bt.DEFAULT),this.preTargetNode=o.node,oe.id===ie.id)return{pass:!1,msg:"",newTargetNode:K};var ue="".concat(H.id,"_").concat(K.id,"_").concat(ie.id,"_").concat(oe.id);if(!this.targetRuleResults.has(ue)){var we=H.isAllowConnectedAsSource(K,ie,oe,p),je=K.isAllowConnectedAsTarget(H,ie,oe,p);this.sourceRuleResults.set(ue,Ba(we)),this.targetRuleResults.set(ue,Ba(je))}var ye=this.sourceRuleResults.get(ue),_e=ye.isAllPass,Ne=ye.msg,ke=this.targetRuleResults.get(ue),Re=ke.isAllPass,qe=ke.msg,st=_e&&Re?bt.ALLOW_CONNECT:bt.NOT_ALLOW_CONNECT;return B===en.SOURCE?H.setElementState(st):K.setElementState(st),{pass:_e&&Re,msg:qe||Ne,newTargetNode:K}}},{key:"render",value:function(){var o=this.props,a=o.x,f=o.y,p=o.getAdjustPointShape,g=o.edgeModel,O=this.state.dragging;return Object(ae.g)("g",{pointerEvents:O?"none":"",onMouseDown:this.handleMouseDown},O?"":p(a,f,g))}}]),t}(ae.a);function Es(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Es=function(t){return typeof t}:Es=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Es(e)}function Mi(){return Mi=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Mi.apply(this,arguments)}function aD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ig(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uD(e,r,t){return r&&Ig(e.prototype,r),t&&Ig(e,t),e}function sD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Ic(e,r)}function Ic(e,r){return Ic=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Ic(e,r)}function lD(e){var r=cD();return function(){var n=Ss(e),o;if(r){var a=Ss(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return fD(this,o)}}function fD(e,r){if(r&&(Es(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gr(e)}function Gr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ss(e){return Ss=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ss(e)}function tn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var wi=function(e){sD(t,e);var r=lD(t);function t(){var n;aD(this,t);for(var o=arguments.length,a=new Array(o),f=0;f<o;f++)a[f]=arguments[f];return n=r.call.apply(r,[this].concat(a)),tn(Gr(n),"startTime",void 0),tn(Gr(n),"contextMenuTime",void 0),tn(Gr(n),"clickTimer",void 0),tn(Gr(n),"textRef",Object(ae.f)()),tn(Gr(n),"handleHover",function(p,g){var O=n.props,P=O.model,N=O.graphModel.eventCenter;P.setHovered(p);var B=p?rt.EDGE_MOUSEENTER:rt.EDGE_MOUSELEAVE,H=P.getData();N.emit(B,{data:H,e:g})}),tn(Gr(n),"setHoverON",function(p){var g=n.props.model.isHovered;g||(n.textRef&&n.textRef.current.setHoverON(),n.handleHover(!0,p))}),tn(Gr(n),"setHoverOFF",function(p){var g=n.props.model.isHovered;g&&(n.textRef&&n.textRef.current.setHoverOFF(),n.handleHover(!1,p))}),tn(Gr(n),"handleContextMenu",function(p){p.preventDefault(),n.contextMenuTime=new Date().getTime(),n.clickTimer&&clearTimeout(n.clickTimer);var g=n.props,O=g.model,P=g.graphModel,N=P.getPointByClient({x:p.clientX,y:p.clientY});P.setElementStateById(O.id,bt.SHOW_MENU,N.domOverlayPosition),n.toFront(),O.isSelected||P.selectEdgeById(O.id);var B=O==null?void 0:O.getData();P.eventCenter.emit(rt.EDGE_CONTEXTMENU,{data:B,e:p,position:N})}),tn(Gr(n),"handleMouseDown",function(p){p.stopPropagation(),n.startTime=new Date().getTime()}),tn(Gr(n),"handleMouseUp",function(p){if(n.startTime){var g=new Date().getTime()-n.startTime;if(!(g>200)){var O=p.button===2;if(!O){var P=p.detail===2,N=n.props,B=N.model,H=N.graphModel,K=B==null?void 0:B.getData(),ie=H.getPointByClient({x:p.clientX,y:p.clientY});if(P){var oe=H.editConfigModel,ue=H.textEditElement;if(ue&&ue.id===B.id&&H.setElementStateById(B.id,bt.DEFAULT),oe.edgeTextEdit&&B.text.editable&&H.setElementStateById(B.id,bt.TEXT_EDIT),B.modelType===ht.POLYLINE_EDGE){var we=B,je=H.getPointByClient({x:p.x,y:p.y}),ye=je.canvasOverlayPosition,_e=ye.x,Ne=ye.y,ke=Lh({x:_e,y:Ne},we.points);we.dbClickPosition=ke}H.eventCenter.emit(rt.EDGE_DBCLICK,{data:K,e:p,position:ie})}else H.eventCenter.emit(rt.ELEMENT_CLICK,{data:K,e:p,position:ie}),H.eventCenter.emit(rt.EDGE_CLICK,{data:K,e:p,position:ie});var Re=H.editConfigModel;H.selectEdgeById(B.id,Lp(p,Re)),n.toFront()}}}}),n}return uD(t,[{key:"getShape",value:function(){return Object(ae.g)("g",null,this.getEdge())}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,a=o.model,f=o.graphModel;if(a.state===bt.TEXT_EDIT)return null;var p=!1,g=f.editConfigModel;return(a.text.draggable||g.edgeTextDraggable)&&(p=!0),Object(ae.g)(KN,{ref:this.textRef,editable:g.edgeTextEdit&&a.text.editable,model:a,graphModel:f,draggable:p})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.startPoint,f=o.endPoint,p=o.isSelected,g=this.state,O=g.hover;return{start:a,end:f,hover:O,isSelected:p}}},{key:"getArrowStyle",value:function(){return console.error("getArrowStyle is deprecated in 1.2.0, please use model.getArrowStyle"),null}},{key:"getArrow",value:function(){var o=this.props.model,a=o.id,f=o.getArrowStyle(),p=f.refY,g=p===void 0?0:p,O=f.refX,P=O===void 0?2:O;return Object(ae.g)("g",null,Object(ae.g)("defs",null,Object(ae.g)("marker",{id:"marker-start-".concat(a),refX:-P,refY:g,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getStartArrow()),Object(ae.g)("marker",{id:"marker-end-".concat(a),refX:P,refY:g,overflow:"visible",orient:"auto",markerUnits:"userSpaceOnUse"},this.getEndArrow())))}},{key:"getStartArrow",value:function(){var o=this.props.model,a=o.getArrowStyle(),f=a.stroke,p=a.strokeWidth,g=a.offset,O=a.verticalLength;return Object(ae.g)("path",{stroke:f,fill:f,strokeWidth:p,d:"M 0 0 L ".concat(g," -").concat(O," L ").concat(g," ").concat(O," Z")})}},{key:"getEndArrow",value:function(){var o=this.props.model,a=o.getArrowStyle(),f=a.stroke,p=a.strokeWidth,g=a.offset,O=a.verticalLength;return Object(ae.g)("path",{stroke:f,fill:f,strokeWidth:p,transform:"rotate(180)",d:"M 0 0 L ".concat(g," -").concat(O," L ").concat(g," ").concat(O," Z")})}},{key:"getAdjustPointShape",value:function(o,a,f){var p=f.getAdjustPointStyle();return Object(ae.g)(Oi,Mi({className:"lf-edge-adjust-point"},p,{x:o,y:a}))}},{key:"getAdjustPoints",value:function(){var o=this.props,a=o.model,f=o.graphModel,p=a.getAdjustStart(),g=a.getAdjustEnd();return Object(ae.g)("g",null,Object(ae.g)(Rg,Mi({type:"SOURCE"},p,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:a,graphModel:f})),Object(ae.g)(Rg,Mi({type:"TARGET"},g,{getAdjustPointShape:this.getAdjustPointShape,edgeModel:a,graphModel:f})))}},{key:"getAnimation",value:function(){console.error("getAnimation is deprecated in 1.2.0, please use model.getEdgeAnimationStyle")}},{key:"getAppendWidth",value:function(){return Object(ae.g)("g",null)}},{key:"getAppend",value:function(){return Object(ae.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"getEdge",value:function(){return null}},{key:"toFront",value:function(){var o=this.props,a=o.graphModel,f=o.model,p=a.overlapMode;p!==Sr.INCREASE&&a.toFront(f.id)}},{key:"render",value:function(){var o=this.props,a=o.model,f=a.isSelected,p=a.isHitable,g=a.isShowAdjustPoint,O=o.graphModel;return O.animation,Object(ae.g)("g",null,Object(ae.g)("g",{className:["lf-edge",!p&&"pointer-none",f&&"lf-edge-selected"].filter(Boolean).join(" "),onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),this.getText(),this.getArrow()),g&&f?this.getAdjustPoints():"")}}]),t}(ae.a);function xs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xs=function(t){return typeof t}:xs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xs(e)}function dD(e,r){return yD(e)||vD(e,r)||hD(e,r)||pD()}function pD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hD(e,r){if(e){if(typeof e=="string")return _g(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _g(e,r)}}function _g(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function vD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function yD(e){if(Array.isArray(e))return e}function gD(e){var r={d:""};return Object.entries(e).forEach(function(t){var n=dD(t,2),o=n[0],a=n[1],f=xs(a);(o==="style"||f!=="object")&&(r[o]=a)}),Object(ae.g)("path",r)}var Ai=gD;function Ps(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ps=function(t){return typeof t}:Ps=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ps(e)}function _c(){return _c=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},_c.apply(this,arguments)}function mD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Bg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function bD(e,r,t){return r&&Bg(e.prototype,r),t&&Bg(e,t),e}function OD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Bc(e,r)}function Bc(e,r){return Bc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Bc(e,r)}function ED(e){var r=PD();return function(){var n=Ts(e),o;if(r){var a=Ts(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return SD(this,o)}}function SD(e,r){if(r&&(Ps(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xD(e)}function xD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PD(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ts(e){return Ts=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ts(e)}var Lc=function(e){OD(t,e);var r=ED(t);function t(){return mD(this,t),r.apply(this,arguments)}return bD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.startPoint,f=o.endPoint,p=o.isAnimation,g=o.arrowConfig,O=o.getEdgeStyle(),P=o.getEdgeAnimationStyle(),N=P.strokeDasharray,B=P.stroke,H=P.strokeDashoffset,K=P.animationName,ie=P.animationDuration,oe=P.animationIterationCount,ue=P.animationTimingFunction,we=P.animationDirection;return Object(ae.g)(Co,_c({},O,{x1:a.x,y1:a.y,x2:f.x,y2:f.y},g,p?{strokeDasharray:N,stroke:B,style:{strokeDashoffset:H,animationName:K,animationDuration:ie,animationIterationCount:oe,animationTimingFunction:ue,animationDirection:we}}:{}))}},{key:"getAppendWidth",value:function(){var o=this.props.model,a=o.startPoint,f=o.endPoint,p={start:a,end:f},g=vT(p),O=g.d,P=g.strokeWidth,N=g.fill,B=g.strokeDasharray,H=g.stroke;return Object(ae.g)(Ai,{d:O,fill:N,strokeWidth:P,stroke:H,strokeDasharray:B})}}]),t}(wi);function Ms(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ms=function(t){return typeof t}:Ms=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ms(e)}function TD(e,r){return ND(e)||AD(e,r)||wD(e,r)||MD()}function MD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wD(e,r){if(e){if(typeof e=="string")return Lg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Lg(e,r)}}function Lg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function AD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function ND(e){if(Array.isArray(e))return e}function DD(e){var r={points:"",fill:"none"};return Object.entries(e).forEach(function(t){var n=TD(t,2),o=n[0],a=n[1];if(o==="style")r[o]=a;else{var f=Ms(a);f!=="object"&&(r[o]=a)}}),Object(ae.g)("polyline",r)}var jD=DD;function ws(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ws=function(t){return typeof t}:ws=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ws(e)}function zg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function As(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?zg(Object(t),!0).forEach(function(n){bn(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):zg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function zc(){return zc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},zc.apply(this,arguments)}function CD(e,r){return BD(e)||_D(e,r)||ID(e,r)||RD()}function RD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ID(e,r){if(e){if(typeof e=="string")return Fg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Fg(e,r)}}function Fg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function _D(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function BD(e){if(Array.isArray(e))return e}function LD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Hg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zD(e,r,t){return r&&Hg(e.prototype,r),t&&Hg(e,t),e}function FD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Fc(e,r)}function Fc(e,r){return Fc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Fc(e,r)}function HD(e){var r=$D();return function(){var n=Ns(e),o;if(r){var a=Ns(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return GD(this,o)}}function GD(e,r){if(r&&(ws(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mn(e)}function mn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $D(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ns(e){return Ns=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ns(e)}function bn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Hc=function(e){FD(t,e);var r=HD(t);function t(){var n;return LD(this,t),n=r.call(this),bn(mn(n),"drag",void 0),bn(mn(n),"isDragging",void 0),bn(mn(n),"isShowAdjustPointTemp",void 0),bn(mn(n),"appendInfo",void 0),bn(mn(n),"onDragStart",function(){var o=n.props.model;o.dragAppendStart(),n.isShowAdjustPointTemp=o.isShowAdjustPoint,o.isShowAdjustPoint=!1}),bn(mn(n),"onDragging",function(o){var a=o.deltaX,f=o.deltaY,p=n.props,g=p.model,O=p.graphModel;n.isDragging=!0;var P=O.transformModel,N=O.editConfigModel,B=P.fixDeltaXY(a,f),H=CD(B,2),K=H[0],ie=H[1],oe=g,ue=N.adjustEdgeMiddle;ue?n.appendInfo=oe.dragAppendSimple(n.appendInfo,{x:K,y:ie}):n.appendInfo=oe.dragAppend(n.appendInfo,{x:K,y:ie})}),bn(mn(n),"onDragEnd",function(){var o=n.props,a=o.model,f=o.graphModel.eventCenter,p=a;p.dragAppendEnd(),n.isDragging=!1,p.isShowAdjustPoint=n.isShowAdjustPointTemp,n.appendInfo=void 0,f.emit(rt.EDGE_ADJUST,{data:p.getData()})}),bn(mn(n),"beforeDragStart",function(o,a){a.dragAble&&n.drag.handleMouseDown(o),n.appendInfo=a}),n.drag=new cn({onDragStart:n.onDragStart,onDragging:n.onDragging,onDragEnd:n.onDragEnd,isStopPropagation:!1}),n}return zD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.points,f=o.isAnimation,p=o.arrowConfig,g=o.getEdgeStyle(),O=o.getEdgeAnimationStyle(),P=O.strokeDasharray,N=O.stroke,B=O.strokeDashoffset,H=O.animationName,K=O.animationDuration,ie=O.animationIterationCount,oe=O.animationTimingFunction,ue=O.animationDirection;return Object(ae.g)(jD,zc({points:a},g,p,f?{strokeDasharray:P,stroke:N,style:{strokeDashoffset:B,animationName:H,animationDuration:K,animationIterationCount:ie,animationTimingFunction:oe,animationDirection:ue}}:{}))}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=o.points,f=o.isSelected,p=this.state,g=p.hover,O={start:null,end:null,hover:g,isSelected:f},P=No(a);return P.length>=2&&(O.start=P[P.length-2],O.end=P[P.length-1]),O}},{key:"getAppendAttributes",value:function(o){var a=o.start,f=o.end,p;if(a.x===f.x&&a.y===f.y)p="";else{var g={start:a,end:f,offset:10,verticalLength:5},O=vi(As(As({},g),{},{type:"start"})),P=vi(As(As({},g),{},{type:"end"}));p="M".concat(O.leftX," ").concat(O.leftY,` 
      L`).concat(O.rightX," ").concat(O.rightY,` 
      L`).concat(P.rightX," ").concat(P.rightY,`
      L`).concat(P.leftX," ").concat(P.leftY," z")}return{d:p,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var a=this.getAppendAttributes(o),f=a.d,p=a.strokeWidth,g=a.fill,O=a.strokeDasharray,P=a.stroke;return Object(ae.g)(Ai,{d:f,fill:g,strokeWidth:p,stroke:P,strokeDasharray:O})}},{key:"getAppendWidth",value:function(){for(var o=this,a=this.props,f=a.model,p=a.graphModel,g=f.pointsList,O=f.draggable,P=[],N=g.length,B=function(ie){var oe="lf-polyline-append",ue={start:{x:g[ie].x,y:g[ie].y},end:{x:g[ie+1].x,y:g[ie+1].y},startIndex:ie,endIndex:ie+1,direction:"",dragAble:!0},we=Object(ae.g)("g",{className:oe},o.getAppendShape(ue)),je=p.editConfigModel,ye=je.adjustEdge,_e=je.adjustEdgeMiddle;if(ye&&O){var Ne=ue.startIndex,ke=ue.endIndex,Re=_e&&(Ne===0||ke===N-1);ue.dragAble=!Re,ue.start.x===ue.end.x?(ue.dragAble&&(oe+="-ew-resize"),ue.direction=Dt.VERTICAL):ue.start.y===ue.end.y&&(ue.dragAble&&(oe+="-ns-resize"),ue.direction=Dt.HORIZONTAL),we=Object(ae.g)("g",{className:o.isDragging?"lf-dragging":"lf-drag-able",onMouseDown:function(st){return o.beforeDragStart(st,ue)}},Object(ae.g)("g",{className:oe},o.getAppendShape(ue)))}P.push(we)},H=0;H<N-1;H++)B(H);return Object(ae.g)("g",null,P)}}]),t}(wi);function Ds(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ds=function(t){return typeof t}:Ds=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ds(e)}function kD(e,r){return WD(e)||YD(e,r)||XD(e,r)||UD()}function UD(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XD(e,r){if(e){if(typeof e=="string")return Gg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Gg(e,r)}}function Gg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function YD(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function WD(e){if(Array.isArray(e))return e}function Gc(){return Gc=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},Gc.apply(this,arguments)}function KD(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function $g(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function VD(e,r,t){return r&&$g(e.prototype,r),t&&$g(e,t),e}function ZD(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&$c(e,r)}function $c(e,r){return $c=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},$c(e,r)}function JD(e){var r=ej();return function(){var n=js(e),o;if(r){var a=js(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return QD(this,o)}}function QD(e,r){if(r&&(Ds(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qD(e)}function qD(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ej(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function js(e){return js=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},js(e)}var kc=function(e){ZD(t,e);var r=JD(t);function t(){return KD(this,t),r.apply(this,arguments)}return VD(t,[{key:"getEdge",value:function(){var o=this.props.model,a=o.getEdgeStyle(),f=o.path,p=o.isAnimation,g=o.arrowConfig,O=o.getEdgeAnimationStyle(),P=O.strokeDasharray,N=O.stroke,B=O.strokeDashoffset,H=O.animationName,K=O.animationDuration,ie=O.animationIterationCount,oe=O.animationTimingFunction,ue=O.animationDirection;return Object(ae.g)(Ai,Gc({d:f},a,g,p?{strokeDasharray:P,stroke:N,style:{strokeDashoffset:B,animationName:H,animationDuration:K,animationIterationCount:ie,animationTimingFunction:oe,animationDirection:ue}}:{}))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(ae.g)(Ai,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,a=this.state,f=a.hover,p=o,g=p.path,O=p.isSelected,P=yT(g),N=kD(P,2),B=N[0],H=N[1],K={start:B,end:H,hover:f,isSelected:O};return K}}]),t}(wi);function Cs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Cs=function(t){return typeof t}:Cs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cs(e)}function kg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function tj(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?kg(Object(t),!0).forEach(function(n){rj(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):kg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function rj(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function nj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ug(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function oj(e,r,t){return r&&Ug(e.prototype,r),t&&Ug(e,t),e}function ij(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Uc(e,r)}function Uc(e,r){return Uc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Uc(e,r)}function aj(e){var r=lj();return function(){var n=Rs(e),o;if(r){var a=Rs(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return uj(this,o)}}function uj(e,r){if(r&&(Cs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sj(e)}function sj(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rs(e){return Rs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Rs(e)}var fj=function(e){ij(t,e);var r=aj(t);function t(){return nj(this,t),r.apply(this,arguments)}return oj(t,[{key:"getArrowAttributes",value:function(){var o=this.props,a=o.arrowInfo,f=o.style,p=a.start,g=a.end,O={start:p,end:g,offset:f.offset,verticalLength:f.verticalLength,type:"end"},P=vi(O),N=P.leftX,B=P.leftY,H=P.rightX,K=P.rightY;return tj({d:"M".concat(N," ").concat(B," L").concat(g.x," ").concat(g.y," L").concat(H," ").concat(K," z")},f)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),a=o.d,f=o.strokeWidth,p=o.stroke,g=o.fill;return Object(ae.g)(Ai,{d:a,fill:g,strokeWidth:f,stroke:p})}},{key:"render",value:function(){return Object(ae.g)("g",{className:"lf-arrow"},this.getShape())}}]),t}(ae.a);function cj(e,r){return Yl(e,r)}var Xg=cj;function dj(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}var pj=dj,hj=function(){return wr.a.Date.now()},Xc=hj,vj=/\s/;function yj(e){for(var r=e.length;r--&&vj.test(e.charAt(r)););return r}var gj=yj,mj=/^\s+/;function bj(e){return e&&e.slice(0,gj(e)+1).replace(mj,"")}var Oj=bj,Yg=0/0,Ej=/^[-+]0x[0-9a-f]+$/i,Sj=/^0b[01]+$/i,xj=/^0o[0-7]+$/i,Pj=parseInt;function Tj(e){if(typeof e=="number")return e;if(Ta(e))return Yg;if(Tt(e)){var r=typeof e.valueOf=="function"?e.valueOf():e;e=Tt(r)?r+"":r}if(typeof e!="string")return e===0?e:+e;e=Oj(e);var t=Sj.test(e);return t||xj.test(e)?Pj(e.slice(2),t?2:8):Ej.test(e)?Yg:+e}var Wg=Tj,Mj="Expected a function",wj=Math.max,Aj=Math.min;function Nj(e,r,t){var n,o,a,f,p,g,O=0,P=!1,N=!1,B=!0;if(typeof e!="function")throw new TypeError(Mj);r=Wg(r)||0,Tt(t)&&(P=!!t.leading,N="maxWait"in t,a=N?wj(Wg(t.maxWait)||0,r):a,B="trailing"in t?!!t.trailing:B);function H(Ne){var ke=n,Re=o;return n=o=void 0,O=Ne,f=e.apply(Re,ke),f}function K(Ne){return O=Ne,p=setTimeout(ue,r),P?H(Ne):f}function ie(Ne){var ke=Ne-g,Re=Ne-O,qe=r-ke;return N?Aj(qe,a-Re):qe}function oe(Ne){var ke=Ne-g,Re=Ne-O;return g===void 0||ke>=r||ke<0||N&&Re>=a}function ue(){var Ne=Xc();if(oe(Ne))return we(Ne);p=setTimeout(ue,ie(Ne))}function we(Ne){return p=void 0,B&&n?H(Ne):(n=o=void 0,f)}function je(){p!==void 0&&clearTimeout(p),O=0,n=g=o=p=void 0}function ye(){return p===void 0?f:we(Xc())}function _e(){var Ne=Xc(),ke=oe(Ne);if(n=arguments,o=this,g=Ne,ke){if(p===void 0)return K(g);if(N)return clearTimeout(p),p=setTimeout(ue,r),H(g)}return p===void 0&&(p=setTimeout(ue,r)),f}return _e.cancel=je,_e.flush=ye,_e}var Dj=Nj,jj=i(166);function Cj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Kg(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Rj(e,r,t){return r&&Kg(e.prototype,r),t&&Kg(e,t),e}function Xn(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Ij=function(){function e(r){Cj(this,e),Xn(this,"undos",[]),Xn(this,"redos",[]),Xn(this,"callbacks",[]),Xn(this,"stopWatch",null),Xn(this,"curData",null),Xn(this,"maxSize",50),Xn(this,"waitTime",100),Xn(this,"eventCenter",void 0),this.eventCenter=r}return Rj(e,[{key:"add",value:function(t){Xg(pj(this.undos),t)||(this.undos.push(t),Xg(this.curData,t)||(this.redos=[]),this.eventCenter.emit(rt.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var t=this.undos.pop();this.redos.push(t);var n=this.undos.pop();return this.curData=It(n),n}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var t=this.redos.pop();return this.curData=It(t),t}}},{key:"watch",value:function(t){var n=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(jj.a)(t,Dj(function(){var o=t.modelToHistoryData();o&&n.add(o)},this.waitTime))}}]),e}(),_j=Ij;function Is(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Is=function(t){return typeof t}:Is=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Is(e)}var Vg,Zg,Jg;function Bj(e,r){return Hj(e)||Fj(e,r)||zj(e,r)||Lj()}function Lj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zj(e,r){if(e){if(typeof e=="string")return Qg(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Qg(e,r)}}function Qg(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Fj(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function Hj(e){if(Array.isArray(e))return e}function qg(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function Uo(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?qg(Object(t),!0).forEach(function(n){so(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):qg(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Gj(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function em(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function $j(e,r,t){return r&&em(e.prototype,r),t&&em(e,t),e}function kj(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Yc(e,r)}function Yc(e,r){return Yc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Yc(e,r)}function Uj(e){var r=Yj();return function(){var n=_s(e),o;if(r){var a=_s(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return Xj(this,o)}}function Xj(e,r){if(r&&(Is(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xo(e)}function Xo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _s(e){return _s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_s(e)}function so(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Wc=$r(Vg=(Jg=Zg=function(e){kj(t,e);var r=Uj(t);function t(){var n;return Gj(this,t),n=r.call(this),so(Xo(n),"ref",Object(ae.f)()),so(Xo(n),"__prevText",{type:"",text:"",id:""}),so(Xo(n),"keyupHandler",function(o){var a=n.props.graphModel.textEditElement;o.key==="Enter"&&o.altKey&&a.setElementState(0)}),so(Xo(n),"inputHandler",function(o){var a=o.target,f=a.innerText,p=n.props.graphModel.textEditElement;n.__prevText={type:p.type,text:f.replace(/(\r\n)+$|(\n)+$/,""),id:p.id}}),so(Xo(n),"keydownHandler",function(o){o.stopPropagation()}),n.state={style:{left:0,top:0}},n}return $j(t,[{key:"componentDidUpdate",value:function(){var o=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var a=this.__prevText,f=a.text,p=a.id;o.updateText(p,f),o.eventCenter.emit(rt.TEXT_UPDATE,Uo({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(o){if(window.getSelection!==void 0&&document.createRange!==void 0){var a=document.createRange();a.selectNodeContents(o),a.collapse(!1);var f=window.getSelection();f.removeAllRanges(),f.addRange(a)}}},{key:"render",value:function(){var o,a=this.props.graphModel.textEditElement,f=this.state.style;return a?Object(ae.g)("div",{contentEditable:!0,className:"lf-text-input",style:f,ref:this.ref,key:a.id,onKeyUp:this.keyupHandler,onKeyDown:this.keydownHandler,onKeyPress:this.keydownHandler,onInput:this.inputHandler},(o=a.text)===null||o===void 0?void 0:o.value):null}}],[{key:"getDerivedStateFromProps",value:function(o){var a=o.graphModel,f=a.transformModel,p=a.theme,g=a.textEditElement,O;if(g){var P;if(!((P=g.text)!==null&&P!==void 0&&P.value))if(g.BaseType===Ht.EDGE){g=g;var N=g.text,B=g.textPosition,H=B.x,K=B.y;N.x=H,N.y=K,g.setText(N)}else g=g;var ie={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(g.BaseType===Ht.EDGE){var oe=p.edgeText,ue=oe.overflowMode,we=oe.lineHeight,je=oe.wrapPadding,ye=oe.textWidth;ye&&ue==="autoWrap"&&(O=Uo(Uo({},ie),{},{width:ye,minWidth:ye,lineHeight:we,padding:je}))}else if(g.BaseType===Ht.NODE){var _e=p.nodeText,Ne=_e.overflowMode,ke=_e.lineHeight,Re=_e.wrapPadding,qe=_e.textWidth,st=g,_t=st.width,Ft=st.modelType;(Ft!==ht.TEXT_NODE&&Ne==="autoWrap"||Ft===ht.TEXT_NODE&&qe)&&(O=Uo(Uo({},ie),{},{width:qe||_t,minWidth:qe||_t,lineHeight:ke,padding:Re}))}var Kt=g.text,ir=Kt.x,On=Kt.y,Yn=f.CanvasPointToHtmlPoint([ir,On]),nn=Bj(Yn,2),Yo=nn[0],qc=nn[1];return{style:Uo({left:Yo,top:qc},O)}}}}]),t}(ae.a),so(Zg,"toolName","textEdit"),Jg))||Vg,Wj=function(r){var t=r.x,n=r.y,o=r.width,a=r.height;return{x:t-o/2,y:n-a/2,x1:t+o/2,y1:n+a/2}},Kj=function(r){var t=r.startPoint,n=r.endPoint,o=(t.x+n.x)/2,a=(t.y+n.y)/2,f=Math.abs(t.x-n.x)+10,p=Math.abs(t.y-n.y)+10;return{x:o-f/2,y:a-p/2,x1:o+f/2,y1:a+p/2}},Vj=function(r){var t=r.points,n=No(t),o=yi(n,8),a=o.x,f=o.y,p=o.width,g=o.height;return{x:a-p/2,y:f-g/2,x1:a+p/2,y1:f+g/2}},Zj=function(r){var t=r.path,n=Wa(t),o=yi(n,8),a=o.x,f=o.y,p=o.width,g=o.height;return{x:a-p/2,y:f-g/2,x1:a+p/2,y1:f+g/2}},Jj=function(r){if(r.modelType===ht.LINE_EDGE)return Kj(r);if(r.modelType===ht.POLYLINE_EDGE)return Vj(r);if(r.modelType===ht.BEZIER_EDGE)return Zj(r)};function Bs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Bs=function(t){return typeof t}:Bs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bs(e)}var tm,rm,nm;function om(e,r){return eC(e)||qj(e,r)||im(e,r)||Qj()}function Qj(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qj(e,r){var t=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],o=!0,a=!1,f,p;try{for(t=t.call(e);!(o=(f=t.next()).done)&&(n.push(f.value),!(r&&n.length===r));o=!0);}catch(g){a=!0,p=g}finally{try{!o&&t.return!=null&&t.return()}finally{if(a)throw p}}return n}}function eC(e){if(Array.isArray(e))return e}function tC(e){return oC(e)||nC(e)||im(e)||rC()}function rC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function im(e,r){if(e){if(typeof e=="string")return Kc(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Kc(e,r)}}function nC(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oC(e){if(Array.isArray(e))return Kc(e)}function Kc(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function iC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function am(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aC(e,r,t){return r&&am(e.prototype,r),t&&am(e,t),e}function uC(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),r&&Vc(e,r)}function Vc(e,r){return Vc=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Vc(e,r)}function sC(e){var r=fC();return function(){var n=Ls(e),o;if(r){var a=Ls(this).constructor;o=Reflect.construct(n,arguments,a)}else o=n.apply(this,arguments);return lC(this,o)}}function lC(e,r){if(r&&(Bs(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ni(e)}function Ni(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fC(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ls(e){return Ls=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},Ls(e)}function Di(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Zc=$r(tm=(nm=rm=function(e){uC(t,e);var r=sC(t);function t(n){var o;iC(this,t),o=r.call(this),Di(Ni(o),"stepDrag",void 0),Di(Ni(o),"handleMouseDown",function(g){o.stepDrag.handleMouseDown(g)}),Di(Ni(o),"onDragging",function(g){var O=g.deltaX,P=g.deltaY,N=o.props.graphModel,B=N.getSelectElements(!0);N.moveNodes(B.nodes.map(function(H){return H.id}),O,P)}),Di(Ni(o),"handleContextMenu",function(g){g.preventDefault();var O=o.props,P=O.graphModel,N=O.graphModel,B=N.eventCenter,H=N.selectElements,K=P.getPointByClient({x:g.clientX,y:g.clientY}),ie={nodes:[],edges:[]},oe=tC(H.values());oe.forEach(function(ue){ue.BaseType===Ht.NODE&&ie.nodes.push(ue.getData()),ue.BaseType===Ht.EDGE&&ie.edges.push(ue.getData())}),B.emit(rt.SELECTION_CONTEXTMENU,{data:ie,e:g,position:K})});var a=n.graphModel,f=a.gridSize,p=a.eventCenter;return o.stepDrag=new cn({onDragging:o.onDragging,step:f,eventType:"SELECTION",eventCenter:p}),o}return aC(t,[{key:"render",value:function(){var o=this.props.graphModel,a=o.selectElements,f=o.transformModel;if(!(a.size<=1)){var p=Number.MAX_SAFE_INTEGER,g=Number.MAX_SAFE_INTEGER,O=Number.MIN_SAFE_INTEGER,P=Number.MIN_SAFE_INTEGER;a.forEach(function(oe){var ue={x:0,y:0,x1:0,y1:0};oe.BaseType===Ht.NODE&&(ue=Wj(oe)),oe.BaseType===Ht.EDGE&&(ue=Jj(oe)),p=Math.min(p,ue.x),g=Math.min(g,ue.y),O=Math.max(O,ue.x1),P=Math.max(P,ue.y1)});var N=f.CanvasPointToHtmlPoint([p,g]),B=om(N,2);p=B[0],g=B[1];var H=f.CanvasPointToHtmlPoint([O,P]),K=om(H,2);O=K[0],P=K[1];var ie={left:"".concat(p-10,"px"),top:"".concat(g-10,"px"),width:"".concat(O-p+20,"px"),height:"".concat(P-g+20,"px")};return Object(ae.g)("div",{className:"lf-multiple-select",style:ie,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}]),t}(ae.a),Di(rm,"toolName","multipleSelect"),nm))||tm;function cC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function um(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dC(e,r,t){return r&&um(e.prototype,r),t&&um(e,t),e}function zs(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var pC=function(){function e(r){cC(this,e),zs(this,"tools",void 0),zs(this,"components",void 0),zs(this,"toolMap",new Map),zs(this,"instance",void 0),this.instance=r,this.isDisabledTool(Wc.toolName)||this.registerTool(Wc.toolName,Wc),this.isDisabledTool(Zc.toolName)||this.registerTool(Zc.toolName,Zc);var t=r.graphModel,n=t.eventCenter;n.on("".concat(rt.GRAPH_TRANSFORM,",").concat(rt.NODE_CLICK,",").concat(rt.BLANK_CLICK," "),function(){var o=t.textEditElement,a=t.editConfigModel,f=a.edgeTextEdit,p=a.nodeTextEdit;(f||p)&&o&&t.textEditElement.setElementState(bt.DEFAULT)})}return dC(e,[{key:"isDisabledTool",value:function(t){return this.instance.options.disabledTools.indexOf(t)!==-1}},{key:"registerTool",value:function(t,n){this.toolMap.set(t,n)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}]),e}(),hC=i(167),vC=i.n(hC);function yC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function sm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function gC(e,r,t){return r&&sm(e.prototype,r),t&&sm(e,t),e}function Jc(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var lm=function(){function e(r){yC(this,e),Jc(this,"mousetrap",void 0),Jc(this,"options",void 0),Jc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var t=r.lf;this.target=t.container,this.mousetrap=new vC.a,r.keyboard.enabled&&this.enable(!0)}return gC(e,[{key:"initShortcuts",value:function(){var t=this,n=this.options.keyboard.shortcuts;if(n)if(d(n))n.forEach(function(p){var g=p.keys,O=p.callback,P=p.action;return t.on(g,O,P)});else{var o=n.keys,a=n.callback,f=n.action;this.on(o,a,f)}}},{key:"on",value:function(t,n,o){this.mousetrap.bind(this.getKeys(t),n,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(t,n){this.mousetrap.unbind(this.getKeys(t),n)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var n=this;return(Array.isArray(t)?t:[t]).map(function(o){return n.formatKey(o)})}},{key:"formatKey",value:function(t){var n=t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command");return n}}]),e}(),mC=lm,rn=null;function fm(e,r){return e.x+=r,e.y+=r,e.text&&(e.text.x+=r,e.text.y+=r),e}function cm(e,r){return e.startPoint&&(e.startPoint.x+=r,e.startPoint.y+=r),e.endPoint&&(e.endPoint.x+=r,e.endPoint.y+=r),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(t){t.x+=r,t.y+=r}),e.text&&(e.text.x+=r,e.text.y+=r),e}var Fs=40;function bC(e,r){var t=e.keyboard,n=t.options.keyboard;t.on(["cmd + c","ctrl + c"],function(){if(!n.enabled||r.textEditElement)return!0;var o=e.options.guards,a=r.getSelectElements(!1),f=o&&o.beforeClone?o.beforeClone(a):!0;return!f||a.nodes.length===0&&a.edges.length===0?(rn=null,!0):(rn=a,rn.nodes.forEach(function(p){return fm(p,Fs)}),rn.edges.forEach(function(p){return cm(p,Fs)}),!1)}),t.on(["cmd + v","ctrl + v"],function(){if(!n.enabled||r.textEditElement)return!0;if(rn&&(rn.nodes||rn.edges)){e.clearSelectElements();var o=e.addElements(rn);if(!o)return!0;o.nodes.forEach(function(a){return e.selectElementById(a.id,!0)}),o.edges.forEach(function(a){return e.selectElementById(a.id,!0)}),rn.nodes.forEach(function(a){return fm(a,Fs)}),rn.edges.forEach(function(a){return cm(a,Fs)})}return!1}),t.on(["cmd + z","ctrl + z"],function(){return!n.enabled||r.textEditElement?!0:(e.undo(),!1)}),t.on(["cmd + y","ctrl + y"],function(){return!n.enabled||r.textEditElement?!0:(e.redo(),!1)}),t.on(["backspace"],function(){if(!n.enabled||r.textEditElement)return!0;var o=r.getSelectElements(!0);return e.clearSelectElements(),o.edges.forEach(function(a){return e.deleteEdge(a.id)}),o.nodes.forEach(function(a){return e.deleteNode(a.id)}),!1})}function OC(e,r){e.on("node:mousemove",function(t){var n=t.data;r.setNodeSnapLine(n)}),e.on("node:mouseup",function(){r.clearSnapline()})}function Hs(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Hs=function(t){return typeof t}:Hs=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hs(e)}function dm(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,n)}return t}function ji(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?dm(Object(t),!0).forEach(function(n){zt(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dm(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function EC(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function pm(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SC(e,r,t){return r&&pm(e.prototype,r),t&&pm(e,t),e}function zt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var Qc=function(){function e(r){var t=this;EC(this,e),zt(this,"container",void 0),zt(this,"width",void 0),zt(this,"height",void 0),zt(this,"graphModel",void 0),zt(this,"history",void 0),zt(this,"viewMap",new Map),zt(this,"tool",void 0),zt(this,"keyboard",void 0),zt(this,"dnd",void 0),zt(this,"options",void 0),zt(this,"snaplineModel",void 0),zt(this,"components",[]),zt(this,"plugins",void 0),zt(this,"extension",{}),zt(this,"adapterIn",void 0),zt(this,"adapterOut",void 0),zt(this,"getView",function(n){return t.viewMap.get(n)}),r=Lv(r),this.options=r,this.container=r.container,this.plugins=r.plugins,this.graphModel=new RT(ji({},r)),this.tool=new pC(this),this.history=new _j(this.graphModel.eventCenter),this.dnd=new mw({lf:this}),this.keyboard=new mC({lf:this,keyboard:r.keyboard}),r.snapline!==!1&&(this.snaplineModel=new ng(this.graphModel),OC(this.graphModel.eventCenter,this.snaplineModel)),bC(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(r.disabledPlugins)}return SC(e,[{key:"register",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(typeof t!="string"){this.registerElement(t);return}var a={BaseEdge:wi,BaseEdgeModel:pf,BaseNode:yn,BaseNodeModel:hn,RectNode:cc,RectNodeModel:qf,CircleNode:hc,CircleNodeModel:$f,PolygonNode:gc,PolygonNodeModel:Zf,TextNode:Tc,TextNodeModel:tc,LineEdge:Lc,LineEdgeModel:yf,DiamondNode:Oc,DiamondNodeModel:Xf,PolylineEdge:Hc,PolylineEdgeModel:bf,BezierEdge:kc,BezierEdgeModel:Ff,EllipseNode:xc,EllipseNodeModel:Wf,HtmlNode:Ac,HtmlNodeModel:nc,h:ae.g,type:t};this.viewMap.forEach(function(P){var N=P.extendKey;N&&(a[N]=P)}),this.graphModel.modelMap.forEach(function(P){var N=P.extendKey;N&&(a[N]=P)});var f=n(a),p=f.view,g=f.model,O=p;o&&!O.isObervered&&(O.isObervered=!0,O=Ot(O)),this.setView(t,O),this.graphModel.setModel(t,g)}},{key:"registerElement",value:function(t){var n=t.view;t.isObserverView!==!1&&!n.isObervered&&(n.isObervered=!0,n=Ot(n)),this.setView(t.type,n),this.graphModel.setModel(t.type,t.model)}},{key:"batchRegister",value:function(){var t=this,n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];n.forEach(function(o){t.registerElement(o)})}},{key:"defaultRegister",value:function(){this.registerElement({view:cc,model:qf,type:"rect"}),this.registerElement({type:"circle",view:hc,model:$f}),this.registerElement({type:"polygon",view:gc,model:Zf}),this.registerElement({type:"line",view:Lc,model:yf}),this.registerElement({type:"polyline",view:Hc,model:bf}),this.registerElement({type:"bezier",view:kc,model:Ff}),this.registerElement({type:"text",view:Tc,model:tc}),this.registerElement({type:"ellipse",view:xc,model:Wf}),this.registerElement({type:"diamond",view:Oc,model:Xf}),this.registerElement({type:"html",view:Ac,model:nc})}},{key:"selectElementById",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;this.graphModel.selectElementById(t,n),!n&&o&&this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var n=this.graphModel.transformModel,o=t.coordinate,a=t.id;if(!o){var f=this.getNodeModelById(a);f&&(o=f.getData());var p=this.getEdgeModelById(a);p&&(o=p.textPosition)}var g=o,O=g.x,P=g.y;n.focusOn(O,P,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,n){this.graphModel.resize(t,n),this.options.width=this.graphModel.width,this.options.height=this.graphModel.height}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,n){this.graphModel.updateText(t,n)}},{key:"deleteElement",value:function(t){var n,o,a,f=this.getModelById(t);if(!f)return!1;var p=(n={},zt(n,Ht.NODE,this.deleteNode),zt(n,Ht.EDGE,this.deleteEdge),n),g=f.BaseType;return(o=(a=p[g])===null||a===void 0?void 0:a.call(this,t))!==null&&o!==void 0?o:!1}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){var n;return(n=this.graphModel.getElement(t))===null||n===void 0?void 0:n.getData()}},{key:"changeNodeType",value:function(t,n){this.graphModel.changeNodeType(t,n)}},{key:"changeEdgeType",value:function(t,n){this.graphModel.changeEdgeType(t,n)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rt.NODE_ADD;return this.graphModel.addNode(t,n)}},{key:"deleteNode",value:function(t){var n=this.graphModel.getNodeModelById(t);if(!n)return!1;var o=n.getData(),a=this.options.guards,f=a&&a.beforeDelete?a.beforeDelete(o):!0;return f&&this.graphModel.deleteNode(t),f}},{key:"cloneNode",value:function(t){var n=this.graphModel.getNodeModelById(t),o=n.getData(),a=this.options.guards,f=a&&a.beforeClone?a.beforeClone(o):!0;if(f)return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,n){return this.graphModel.changeNodeId(t,n)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var n=this.options.guards,o=this.graphModel.edgesMap[t];if(!o)return!1;var a=o.model.getData(),f=n&&n.beforeDelete?n.beforeDelete(a):!0;return f&&this.graphModel.deleteEdgeById(t),f}},{key:"deleteEdgeByNodeId",value:function(t){var n=t.sourceNodeId,o=t.targetNodeId;n&&o?this.graphModel.deleteEdgeBySourceAndTarget(n,o):n?this.graphModel.deleteEdgeBySource(n):o&&this.graphModel.deleteEdgeByTarget(o)}},{key:"changeEdgeId",value:function(t,n){return this.graphModel.changeEdgeId(t,n)}},{key:"getEdgeModelById",value:function(t){var n,o=this.graphModel.edgesMap;return(n=o[t])===null||n===void 0?void 0:n.model}},{key:"getEdgeModels",value:function(t){var n=this.graphModel.edges,o=t.sourceNodeId,a=t.targetNodeId;if(o&&a){var f=[];return n.forEach(function(O){O.sourceNodeId===o&&O.targetNodeId===a&&f.push(O)}),f}if(o){var p=[];return n.forEach(function(O){O.sourceNodeId===o&&p.push(O)}),p}if(a){var g=[];return n.forEach(function(O){O.targetNodeId===a&&g.push(O)}),g}return[]}},{key:"getEdgeDataById",value:function(t){var n;return(n=this.getEdgeModelById(t))===null||n===void 0?void 0:n.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.setProperties(rr(n))}},{key:"deleteProperty",value:function(t,n){var o;(o=this.graphModel.getElement(t))===null||o===void 0||o.deleteProperty(n)}},{key:"getProperties",value:function(t){var n;return(n=this.graphModel.getElement(t))===null||n===void 0?void 0:n.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,n){return this.graphModel.setElementZIndex(t,n)}},{key:"addElements",value:function(t){for(var n=this,o=t.nodes,a=t.edges,f={},p={nodes:[],edges:[]},g=0;g<o.length;g++){var O=o[g],P=O.id,N=this.addNode(O);if(!N)return;P&&(f[P]=N.id),p.nodes.push(N)}return a.forEach(function(B){var H=B.sourceNodeId,K=B.targetNodeId;f[H]&&(H=f[H]),f[K]&&(K=f[K]);var ie=n.graphModel.addEdge(ji(ji({},B),{},{sourceNodeId:H,targetNodeId:K}));p.edges.push(ie)}),p}},{key:"getAreaElement",value:function(t,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;return this.graphModel.getAreaElement(t,n,o,a,f).map(function(p){return p.getData()})}},{key:"getSelectElements",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return this.graphModel.getSelectElements(t)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,n){return this.graphModel.getPointByClient({x:t,y:n})}},{key:"undo",value:function(){if(this.history.undoAble()){var t=rr(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(this.history.redoAble()){var t=rr(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,n){var o=this.graphModel.transformModel;return o.zoom(t,n)}},{key:"resetZoom",value:function(){var t=this.graphModel.transformModel;t.resetZoom()}},{key:"setZoomMiniSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){var n=this.graphModel.transformModel;n.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel,n=t.SCALE_X,o=t.SCALE_Y,a=t.TRANSLATE_X,f=t.TRANSLATE_Y;return{SCALE_X:n,SCALE_Y:o,TRANSLATE_X:a,TRANSLATE_Y:f}}},{key:"translate",value:function(t,n){var o=this.graphModel.transformModel;o.translate(t,n)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,n=t.TRANSLATE_X,o=t.TRANSLATE_Y;this.translate(-n,-o)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t,n){n===void 0&&(n=t),this.graphModel.fitView(t,n)}},{key:"openEdgeAnimation",value:function(t){this.graphModel.openEdgeAnimation(t)}},{key:"closeEdgeAnimation",value:function(t){this.graphModel.closeEdgeAnimation(t)}},{key:"on",value:function(t,n){this.graphModel.eventCenter.on(t,n)}},{key:"off",value:function(t,n){this.graphModel.eventCenter.off(t,n)}},{key:"once",value:function(t,n){this.graphModel.eventCenter.once(t,n)}},{key:"emit",value:function(t,n){this.graphModel.eventCenter.emit(t,n)}},{key:"installPlugins",value:function(){var t,n=this,o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=(t=this.plugins)!==null&&t!==void 0?t:e.extensions;a.forEach(function(f){var p=f.pluginName||f.name;o.indexOf(p)===-1&&n.installPlugin(f)})}},{key:"installPlugin",value:function(t){if(Hs(t)==="object"){var n=t.install,o=t.render;n&&n.call(t,this,e),o&&this.components.push(o.bind(t)),this.extension[t.pluginName]=t;return}var a=t,f=new a({lf:this,LogicFlow:e,options:this.options.pluginsOptions});f.render&&this.components.push(f.render.bind(f)),this.extension[a.pluginName]=f}},{key:"updateAttributes",value:function(t,n){this.graphModel.updateAttributes(t,n)}},{key:"createFakerNode",value:function(t){var n=this.graphModel.modelMap.get(t.type);if(!n){console.warn("不存在为".concat(t.type,"类型的节点"));return}var o=new n(ji(ji({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(o),o}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,n){this.viewMap.set(t,n)}},{key:"renderRawData",value:function(t){this.graphModel.graphDataToModel(rr(t)),this.options.history!==!1&&this.history.watch(this.graphModel),Object(ae.j)(Object(ae.g)(vw,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(rt.GRAPH_RENDERED,this.graphModel.modelToGraphData())}},{key:"render",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.renderRawData(t)}}],[{key:"use",value:function(t){var n=t.pluginName;n||(console.warn("请给插件".concat(t.name||t.constructor.name,"指定pluginName!")),n=t.name);var o=this.extensions.get(n);o&&o.destroy&&o.destroy(),this.extensions.set(n,t)}}]),e}();zt(Qc,"extensions",new Map);function $r(e){return Ot(e)}c.default=Qc}])})})(BC,We);const $s=wC(We),LC=[{type:"bpmn:startEvent",text:"开始",class:"bpmn-start"},{type:"bpmn:endEvent",text:"结束",class:"bpmn-end"},{type:"bpmn:exclusiveGateway",text:"网关",class:"bpmn-exclusiveGateway"},{type:"bpmn:userTask",text:"用户",class:"bpmn-user"}];function zC(m,v){return v={exports:{}},m(v,v.exports),v.exports}var FC=zC(function(m){var v=m.exports=function(u,c){if(c||(c=16),u===void 0&&(u=128),u<=0)return"0";for(var i=Math.log(Math.pow(2,u))/Math.log(c),s=2;i===1/0;s*=2)i=Math.log(Math.pow(2,u/s))/Math.log(c)*s;for(var l=i-Math.floor(i),y="",s=0;s<Math.floor(i);s++){var b=Math.floor(Math.random()*c).toString(c);y=b+y}if(l){var x=Math.pow(c,l),b=Math.floor(Math.random()*x).toString(c);y=b+y}var S=parseInt(y,c);return S!==1/0&&S>=Math.pow(2,u)?v(u,c):y};v.rack=function(u,c,i){var s=function(y){var b=0;do{if(b++>10)if(i)u+=i;else throw new Error("too many ID collisions, use more bits");var x=v(u,c)}while(Object.hasOwnProperty.call(l,x));return l[x]=y,x},l=s.hats={};return s.get=function(y){return s.hats[y]},s.set=function(y,b){return s.hats[y]=b,s},s.bits=u||128,s.base=c||16,s}});function an(m){if(!(this instanceof an))return new an(m);m=m||[128,36,1],this._seed=m.length?FC.rack(m[0],m[1],m[2]):m}an.prototype.next=function(m){return this._seed(m||!0)};an.prototype.nextPrefixed=function(m,v){var u;do u=m+this.next(!0);while(this.assigned(u));return this.claim(u,v),u};an.prototype.claim=function(m,v){this._seed.set(m,v||!0)};an.prototype.assigned=function(m){return this._seed.get(m)||!1};an.prototype.unclaim=function(m){delete this._seed.hats[m]};an.prototype.clear=function(){var m=this._seed.hats,v;for(v in m)this.unclaim(v)};var HC=new an([32,32,1]);function qo(){return HC.next()}var Zm=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),GC=function(m){Zm(v,m);function v(u,c){var i=this;return u.id||(u.id="Event_"+qo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i}return v.prototype.setAttributes=function(){this.r=18},v.prototype.getConnectedTargetRules=function(){var u=m.prototype.getConnectedTargetRules.call(this),c={message:"起始节点不能作为边的终点",validate:function(){return!1}};return u.push(c),u},v.extendKey="StartEventModel",v}(We.CircleNodeModel),$C=function(m){Zm(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.extendKey="StartEventNode",v}(We.CircleNode),kC={type:"bpmn:startEvent",view:$C,model:GC},Jm=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Xs=globalThis&&globalThis.__assign||function(){return Xs=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Xs.apply(this,arguments)},UC=function(m){Jm(v,m);function v(u,c){var i=this;return u.id||(u.id="Event_"+qo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i}return v.prototype.setAttributes=function(){this.r=18},v.prototype.getConnectedSourceRules=function(){var u=m.prototype.getConnectedSourceRules.call(this),c={message:"结束节点不能作为边的起点",validate:function(){return!1}};return u.push(c),u},v.extendKey="EndEventModel",v}(We.CircleNodeModel),XC=function(m){Jm(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},v.prototype.getShape=function(){var u=this.props.model,c=u.getNodeStyle(),i=u.x,s=u.y,l=u.r,y=m.prototype.getShape.call(this);return We.h("g",{},y,We.h("circle",Xs(Xs({},c),{cx:i,cy:s,r:l-5})))},v.extendKey="EndEventView",v}(We.CircleNode),YC={type:"bpmn:endEvent",view:XC,model:UC},Qm=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Bi=globalThis&&globalThis.__assign||function(){return Bi=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Bi.apply(this,arguments)},WC=function(m){Qm(v,m);function v(u,c){var i=this;return u.id||(u.id="Gateway_"+qo()),u.text||(u.text=""),u.text&&typeof u.text=="string"&&(u.text={value:u.text,x:u.x,y:u.y+40}),i=m.call(this,u,c)||this,i.points=[[25,0],[50,25],[25,50],[0,25]],i}return v.extendKey="ExclusiveGatewayModel",v}(We.PolygonNodeModel),KC=function(m){Qm(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,l=u.height,y=u.points,b=u.getNodeStyle();return We.h("g",{transform:"matrix(1 0 0 1 "+(c-s/2)+" "+(i-l/2)+")"},We.h("polygon",Bi(Bi({},b),{x:c,y:i,points:y})),We.h("path",Bi({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},b)))},v.extendKey="ExclusiveGatewayNode",v}(We.PolygonNode),VC={type:"bpmn:exclusiveGateway",view:KC,model:WC},qm=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Ys=globalThis&&globalThis.__assign||function(){return Ys=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Ys.apply(this,arguments)},ZC=function(m){qm(v,m);function v(u,c){var i=this;return u.id||(u.id="Activity_"+qo()),i=m.call(this,u,c)||this,i}return v.extendKey="UserTaskModel",v}(We.RectNodeModel),JC=function(m){qm(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,l=u.height,y=u.getNodeStyle();return We.h("svg",{x:c-s/2+5,y:i-l/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},We.h("path",{fill:y.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,l=u.height,y=u.radius,b=u.getNodeStyle();return We.h("g",{},[We.h("rect",Ys(Ys({},b),{x:c-s/2,y:i-l/2,rx:y,ry:y,width:s,height:l})),this.getLabelShape()])},v.extendKey="UserTaskNode",v}(We.RectNode),QC={type:"bpmn:userTask",view:JC,model:ZC},eb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),td=globalThis&&globalThis.__assign||function(){return td=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},td.apply(this,arguments)},qC=function(m){eb(v,m);function v(u,c){var i=this;return u.id||(u.id="Activity_"+qo()),i=m.call(this,u,c)||this,i}return v.extendKey="ServiceTaskModel",v}(We.RectNodeModel),eR=function(m){eb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getLabelShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,l=u.height,y=u.getNodeStyle();return We.h("svg",{x:c-s/2+5,y:i-l/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},We.h("path",{fill:y.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},v.prototype.getShape=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,l=u.height,y=u.radius,b=u.getNodeStyle();return We.h("g",{},[We.h("rect",td({x:c-s/2,y:i-l/2,rx:y,ry:y,width:s,height:l},b)),this.getLabelShape()])},v.extendKey="ServiceTaskNode",v}(We.RectNode),tR={type:"bpmn:serviceTask",view:eR,model:qC},tb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),rR=function(m){tb(v,m);function v(u,c){var i=this;return u.id||(u.id="Flow_"+qo()),i=m.call(this,u,c)||this,i}return v.extendKey="SequenceFlowModel",v}(We.PolylineEdgeModel),nR=function(m){tb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.extendKey="SequenceFlowEdge",v}(We.PolylineEdge),oR={type:"bpmn:sequenceFlow",view:nR,model:rR},Em={width:40,height:40},Sm={width:40,height:40},xm={width:40,height:40},Pm={width:100,height:80},Tm={width:100,height:80},iR={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},aR=function(){function m(v){var u=v.lf;u.setTheme(iR),u.register(kC),u.register(YC),u.register(VC),u.register(QC),u.register(tR),u.options.customBpmnEdge||(u.register(oR),u.setDefaultEdgeType("bpmn:sequenceFlow"))}return m.pluginName="bpmnElement",m}(),uR=function(){function m(v){var u=this,c=v.lf;this.lf=c,this.customCssRules="",this.useGlobalRules=!0,c.getSnapshot=function(i,s){u.getSnapshot(i,s)},c.getSnapshotBlob=function(i){return u.getSnapshotBlob(i)},c.getSnapshotBase64=function(i){return u.getSnapshotBase64(i)}}return m.prototype.getSvgRootElement=function(v){var u=this;this.offsetX=Number.MAX_SAFE_INTEGER,this.offsetY=Number.MAX_SAFE_INTEGER,v.graphModel.nodes.forEach(function(i){var s=i.x,l=i.width,y=i.y,b=i.height,x=s-l/2,S=y-b/2;x<u.offsetX&&(u.offsetX=x-5),S<u.offsetY&&(u.offsetY=S-5)}),v.graphModel.edges.forEach(function(i){i.pointsList&&i.pointsList.forEach(function(s){var l=s.x,y=s.y;l<u.offsetX&&(u.offsetX=l-5),y<u.offsetY&&(u.offsetY=y-5)})});var c=v.container.querySelector(".lf-canvas-overlay");return c},m.prototype.triggerDownload=function(v){var u=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),c=document.createElement("a");c.setAttribute("download",this.fileName),c.setAttribute("href",v),c.setAttribute("target","_blank"),c.dispatchEvent(u)},m.prototype.removeAnchor=function(v){for(var u=v.childNodes,c=v.childNodes&&v.childNodes.length,i=0;i<c;i++){var s=u[i],l=s.classList&&Array.from(s.classList)||[];l.indexOf("lf-anchor")>-1&&(v.removeChild(v.childNodes[i]),c--,i--)}},m.prototype.getSnapshot=function(v,u){var c=this;this.fileName=v||"logic-flow."+Date.now()+".png";var i=this.getSvgRootElement(this.lf);this.getCanvasData(i,u).then(function(s){var l=s.toDataURL("image/png").replace("image/png","image/octet-stream");c.triggerDownload(l)})},m.prototype.getSnapshotBase64=function(v){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,v).then(function(s){var l=s.toDataURL("image/png");i({data:l,width:s.width,height:s.height})})})},m.prototype.getSnapshotBlob=function(v){var u=this,c=this.getSvgRootElement(this.lf);return new Promise(function(i){u.getCanvasData(c,v).then(function(s){s.toBlob(function(l){i({data:l,width:s.width,height:s.height})},"image/png")})})},m.prototype.getClassRules=function(){var v="";if(this.useGlobalRules)for(var u=document.styleSheets,c=0;c<u.length;c++)for(var i=u[c],s=0;s<i.cssRules.length;s++)v+=i.cssRules[s].cssText;return this.customCssRules&&(v+=this.customCssRules),v},m.prototype.getCanvasData=function(v,u){var c=this,i=v.cloneNode(!0),s=i.lastChild,l=s.childNodes&&s.childNodes.length;if(l)for(var y=0;y<l;y++){var b=s.childNodes[y],x=b.classList&&Array.from(b.classList);if(x&&x.indexOf("lf-base")<0)s.removeChild(s.childNodes[y]),l--,y--;else{var S=s.childNodes[y];S&&S.childNodes.forEach(function(L){var $=L;c.removeAnchor($.firstChild)})}}i.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var T=window.devicePixelRatio||1,w=document.createElement("canvas"),M=this.lf.graphModel.rootEl.querySelector(".lf-base"),j=M.getBoundingClientRect(),R=this.lf.graphModel,_=R.transformModel,z=_.SCALE_X,U=_.SCALE_Y,Y=Math.ceil(j.width/z),le=Math.ceil(j.height/U);w.style.width=Y+"px",w.style.height=le+"px",w.width=Y*T+80,w.height=le*T+80;var se=w.getContext("2d");se.clearRect(0,0,w.width,w.height),se.scale(T,T),u?(se.fillStyle=u,se.fillRect(0,0,Y*T+80,le*T+80)):se.clearRect(0,0,Y,le);var te=new Image,Q=document.createElement("style");Q.innerHTML=this.getClassRules();var ee=document.createElement("foreignObject");return ee.appendChild(Q),i.appendChild(ee),new Promise(function(L){te.onload=function(){var A=navigator.userAgent.indexOf("Firefox")>-1;try{A?createImageBitmap(te,{resizeWidth:w.width,resizeHeight:w.height}).then(function(C){se.drawImage(C,0,0),L(w)}):(se.drawImage(te,0,0),L(w))}catch{se.drawImage(te,0,0),L(w)}};var $="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(i),I=$.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");te.src=I})},m.pluginName="snapshot",m}(),sR=new an([32,32,1]);function Mm(){return sR.next()}var yr=function(){};yr.ObjTree=function(){return this};yr.ObjTree.VERSION="0.23";yr.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;yr.ObjTree.prototype.attr_prefix="-";yr.ObjTree.prototype.parseXML=function(m){var v;if(window.DOMParser){var u=new DOMParser,c=u.parseFromString(m,"application/xml");if(!c)return;v=c.documentElement}else window.ActiveXObject&&(u=new ActiveXObject("Microsoft.XMLDOM"),u.async=!1,u.loadXML(m),v=u.documentElement);if(v)return this.parseDOM(v)};yr.ObjTree.prototype.parseHTTP=function(m,v,u){var c={};for(var i in v)c[i]=v[i];if(c.method||(typeof c.postBody>"u"&&typeof c.postbody>"u"&&typeof c.parameters>"u"?c.method="get":c.method="post"),u){c.asynchronous=!0;var s=this,l=u,y=c.onComplete;c.onComplete=function(S){var T;S&&S.responseXML&&S.responseXML.documentElement&&(T=s.parseDOM(S.responseXML.documentElement)),l(T,S),y&&y(S)}}else c.asynchronous=!1;var b;if(typeof HTTP<"u"&&HTTP.Request){c.uri=m;var x=new HTTP.Request(c);x&&(b=x.transport)}else if(typeof Ajax<"u"&&Ajax.Request){var x=new Ajax.Request(m,c);x&&(b=x.transport)}if(u)return b;if(b&&b.responseXML&&b.responseXML.documentElement)return this.parseDOM(b.responseXML.documentElement)};yr.ObjTree.prototype.parseDOM=function(m){if(m){if(this.__force_array={},this.force_array)for(var v=0;v<this.force_array.length;v++)this.__force_array[this.force_array[v]]=1;var u=this.parseElement(m);if(this.__force_array[m.nodeName]&&(u=[u]),m.nodeType!=11){var c={};c[m.nodeName]=u,u=c}return u}};yr.ObjTree.prototype.parseElement=function(m){if(m.nodeType!=7){if(m.nodeType==3||m.nodeType==4){var v=m.nodeValue.match(/[^\x00-\x20]/);return v==null?void 0:m.nodeValue}var u,c={};if(m.attributes&&m.attributes.length){u={};for(var i=0;i<m.attributes.length;i++){var s=m.attributes[i].nodeName;if(typeof s=="string"){var l=m.attributes[i].nodeValue;l&&(s=this.attr_prefix+s,typeof c[s]>"u"&&(c[s]=0),c[s]++,this.addNode(u,s,c[s],l))}}}if(m.childNodes&&m.childNodes.length){var y=!0;u&&(y=!1);for(var i=0;i<m.childNodes.length&&y;i++){var b=m.childNodes[i].nodeType;b==3||b==4||(y=!1)}if(y){u||(u="");for(var i=0;i<m.childNodes.length;i++)u+=m.childNodes[i].nodeValue}else{u||(u={});for(var i=0;i<m.childNodes.length;i++){var s=m.childNodes[i].nodeName;if(typeof s=="string"){var l=this.parseElement(m.childNodes[i]);l&&(typeof c[s]>"u"&&(c[s]=0),c[s]++,this.addNode(u,s,c[s],l))}}}}return u}};yr.ObjTree.prototype.addNode=function(m,v,u,c){this.__force_array[v]?(u==1&&(m[v]=[]),m[v][m[v].length]=c):u==1?m[v]=c:u==2?m[v]=[m[v],c]:m[v][m[v].length]=c};yr.ObjTree.prototype.writeXML=function(m){var v=this.hash_to_xml(null,m);return this.xmlDecl+v};yr.ObjTree.prototype.hash_to_xml=function(m,v){var u=[],c=[];for(var i in v)if(v.hasOwnProperty(i)){var s=v[i];i.charAt(0)!=this.attr_prefix?typeof s>"u"||s==null?u[u.length]="<"+i+" />":typeof s=="object"&&s.constructor==Array?u[u.length]=this.array_to_xml(i,s):typeof s=="object"?u[u.length]=this.hash_to_xml(i,s):u[u.length]=this.scalar_to_xml(i,s):c[c.length]=" "+i.substring(1)+'="'+this.xml_escape(s)+'"'}var l=c.join(""),y=u.join("");return typeof m>"u"||m==null||(u.length>0?y.match(/\n/)?y="<"+m+l+`>
`+y+"</"+m+`>
`:y="<"+m+l+">"+y+"</"+m+`>
`:y="<"+m+l+` />
`),y};yr.ObjTree.prototype.array_to_xml=function(m,v){for(var u=[],c=0;c<v.length;c++){var i=v[c];typeof i>"u"||i==null?u[u.length]="<"+m+" />":typeof i=="object"&&i.constructor==Array?u[u.length]=this.array_to_xml(m,i):typeof i=="object"?u[u.length]=this.hash_to_xml(m,i):u[u.length]=this.scalar_to_xml(m,i)}return u.join("")};yr.ObjTree.prototype.scalar_to_xml=function(m,v){return m=="#text"?this.xml_escape(v):"<"+m+">"+this.xml_escape(v)+"</"+m+`>
`};yr.ObjTree.prototype.xml_escape=function(m){return m.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Js=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],l;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s},un;(function(m){m.START="bpmn:startEvent",m.END="bpmn:endEvent",m.GATEWAY="bpmn:exclusiveGateway",m.USER="bpmn:userTask",m.SYSTEM="bpmn:serviceTask",m.FLOW="bpmn:sequenceFlow"})(un||(un={}));var rb=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function rd(m){var v={};return Object.entries(m).forEach(function(u){var c=Js(u,2),i=c[0],s=c[1];typeof s!="object"?i.indexOf("-")===0?v[i]=s:v["-"+i]=s:v[i]=rd(s)}),v}function sd(m){var v={};return Object.entries(m).forEach(function(u){var c=Js(u,2),i=c[0],s=c[1];typeof s=="string"?i.indexOf("-")===0?v[i.substr(1)]=s:v[i]=s:typeof s=="object"?v[i]=sd(s):v[i]=s}),v}function lR(m,v){var u=new Map;v.nodes.forEach(function(i){var s,l={"-id":i.id};if(!((s=i.text)===null||s===void 0)&&s.value&&(l["-name"]=i.text.value),i.properties){var y=rd(i.properties);Object.assign(l,y)}u.set(i.id,l),m[i.type]?Array.isArray(m[i.type])?m[i.type].push(l):m[i.type]=[m[i.type],l]:m[i.type]=l});var c=v.edges.map(function(i){var s,l,y=u.get(i.targetNodeId);y["bpmn:incoming"]?Array.isArray(y["bpmn:incoming"])?y["bpmn:incoming"].push(i.id):y["bpmn:incoming"]=[y["bpmn:incoming"],i.id]:y["bpmn:incoming"]=i.id;var b=u.get(i.sourceNodeId);b["bpmn:outgoing"]?Array.isArray(b["bpmn:outgoing"])?b["bpmn:outgoing"].push(i.id):b["bpmn:outgoing"]=[b["bpmn:outgoing"],i.id]:b["bpmn:outgoing"]=i.id;var x={"-id":i.id,"-sourceRef":i.sourceNodeId,"-targetRef":i.targetNodeId};if(!((s=i.text)===null||s===void 0)&&s.value&&(x["-name"]=(l=i.text)===null||l===void 0?void 0:l.value),i.properties){var S=rd(i.properties);Object.assign(x,S)}return x});m[un.FLOW]=c}function fR(m,v){m["bpmndi:BPMNEdge"]=v.edges.map(function(u){var c,i=u.id,s=u.pointsList.map(function(y){var b=y.x,x=y.y;return{"-x":b,"-y":x}}),l={"-id":i+"_di","-bpmnElement":i,"di:waypoint":s};return!((c=u.text)===null||c===void 0)&&c.value&&(l["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),l}),m["bpmndi:BPMNShape"]=v.nodes.map(function(u){var c,i=u.id,s=100,l=80,y=u.x,b=u.y,x=po.shapeConfigMap.get(u.type);x&&(s=x.width,l=x.height),y-=s/2,b-=l/2;var S={"-id":i+"_di","-bpmnElement":i,"dc:Bounds":{"-x":y,"-y":b,"-width":s,"-height":l}};return!((c=u.text)===null||c===void 0)&&c.value&&(S["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":u.text.x-u.text.value.length*10/2,"-y":u.text.y-7,"-width":u.text.value.length*10,"-height":14}}),S})}function cR(m){var v=[],u=[],c=m["bpmn:definitions"];if(c){var i=c["bpmn:process"];Object.keys(i).forEach(function(s){if(s.indexOf("bpmn:")===0){var l=i[s];if(s===un.FLOW){var y=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];u=pR(l,y)}else{var b=c["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];v=v.concat(dR(l,b,s))}}})}return{nodes:v,edges:u}}function dR(m,v,u){var c=[];if(Array.isArray(m))m.forEach(function(l){var y;Array.isArray(v)?y=v.find(function(x){return x["-bpmnElement"]===l["-id"]}):y=v;var b=wm(y,u,l);c.push(b)});else{var i=void 0;Array.isArray(v)?i=v.find(function(l){return l["-bpmnElement"]===m["-id"]}):i=v;var s=wm(i,u,m);c.push(s)}return c}function wm(m,v,u){var c=Number(m["dc:Bounds"]["-x"]),i=Number(m["dc:Bounds"]["-y"]),s=u["-name"],l=po.shapeConfigMap.get(v);l&&(c+=l.width/2,i+=l.height/2);var y;Object.entries(u).forEach(function(T){var w=Js(T,2),M=w[0],j=w[1];rb.indexOf(M)===-1&&(y||(y={}),y[M]=j)}),y&&(y=sd(y));var b;if(s&&(b={x:c,y:i,value:s},m["bpmndi:BPMNLabel"]&&m["bpmndi:BPMNLabel"]["dc:Bounds"])){var x=m["bpmndi:BPMNLabel"]["dc:Bounds"];b.x=Number(x["-x"])+Number(x["-width"])/2,b.y=Number(x["-y"])+Number(x["-height"])/2}var S={id:m["-bpmnElement"],type:v,x:c,y:i,properties:y};return b&&(S.text=b),S}function pR(m,v){var u=[];if(Array.isArray(m))m.forEach(function(i){var s;Array.isArray(v)?s=v.find(function(l){return l["-bpmnElement"]===i["-id"]}):s=v,u.push(Am(s,i))});else{var c=void 0;Array.isArray(v)?c=v.find(function(i){return i["-bpmnElement"]===m["-id"]}):c=v,u.push(Am(c,m))}return u}function Am(m,v){var u,c=v["-name"];if(c){var i=m["bpmndi:BPMNLabel"]["dc:Bounds"],s=0;c.split(`
`).forEach(function(b){s<b.length&&(s=b.length)}),u={value:c,x:Number(i["-x"])+s*10/2,y:Number(i["-y"])+7}}var l;Object.entries(v).forEach(function(b){var x=Js(b,2),S=x[0],T=x[1];rb.indexOf(S)===-1&&(l||(l={}),l[S]=T)}),l&&(l=sd(l));var y={id:v["-id"],type:un.FLOW,pointsList:m["di:waypoint"].map(function(b){return{x:Number(b["-x"]),y:Number(b["-y"])}}),sourceNodeId:v["-sourceRef"],targetNodeId:v["-targetRef"],properties:l};return u&&(y.text=u),y}var po={pluginName:"bpmn-adapter",install:function(m){m.adapterIn=this.adapterIn,m.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(m,v){this.shapeConfigMap.set(m,v)},adapterOut:function(m){var v={"-id":"Process_"+Mm(),"-isExecutable":"false"};lR(v,m);var u={"-id":"BPMNPlane_1","-bpmnElement":v["-id"]};fR(u,m);var c={"bpmn:definitions":{"-id":"Definitions_"+Mm(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":v,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":u}}};return c},adapterIn:function(m){if(m)return cR(m)}};po.shapeConfigMap.set(un.START,{width:Em.width,height:Em.height});po.shapeConfigMap.set(un.END,{width:Sm.width,height:Sm.height});po.shapeConfigMap.set(un.GATEWAY,{width:xm.width,height:xm.height});po.shapeConfigMap.set(un.SYSTEM,{width:Pm.width,height:Pm.height});po.shapeConfigMap.set(un.USER,{width:Tm.width,height:Tm.height});var Nm=globalThis&&globalThis.__assign||function(){return Nm=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Nm.apply(this,arguments)};globalThis&&globalThis.__read;var Dm;(function(m){m.HORIZONTAL="horizontal",m.VERTICAL="vertical"})(Dm||(Dm={}));var hR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],l;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s};globalThis&&globalThis.__spread;var vR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],l;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s};globalThis&&globalThis.__spread;var yR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],l;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s},gR=globalThis&&globalThis.__spread||function(){for(var m=[],v=0;v<arguments.length;v++)m=m.concat(yR(arguments[v]));return m},Ci="lf:defaultNodeMenu",Ri="lf:defaultEdgeMenu",Ii="lf:defaultGraphMenu",jm="lf:defaultSelectionMenu",mR=function(){function m(v){var u=this,c=v.lf;this.__menuDOM=document.createElement("ul"),this.lf=c,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(i){u.setMenuConfig(i)},this.lf.addMenuConfig=function(i){u.addMenuConfig(i)},this.lf.setMenuByType=function(i){u.setMenuByType(i)}}return m.prototype.init=function(){var v=this,u=[{text:"删除",callback:function(s){v.lf.deleteNode(s.id)}},{text:"编辑文本",callback:function(s){v.lf.graphModel.editText(s.id)}},{text:"复制",callback:function(s){v.lf.cloneNode(s.id)}}];this.menuTypeMap.set(Ci,u);var c=[{text:"删除",callback:function(s){v.lf.deleteEdge(s.id)}},{text:"编辑文本",callback:function(s){v.lf.graphModel.editText(s.id)}}];this.menuTypeMap.set(Ri,c),this.menuTypeMap.set(Ii,[]);var i=[{text:"删除",callback:function(s){v.lf.clearSelectElements(),s.edges.forEach(function(l){return v.lf.deleteEdge(l.id)}),s.nodes.forEach(function(l){return v.lf.deleteNode(l.id)})}}];this.menuTypeMap.set(jm,i)},m.prototype.render=function(v,u){var c=this;this.__container=u,this.__currentData=null,this.__menuDOM.className="lf-menu",u.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(i){i.stopPropagation();for(var s=i.target;Array.from(s.classList).indexOf("lf-menu-item")===-1&&Array.from(s.classList).indexOf("lf-menu")===-1;)s=s.parentElement;Array.from(s.classList).indexOf("lf-menu-item")>-1?(s.onclickCallback(c.__currentData),c.__menuDOM.style.display="none",c.__currentData=null):console.warn("点击区域不在菜单项内，请检查代码！")},!0),this.lf.on("node:contextmenu",function(i){var s=i.data,l=i.position,y=l.domOverlayPosition,b=y.x,x=y.y,S=s.id,T=c.lf.graphModel.getNodeModelById(S),w=[],M=c.menuTypeMap.get(T.type);T&&T.menu&&Array.isArray(T.menu)?w=T.menu:M?w=M:w=c.menuTypeMap.get(Ci),c.__currentData=s,c.showMenu(b,x,w)}),this.lf.on("edge:contextmenu",function(i){var s=i.data,l=i.position,y=l.domOverlayPosition,b=y.x,x=y.y,S=s.id,T=c.lf.graphModel.getEdgeModelById(S),w=[],M=c.menuTypeMap.get(T.type);T&&T.menu&&Array.isArray(T.menu)?w=T.menu:M?w=M:w=c.menuTypeMap.get(Ri),c.__currentData=s,c.showMenu(b,x,w)}),this.lf.on("blank:contextmenu",function(i){var s=i.position,l=c.menuTypeMap.get(Ii),y=s.domOverlayPosition,b=y.x,x=y.y;c.showMenu(b,x,l)}),this.lf.on("selection:contextmenu",function(i){var s=i.data,l=i.position,y=c.menuTypeMap.get(jm),b=l.domOverlayPosition,x=b.x,S=b.y;c.__currentData=s,c.showMenu(x,S,y)}),this.lf.on("node:mousedown",function(){c.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){c.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){c.__menuDOM.style.display="none"})},m.prototype.destroy=function(){var v;(v=this===null||this===void 0?void 0:this.__container)===null||v===void 0||v.removeChild(this.__menuDOM),this.__menuDOM=null},m.prototype.showMenu=function(v,u,c){if(!(!c||!c.length)){var i=this.__menuDOM;i.innerHTML="",i.append.apply(i,gR(this.__getMenuDom(c))),i.children.length&&(i.style.display="block",i.style.top=u+"px",i.style.left=v+"px")}},m.prototype.setMenuByType=function(v){!v.type||!v.menu||this.menuTypeMap.set(v.type,v.menu)},m.prototype.__getMenuDom=function(v){var u=[];return v&&v.length>0&&v.forEach(function(c){var i=document.createElement("li");if(c.className?i.className="lf-menu-item "+c.className:i.className="lf-menu-item",c.icon===!0){var s=document.createElement("span");s.className="lf-menu-item-icon",i.appendChild(s)}var l=document.createElement("span");l.className="lf-menu-item-text",c.text&&(l.innerText=c.text),i.appendChild(l),i.onclickCallback=c.callback,u.push(i)}),u},m.prototype.setMenuConfig=function(v){v&&(v.nodeMenu!==void 0&&this.menuTypeMap.set(Ci,v.nodeMenu?v.nodeMenu:[]),v.edgeMenu!==void 0&&this.menuTypeMap.set(Ri,v.edgeMenu?v.edgeMenu:[]),v.graphMenu!==void 0&&this.menuTypeMap.set(Ii,v.graphMenu?v.graphMenu:[]))},m.prototype.addMenuConfig=function(v){if(v){if(Array.isArray(v.nodeMenu)){var u=this.menuTypeMap.get(Ci);this.menuTypeMap.set(Ci,u.concat(v.nodeMenu))}if(Array.isArray(v.edgeMenu)){var u=this.menuTypeMap.get(Ri);this.menuTypeMap.set(Ri,u.concat(v.edgeMenu))}if(Array.isArray(v.graphMenu)){var u=this.menuTypeMap.get(Ii);this.menuTypeMap.set(Ii,u.concat(v.graphMenu))}}},m.prototype.changeMenuItem=function(v,u){if(v==="add")this.addMenuConfig(u);else if(v==="reset")this.setMenuConfig(u);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},m.pluginName="menu",m}();globalThis&&globalThis.__read;globalThis&&globalThis.__values;function bR(m){if(m.length<=1)return!1;for(var v=0,u=m.length-1;v!==u&&v+1!==u&&u-1!==v;)v++,u--;return v===u?[--v,u]:[v,u]}var nb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Zo=globalThis&&globalThis.__assign||function(){return Zo=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Zo.apply(this,arguments)},En=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],l;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s};(function(m){nb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.pointFilter=function(u){for(var c=u,i=1;i<c.length-1;){var s=En(c[i-1],2),l=s[0],y=s[1],b=En(c[i],2),x=b[0],S=b[1],T=En(c[i+1],2),w=T[0],M=T[1];l===x&&x===w||y===S&&S===M?c.splice(i,1):i++}return c},v.prototype.getEdge=function(){var u=this.props.model,c=u.points,i=u.isAnimation,s=u.arrowConfig,l=u.radius,y=l===void 0?5:l,b=u.getEdgeStyle(),x=u.getEdgeAnimationStyle(),S=this.pointFilter(c.split(" ").map(function(Be){return Be.split(",").map(function(Ee){return Number(Ee)})})),T=bR(S);if(T){var w=En(T,2),M=w[0],j=w[1],R=S[M],_=S[j],z=R.some(function(Be,Ee){return Be===_[Ee]});if(!z){var U=(_[1]-R[1])/2,Y=[_[0],_[1]-U],le=[R[0],R[1]+U];S.splice(M+1,0,le,Y)}}for(var se=En(S[0],2),te=se[0],Q=se[1],ee="M"+te+" "+Q,L=1;L<S.length-1;L++){var $=En(S[L-1],2),I=$[0],A=$[1],C=En(S[L],2),W=C[0],Z=C[1],ce=En(S[L+1],2),Pe=ce[0],me=ce[1];if(W===I&&Z!==A){var be=Z>A?Z-y:Z+y;ee=ee+" L "+W+" "+be}if(Z===A&&W!==I){var Se=W>I?W-y:W+y;ee=ee+" L "+Se+" "+Z}if(ee=ee+" Q "+W+" "+Z,W===Pe&&Z!==me){var be=Z>me?Z-y:Z+y;ee=ee+" "+W+" "+be}if(Z===me&&W!==Pe){var Se=W>Pe?W-y:W+y;ee=ee+" "+Se+" "+Z}}var Oe=En(S[S.length-1],2),Ae=Oe[0],Fe=Oe[1];ee=ee+" L "+Ae+" "+Fe;var Ve=Zo(Zo(Zo({d:ee,style:i?x:{}},b),s),{fill:"none"});return We.h("path",Zo({d:ee},Ve))},v})(We.PolylineEdge);(function(m){nb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v})(We.PolylineEdgeModel);var ld,kt,ob,lo,Cm,ib,nd,ab={},ub=[],OR=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Wn(m,v){for(var u in v)m[u]=v[u];return m}function sb(m){var v=m.parentNode;v&&v.removeChild(m)}function Li(m,v,u){var c,i,s,l={};for(s in v)s=="key"?c=v[s]:s=="ref"?i=v[s]:l[s]=v[s];if(arguments.length>2&&(l.children=arguments.length>3?ld.call(arguments,2):u),typeof m=="function"&&m.defaultProps!=null)for(s in m.defaultProps)l[s]===void 0&&(l[s]=m.defaultProps[s]);return ks(m,l,c,i,null)}function ks(m,v,u,c,i){var s={type:m,props:v,key:u,ref:c,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++ob};return i==null&&kt.vnode!=null&&kt.vnode(s),s}function fd(m){return m.children}function Qo(m,v){this.props=m,this.context=v}function Fi(m,v){if(v==null)return m.__?Fi(m.__,m.__.__k.indexOf(m)+1):null;for(var u;v<m.__k.length;v++)if((u=m.__k[v])!=null&&u.__e!=null)return u.__e;return typeof m.type=="function"?Fi(m):null}function lb(m){var v,u;if((m=m.__)!=null&&m.__c!=null){for(m.__e=m.__c.base=null,v=0;v<m.__k.length;v++)if((u=m.__k[v])!=null&&u.__e!=null){m.__e=m.__c.base=u.__e;break}return lb(m)}}function Rm(m){(!m.__d&&(m.__d=!0)&&lo.push(m)&&!Ws.__r++||Cm!==kt.debounceRendering)&&((Cm=kt.debounceRendering)||ib)(Ws)}function Ws(){var m,v,u,c,i,s,l,y;for(lo.sort(nd);m=lo.shift();)m.__d&&(v=lo.length,c=void 0,i=void 0,l=(s=(u=m).__v).__e,(y=u.__P)&&(c=[],(i=Wn({},s)).__v=s.__v+1,hb(y,s,i,u.__n,y.ownerSVGElement!==void 0,s.__h!=null?[l]:null,c,l??Fi(s),s.__h),SR(c,s),s.__e!=l&&lb(s)),lo.length>v&&lo.sort(nd));Ws.__r=0}function fb(m,v,u,c,i,s,l,y,b,x){var S,T,w,M,j,R,_,z=c&&c.__k||ub,U=z.length;for(u.__k=[],S=0;S<v.length;S++)if((M=u.__k[S]=(M=v[S])==null||typeof M=="boolean"||typeof M=="function"?null:typeof M=="string"||typeof M=="number"||typeof M=="bigint"?ks(null,M,null,null,M):Array.isArray(M)?ks(fd,{children:M},null,null,null):M.__b>0?ks(M.type,M.props,M.key,M.ref?M.ref:null,M.__v):M)!=null){if(M.__=u,M.__b=u.__b+1,(w=z[S])===null||w&&M.key==w.key&&M.type===w.type)z[S]=void 0;else for(T=0;T<U;T++){if((w=z[T])&&M.key==w.key&&M.type===w.type){z[T]=void 0;break}w=null}hb(m,M,w=w||ab,i,s,l,y,b,x),j=M.__e,(T=M.ref)&&w.ref!=T&&(_||(_=[]),w.ref&&_.push(w.ref,null,M),_.push(T,M.__c||j,M)),j!=null?(R==null&&(R=j),typeof M.type=="function"&&M.__k===w.__k?M.__d=b=cb(M,b,m):b=db(m,M,w,z,j,b),typeof u.type=="function"&&(u.__d=b)):b&&w.__e==b&&b.parentNode!=m&&(b=Fi(w))}for(u.__e=R,S=U;S--;)z[S]!=null&&(typeof u.type=="function"&&z[S].__e!=null&&z[S].__e==u.__d&&(u.__d=pb(c).nextSibling),yb(z[S],z[S]));if(_)for(S=0;S<_.length;S++)vb(_[S],_[++S],_[++S])}function cb(m,v,u){for(var c,i=m.__k,s=0;i&&s<i.length;s++)(c=i[s])&&(c.__=m,v=typeof c.type=="function"?cb(c,v,u):db(u,c,c,i,c.__e,v));return v}function db(m,v,u,c,i,s){var l,y,b;if(v.__d!==void 0)l=v.__d,v.__d=void 0;else if(u==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==m)m.appendChild(i),l=null;else{for(y=s,b=0;(y=y.nextSibling)&&b<c.length;b+=1)if(y==i)break e;m.insertBefore(i,s),l=s}return l!==void 0?l:i.nextSibling}function pb(m){var v,u,c;if(m.type==null||typeof m.type=="string")return m.__e;if(m.__k){for(v=m.__k.length-1;v>=0;v--)if((u=m.__k[v])&&(c=pb(u)))return c}return null}function ER(m,v,u,c,i){var s;for(s in u)s==="children"||s==="key"||s in v||Ks(m,s,null,u[s],c);for(s in v)i&&typeof v[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||u[s]===v[s]||Ks(m,s,v[s],u[s],c)}function Im(m,v,u){v[0]==="-"?m.setProperty(v,u??""):m[v]=u==null?"":typeof u!="number"||OR.test(v)?u:u+"px"}function Ks(m,v,u,c,i){var s;e:if(v==="style")if(typeof u=="string")m.style.cssText=u;else{if(typeof c=="string"&&(m.style.cssText=c=""),c)for(v in c)u&&v in u||Im(m.style,v,"");if(u)for(v in u)c&&u[v]===c[v]||Im(m.style,v,u[v])}else if(v[0]==="o"&&v[1]==="n")s=v!==(v=v.replace(/Capture$/,"")),v=v.toLowerCase()in m?v.toLowerCase().slice(2):v.slice(2),m.l||(m.l={}),m.l[v+s]=u,u?c||m.addEventListener(v,s?Bm:_m,s):m.removeEventListener(v,s?Bm:_m,s);else if(v!=="dangerouslySetInnerHTML"){if(i)v=v.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(v!=="width"&&v!=="height"&&v!=="href"&&v!=="list"&&v!=="form"&&v!=="tabIndex"&&v!=="download"&&v in m)try{m[v]=u??"";break e}catch{}typeof u=="function"||(u==null||u===!1&&v[4]!=="-"?m.removeAttribute(v):m.setAttribute(v,u))}}function _m(m){return this.l[m.type+!1](kt.event?kt.event(m):m)}function Bm(m){return this.l[m.type+!0](kt.event?kt.event(m):m)}function hb(m,v,u,c,i,s,l,y,b){var x,S,T,w,M,j,R,_,z,U,Y,le,se,te,Q,ee=v.type;if(v.constructor!==void 0)return null;u.__h!=null&&(b=u.__h,y=v.__e=u.__e,v.__h=null,s=[y]),(x=kt.__b)&&x(v);try{e:if(typeof ee=="function"){if(_=v.props,z=(x=ee.contextType)&&c[x.__c],U=x?z?z.props.value:x.__:c,u.__c?R=(S=v.__c=u.__c).__=S.__E:("prototype"in ee&&ee.prototype.render?v.__c=S=new ee(_,U):(v.__c=S=new Qo(_,U),S.constructor=ee,S.render=PR),z&&z.sub(S),S.props=_,S.state||(S.state={}),S.context=U,S.__n=c,T=S.__d=!0,S.__h=[],S._sb=[]),S.__s==null&&(S.__s=S.state),ee.getDerivedStateFromProps!=null&&(S.__s==S.state&&(S.__s=Wn({},S.__s)),Wn(S.__s,ee.getDerivedStateFromProps(_,S.__s))),w=S.props,M=S.state,S.__v=v,T)ee.getDerivedStateFromProps==null&&S.componentWillMount!=null&&S.componentWillMount(),S.componentDidMount!=null&&S.__h.push(S.componentDidMount);else{if(ee.getDerivedStateFromProps==null&&_!==w&&S.componentWillReceiveProps!=null&&S.componentWillReceiveProps(_,U),!S.__e&&S.shouldComponentUpdate!=null&&S.shouldComponentUpdate(_,S.__s,U)===!1||v.__v===u.__v){for(v.__v!==u.__v&&(S.props=_,S.state=S.__s,S.__d=!1),S.__e=!1,v.__e=u.__e,v.__k=u.__k,v.__k.forEach(function(L){L&&(L.__=v)}),Y=0;Y<S._sb.length;Y++)S.__h.push(S._sb[Y]);S._sb=[],S.__h.length&&l.push(S);break e}S.componentWillUpdate!=null&&S.componentWillUpdate(_,S.__s,U),S.componentDidUpdate!=null&&S.__h.push(function(){S.componentDidUpdate(w,M,j)})}if(S.context=U,S.props=_,S.__P=m,le=kt.__r,se=0,"prototype"in ee&&ee.prototype.render){for(S.state=S.__s,S.__d=!1,le&&le(v),x=S.render(S.props,S.state,S.context),te=0;te<S._sb.length;te++)S.__h.push(S._sb[te]);S._sb=[]}else do S.__d=!1,le&&le(v),x=S.render(S.props,S.state,S.context),S.state=S.__s;while(S.__d&&++se<25);S.state=S.__s,S.getChildContext!=null&&(c=Wn(Wn({},c),S.getChildContext())),T||S.getSnapshotBeforeUpdate==null||(j=S.getSnapshotBeforeUpdate(w,M)),Q=x!=null&&x.type===fd&&x.key==null?x.props.children:x,fb(m,Array.isArray(Q)?Q:[Q],v,u,c,i,s,l,y,b),S.base=v.__e,v.__h=null,S.__h.length&&l.push(S),R&&(S.__E=S.__=null),S.__e=!1}else s==null&&v.__v===u.__v?(v.__k=u.__k,v.__e=u.__e):v.__e=xR(u.__e,v,u,c,i,s,l,b);(x=kt.diffed)&&x(v)}catch(L){v.__v=null,(b||s!=null)&&(v.__e=y,v.__h=!!b,s[s.indexOf(y)]=null),kt.__e(L,v,u)}}function SR(m,v){kt.__c&&kt.__c(v,m),m.some(function(u){try{m=u.__h,u.__h=[],m.some(function(c){c.call(u)})}catch(c){kt.__e(c,u.__v)}})}function xR(m,v,u,c,i,s,l,y){var b,x,S,T=u.props,w=v.props,M=v.type,j=0;if(M==="svg"&&(i=!0),s!=null){for(;j<s.length;j++)if((b=s[j])&&"setAttribute"in b==!!M&&(M?b.localName===M:b.nodeType===3)){m=b,s[j]=null;break}}if(m==null){if(M===null)return document.createTextNode(w);m=i?document.createElementNS("http://www.w3.org/2000/svg",M):document.createElement(M,w.is&&w),s=null,y=!1}if(M===null)T===w||y&&m.data===w||(m.data=w);else{if(s=s&&ld.call(m.childNodes),x=(T=u.props||ab).dangerouslySetInnerHTML,S=w.dangerouslySetInnerHTML,!y){if(s!=null)for(T={},j=0;j<m.attributes.length;j++)T[m.attributes[j].name]=m.attributes[j].value;(S||x)&&(S&&(x&&S.__html==x.__html||S.__html===m.innerHTML)||(m.innerHTML=S&&S.__html||""))}if(ER(m,w,T,i,y),S)v.__k=[];else if(j=v.props.children,fb(m,Array.isArray(j)?j:[j],v,u,c,i&&M!=="foreignObject",s,l,s?s[0]:u.__k&&Fi(u,0),y),s!=null)for(j=s.length;j--;)s[j]!=null&&sb(s[j]);y||("value"in w&&(j=w.value)!==void 0&&(j!==m.value||M==="progress"&&!j||M==="option"&&j!==T.value)&&Ks(m,"value",j,T.value,!1),"checked"in w&&(j=w.checked)!==void 0&&j!==m.checked&&Ks(m,"checked",j,T.checked,!1))}return m}function vb(m,v,u){try{typeof m=="function"?m(v):m.current=v}catch(c){kt.__e(c,u)}}function yb(m,v,u){var c,i;if(kt.unmount&&kt.unmount(m),(c=m.ref)&&(c.current&&c.current!==m.__e||vb(c,null,v)),(c=m.__c)!=null){if(c.componentWillUnmount)try{c.componentWillUnmount()}catch(s){kt.__e(s,v)}c.base=c.__P=null,m.__c=void 0}if(c=m.__k)for(i=0;i<c.length;i++)c[i]&&yb(c[i],v,u||typeof m.type!="function");u||m.__e==null||sb(m.__e),m.__=m.__e=m.__d=void 0}function PR(m,v,u){return this.constructor(m,u)}ld=ub.slice,kt={__e:function(m,v,u,c){for(var i,s,l;v=v.__;)if((i=v.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(m)),l=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(m,c||{}),l=i.__d),l)return i.__E=i}catch(y){m=y}throw m}},ob=0,Qo.prototype.setState=function(m,v){var u;u=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Wn({},this.state),typeof m=="function"&&(m=m(Wn({},u),this.props)),m&&Wn(u,m),m!=null&&this.__v&&(v&&this._sb.push(v),Rm(this))},Qo.prototype.forceUpdate=function(m){this.__v&&(this.__e=!0,m&&this.__h.push(m),Rm(this))},Qo.prototype.render=fd,lo=[],ib=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,nd=function(m,v){return m.__v.__b-v.__v.__b},Ws.__r=0;var zi=globalThis&&globalThis.__assign||function(){return zi=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},zi.apply(this,arguments)};function cd(m){var v=m.x,u=m.y,c=m.width,i=m.height,s=m.radius,l=m.className,y=v-c/2,b=u-i/2,x=zi(zi({width:10,height:10,cx:0,cy:0,rx:s||0,ry:s||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+l},m),{x:y,y:b});return We.h("rect",zi({},x))}cd.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Jo;(function(m){m.NODE="node",m.CIRCLE_NODE="circle-node",m.POLYGON_NODE="polygon-node",m.RECT_NODE="rect-node",m.HTML_NODE="html-node",m.TEXT_NODE="text-node",m.ELLIPSE_NODE="ellipse-node",m.DIAMOND_NODE="diamond-node",m.EDGE="edge",m.LINE_EDGE="line-edge",m.POLYLINE_EDGE="polyline-edge",m.BEZIER_EDGE="bezier-edge",m.GRAPH="graph"})(Jo||(Jo={}));function Us(m){var v=m.x,u=m.y,c=m.width,i=m.height;return{minX:v-c/2,minY:u-i/2,maxX:v+c/2,maxY:u+i/2}}function Lm(m){var v=Us(m),u=m.radius,c=v.minX,i=v.minY,s=v.maxX,l=v.maxY;return[{x:c+u,y:i+u},{x:s-u,y:i+u},{x:s-u,y:l-u},{x:c+u,y:l-u}]}function zm(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=v.x,s=v.y,l={x:i,y:s},y=u.radius,b=Us(u),x=Us(c);if(i===b.minX){l.x=x.minX;var S=(s-u.y)/(u.height/2-y);S?l.y=c.y+(c.height/2-y)*S:l.y=c.y}else if(i===b.maxX){l.x=x.maxX;var S=(s-u.y)/(u.height/2-y);S?l.y=c.y+(c.height/2-y)*S:l.y=c.y}else if(s===b.minY){l.y=x.minY;var S=(i-u.x)/(u.width/2-y);S?l.x=c.x+(c.width/2-y)*S:l.x=c.x}else if(s===b.maxY){l.y=x.maxY;var S=(i-u.x)/(u.width/2-y);S?l.x=c.x+(c.width/2-y)*S:l.x=c.x}else{var T=Lm(u),w=Lm(c),M=Us(u),j=M.minX,R=M.minY,_=M.maxX,z=M.maxY,U=-1;if(i-j<y&&s-R<y?U=0:_-i<y&&s-R<y?U=1:_-i<y&&z-s<y?U=2:i-j<y&&R-s<y&&(U=3),U>-1){var Y=Math.atan2(s-T[U].y,i-T[U].x);l.x=w[U].x+y*Math.cos(Y),l.y=w[U].y+y*Math.sin(Y)}}return l}function Fm(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=c.rx,s=c.ry,l=v,y=(v.y-u.y)/(v.x-u.x),b=i,x=s,S,T;return y>=1/0?(S=0,T=x):y<=-1/0?(S=0,T=-x):v.x-u.x>0?(S=b*x/Math.sqrt(x*x+b*b*y*y),T=b*x*y/Math.sqrt(x*x+b*b*y*y)):(S=-(b*x)/Math.sqrt(x*x+b*b*y*y),T=-(b*x*y)/Math.sqrt(x*x+b*b*y*y)),l={x:S+c.x,y:T+c.y},l}function Hm(m){var v=m.point,u=m.beforeNode,c=m.afterNode,i=v,s,l,y=v.x-u.x,b=v.y-u.y,x=u.rx,S=u.ry,T=Math.sqrt((x-Math.abs(y))*(x-Math.abs(y))+b*b)/Math.sqrt(x*x+S*S),w=c.rx,M=c.ry,j=Math.sqrt((w*w+M*M)*T*T*(w*w/(w*w+M*M))),R=j*(M/w);return y>=0?s=w-j:s=j-w,b>0?l=R:l=-R,i={x:s+c.x,y:l+c.y},i}var TR=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),fo=globalThis&&globalThis.__assign||function(){return fo=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},fo.apply(this,arguments)},MR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],l;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s},wR=We.LogicFlowUtil.StepDrag,AR=function(m){TR(v,m);function v(u){var c=m.call(this)||this;return c.updatePosition=function(i){var s=i.deltaX,l=i.deltaY,y=c.nodeModel,b=y.x,x=y.y;c.nodeModel.x=b+s/2,c.nodeModel.y=x+l/2,c.nodeModel.moveText(s/2,l/2)},c.getResize=function(i){var s=i.index,l=i.deltaX,y=i.deltaY,b=i.width,x=i.height,S=i.PCTResizeInfo,T=i.pct,w=T===void 0?1:T,M={width:b,height:x,deltaX:l,deltaY:y};if(S){var j=4,R=0,_=0;switch(s){case 0:_=(l*-1-y)/j;break;case 1:_=(l-y)/j;break;case 2:_=(l+y)/j;break;case 3:_=(l*-1+y)/j;break}_!==0&&(R=Math.round(_/S.ResizeBasis.basisHeight*1e5)/1e3),S.ResizePCT.widthPCT=Math.max(Math.min(S.ResizePCT.widthPCT+R,S.ScaleLimit.maxScaleLimit),S.ScaleLimit.minScaleLimit),S.ResizePCT.hightPCT=Math.max(Math.min(S.ResizePCT.hightPCT+R,S.ScaleLimit.maxScaleLimit),S.ScaleLimit.minScaleLimit);var z=Math.round(S.ResizePCT.widthPCT*S.ResizeBasis.basisWidth/100),U=Math.round(S.ResizePCT.hightPCT*S.ResizeBasis.basisHeight/100);switch(s){case 0:l=b-z,y=x-U;break;case 1:l=z-b,y=x-U;break;case 2:l=z-b,y=U-x;break;case 3:l=b-z,y=U-x;break}return M.width=z,M.height=U,M.deltaX=l/w,M.deltaY=y/w,M}switch(s){case 0:M.width=b-l*w,M.height=x-y*w;break;case 1:M.width=b+l*w,M.height=x-y*w;break;case 2:M.width=b+l*w,M.height=x+y*w;break;case 3:M.width=b-l*w,M.height=x+y*w;break}return M},c.updateRect=function(i){var s=i.deltaX,l=i.deltaY,y=c.nodeModel,b=y.id,x=y.x,S=y.y,T=y.width,w=y.height,M=y.radius,j=y.PCTResizeInfo,R=c.index,_=c.getResize({index:R,deltaX:s,deltaY:l,width:T,height:w,PCTResizeInfo:j,pct:1}),z=c.nodeModel,U=z.minWidth,Y=z.minHeight,le=z.maxWidth,se=z.maxHeight;if(_.width<U||_.width>le||_.height<Y||_.height>se){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:_.deltaX,deltaY:_.deltaY}),c.nodeModel.width=_.width,c.nodeModel.height=_.height,c.nodeModel.setProperties({nodeSize:{width:_.width,height:_.height}});var te=c.getNodeEdges(b),Q={x,y:S,width:T,height:w,radius:M},ee={x:c.nodeModel.x,y:c.nodeModel.y,width:c.nodeModel.width,height:c.nodeModel.height,radius:M},L={point:"",beforeNode:Q,afterNode:ee},$;te.sourceEdges.forEach(function(I){L.point=I.startPoint,$=zm(L),I.updateStartPoint($)}),te.targetEdges.forEach(function(I){L.point=I.endPoint,$=zm(L),I.updateEndPoint($)}),c.eventEmit({beforeNode:Q,afterNode:ee})},c.updateEllipse=function(i){var s=i.deltaX,l=i.deltaY,y=c.nodeModel,b=y.id,x=y.rx,S=y.ry,T=y.x,w=y.y,M=y.PCTResizeInfo,j=c.index,R=x,_=S,z=c.getResize({index:j,deltaX:s,deltaY:l,width:R,height:_,PCTResizeInfo:M,pct:1/2}),U=c.nodeModel,Y=U.minWidth,le=U.minHeight,se=U.maxWidth,te=U.maxHeight;if(z.width<Y/2||z.width>se/2||z.height<le/2||z.height>te/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:z.deltaX,deltaY:z.deltaY}),c.nodeModel.rx=z.width,c.nodeModel.ry=z.height,c.nodeModel.setProperties({nodeSize:{rx:z.width,ry:z.height}});var Q=c.getNodeEdges(b),ee={x:T,y:w},L={rx:z.width,ry:z.height,x:c.nodeModel.x,y:c.nodeModel.y},$={point:{},beforeNode:ee,afterNode:L},I;Q.sourceEdges.forEach(function(A){$.point=A.startPoint,I=Fm($),A.updateStartPoint(I)}),Q.targetEdges.forEach(function(A){$.point=A.endPoint,I=Fm($),A.updateEndPoint(I)}),c.eventEmit({beforeNode:fo(fo({},ee),{rx:x,ry:S}),afterNode:L})},c.updateDiamond=function(i){var s=i.deltaX,l=i.deltaY,y=c.nodeModel,b=y.id,x=y.rx,S=y.ry,T=y.x,w=y.y,M=y.PCTResizeInfo,j=c.index,R=x,_=S,z=c.getResize({index:j,deltaX:s,deltaY:l,width:R,height:_,PCTResizeInfo:M,pct:1/2}),U=c.nodeModel,Y=U.minWidth,le=U.minHeight,se=U.maxWidth,te=U.maxHeight;if(z.width<Y/2||z.width>se/2||z.height<le/2||z.height>te/2){c.dragHandler.cancelDrag();return}c.updatePosition({deltaX:z.deltaX,deltaY:z.deltaY}),c.nodeModel.rx=z.width,c.nodeModel.ry=z.height,c.nodeModel.setProperties({nodeSize:{rx:z.width,ry:z.height}});var Q={x:T,y:w,rx:x,ry:S},ee={rx:z.width,ry:z.height,x:c.nodeModel.x,y:c.nodeModel.y},L={point:{},beforeNode:Q,afterNode:ee},$,I=c.getNodeEdges(b);I.sourceEdges.forEach(function(A){L.point=A.startPoint,$=Hm(L),A.updateStartPoint($)}),I.targetEdges.forEach(function(A){L.point=A.endPoint,$=Hm(L),A.updateEndPoint($)}),c.eventEmit({beforeNode:Q,afterNode:ee})},c.eventEmit=function(i){var s=i.beforeNode,l=i.afterNode,y=c.nodeModel,b=y.id,x=y.modelType,S=y.type,T=fo({id:b,modelType:x,type:S},s),w=fo({id:b,modelType:x,type:S},l);c.graphModel.eventCenter.emit("node:resize",{oldNodeSize:T,newNodeSize:w})},c.onDragging=function(i){var s,l=i.deltaX,y=i.deltaY,b=c.graphModel.transformModel,x=c.nodeModel.modelType;s=MR(b.fixDeltaXY(l,y),2),l=s[0],y=s[1],x===Jo.RECT_NODE||x===Jo.HTML_NODE?c.updateRect({deltaX:l,deltaY:y}):x===Jo.ELLIPSE_NODE?c.updateEllipse({deltaX:l,deltaY:y}):x===Jo.DIAMOND_NODE&&c.updateDiamond({deltaX:l,deltaY:y})},c.onDragEnd=function(){var i=c.graphModel.gridSize,s=i===void 0?1:i,l=s*Math.round(c.nodeModel.x/s),y=s*Math.round(c.nodeModel.y/s);c.nodeModel.moveTo(l,y)},c.index=u.index,c.nodeModel=u.model,c.graphModel=u.graphModel,c.state={},c.dragHandler=new wR({onDragging:c.onDragging,onDragEnd:c.onDragEnd,step:1}),c}return v.prototype.getNodeEdges=function(u){for(var c=this.graphModel,i=c.edges,s=[],l=[],y=0;y<i.length;y++){var b=i[y];b.sourceNodeId===u?s.push(b):i[y].targetNodeId===u&&l.push(b)}return{sourceEdges:s,targetEdges:l}},v.prototype.render=function(){var u=this.props,c=u.x,i=u.y,s=u.index,l=u.model,y=l.getControlPointStyle();return Li("g",{className:"lf-resize-control-"+s},Li(cd,fo({className:"lf-node-control"},{x:c,y:i},y,{onMouseDown:this.dragHandler.handleMouseDown})))},v}(Qo),NR=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Vs=globalThis&&globalThis.__assign||function(){return Vs=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Vs.apply(this,arguments)},Qs=function(m){NR(v,m);function v(){var u=m.call(this)||this;return u.state={},u}return v.prototype.getResizeControl=function(){var u=this.props,c=u.model,i=u.graphModel,s=c.x,l=c.y,y=c.width,b=c.height,x={minX:s-y/2,minY:l-b/2,maxX:s+y/2,maxY:l+b/2},S=x.minX,T=x.minY,w=x.maxX,M=x.maxY,j=[{x:S,y:T},{x:w,y:T},{x:w,y:M},{x:S,y:M}];return j.map(function(R,_){return Li(AR,Vs({index:_},R,{model:c,graphModel:i}))})},v.prototype.getGroupSolid=function(){var u=this.props.model,c=u.x,i=u.y,s=u.width,l=u.height,y=u.getResizeOutlineStyle();return Li(cd,Vs({fill:"none"},y,{x:c,y:i,width:s,height:l}))},v.prototype.render=function(){return Li("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},v}(Qo),gb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),DR=function(m){gb(v,m);function v(u,c){var i=m.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.width=s.width,i.height=s.height),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.resize=function(u,c){console.log(u,c)},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.width,basisHeight:this.height},s={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},v}(We.RectNodeModel),jR=function(m){gb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.h(Qs,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return We.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v}(We.RectNode),mb={type:"rect",view:jR,model:DR},bb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(m){bb(v,m);function v(u,c){var i=m.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.rx=s.rx,i.ry=s.ry),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},s={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},v})(We.EllipseNodeModel);(function(m){bb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.h(Qs,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model,i=u.graphModel.editConfigModel.isSilentMode;return We.h("g",null,this.getResizeShape(),c.isSelected&&!i?this.getControlGroup():"")},v})(We.EllipseNode);var od=globalThis&&globalThis.__assign||function(){return od=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},od.apply(this,arguments)};function CR(m){var v=m.fillOpacity,u=v===void 0?1:v,c=m.strokeWidth,i=c===void 0?1:c,s=m.strokeOpacity,l=s===void 0?1:s,y=m.fill,b=y===void 0?"transparent":y,x=m.stroke,S=x===void 0?"#000":x,T=m.points,w=m.className,M=w===void 0?"lf-basic-shape":w,j={fill:b,fillOpacity:u,strokeWidth:i,stroke:S,strokeOpacity:l,points:"",className:M};return j.points=T.map(function(R){return R.join(",")}).join(" "),We.h("polygon",od({},j))}var Ob=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),id=globalThis&&globalThis.__assign||function(){return id=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},id.apply(this,arguments)};(function(m){Ob(v,m);function v(u,c){var i=m.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.rx=s.rx,i.ry=s.ry),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.rx,basisHeight:this.ry},s={maxScaleLimit:Math.min(this.maxWidth/(this.rx*2)*100,this.maxHeight/(this.ry*2)*100),minScaleLimit:Math.max(this.minWidth/(this.rx*2)*100,this.minHeight/(this.ry*2)*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},v})(We.DiamondNodeModel);(function(m){Ob(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.h(Qs,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){var u=this.props.model,c=u.points,i=u.getNodeStyle();return We.h("g",null,We.h(CR,id({},i,{points:c})))},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return We.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v})(We.DiamondNode);var Eb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}();(function(m){Eb(v,m);function v(u,c){var i=m.call(this,u,c)||this,s=i.properties.nodeSize;return s&&(i.width=s.width,i.height=s.height),i}return v.prototype.initNodeData=function(u){m.prototype.initNodeData.call(this,u),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},v.prototype.getOutlineStyle=function(){var u=m.prototype.getOutlineStyle.call(this),c=this.graphModel.editConfigModel.isSilentMode;return c||(u.stroke="none",u.hover&&(u.hover.stroke="none")),u},v.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},v.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},v.prototype.enableProportionResize=function(u){if(u===void 0&&(u=!0),u){var c={widthPCT:100,hightPCT:100},i={basisWidth:this.width,basisHeight:this.height},s={maxScaleLimit:Math.min(this.maxWidth/this.width*100,this.maxHeight/this.height*100),minScaleLimit:Math.max(this.minWidth/this.width*100,this.minHeight/this.height*100)};this.PCTResizeInfo={ResizePCT:c,ResizeBasis:i,ScaleLimit:s}}else delete this.PCTResizeInfo},v})(We.HtmlNodeModel);(function(m){Eb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props,c=u.model,i=u.graphModel;return We.h(Qs,{model:c,graphModel:i})},v.prototype.getResizeShape=function(){return m.prototype.getShape.call(this)},v.prototype.getShape=function(){var u=this.props,c=u.model.isSelected,i=u.graphModel.editConfigModel.isSilentMode;return We.h("g",null,this.getResizeShape(),c&&!i?this.getControlGroup():"")},v})(We.HtmlNode);var Sb=globalThis&&globalThis.__extends||function(){var m=function(v,u){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,i){c.__proto__=i}||function(c,i){for(var s in i)i.hasOwnProperty(s)&&(c[s]=i[s])},m(v,u)};return function(v,u){m(v,u);function c(){this.constructor=v}v.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)}}(),Zs=globalThis&&globalThis.__assign||function(){return Zs=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Zs.apply(this,arguments)},RR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],l;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s},IR=globalThis&&globalThis.__spread||function(){for(var m=[],v=0;v<arguments.length;v++)m=m.concat(RR(arguments[v]));return m},Gm=500,$m=300,_R=-1e4;(function(m){Sb(v,m);function v(){var u=m!==null&&m.apply(this,arguments)||this;return u.isGroup=!0,u.unfoldedWidth=Gm,u.unfoldedHight=$m,u}return v.prototype.initNodeData=function(u){var c=this;m.prototype.initNodeData.call(this,u);var i=[];Array.isArray(u.children)&&(i=u.children),this.children=new Set(i),this.width=Gm,this.height=$m,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=_R,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){c.isFolded&&c.foldGroup(c.isFolded)})},v.prototype.getResizeOutlineStyle=function(){var u=m.prototype.getResizeOutlineStyle.call(this);return u.stroke="none",u},v.prototype.foldGroup=function(u){var c=this;this.setProperty("isFolded",u),this.isFolded=u,u?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var i=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(s){var l=c.graphModel.getElement(s);l.isGroup&&!l.isFolded&&l.foldGroup(u),l.visible=!u,i=i.concat(l.incoming.edges.concat(l.outgoing.edges))}),this.foldEdge(u,i)},v.prototype.getAnchorStyle=function(u){var c=m.prototype.getAnchorStyle.call(this,u);return c.stroke="transparent",c.fill="transparent",c.hover.fill="transparent",c.hover.stroke="transparent",c},v.prototype.foldEdge=function(u,c){var i=this;c.forEach(function(s,l){var y=s.id,b=s.sourceNodeId,x=s.targetNodeId,S=s.startPoint,T=s.endPoint,w=s.type,M=s.properties,j=s.text,R={id:y+"__"+l,sourceNodeId:b,targetNodeId:x,startPoint:S,endPoint:T,type:w,properties:M,text:j==null?void 0:j.value};s.virtual&&i.graphModel.deleteEdgeById(s.id);var _=i.graphModel.group.getNodeGroup(x);_||(_=i.graphModel.getNodeModelById(x));var z=i.graphModel.group.getNodeGroup(b);z||(z=i.graphModel.getNodeModelById(b)),u&&s.visible!==!1&&(i.children.has(b)||i.id===b?(R.startPoint=void 0,R.sourceNodeId=i.id):(R.endPoint=void 0,R.targetNodeId=i.id),(_.id!==i.id||z.id!==i.id)&&i.createVirtualEdge(R),s.visible=!1),!u&&s.visible===!1&&(_&&_.isGroup&&_.isFolded?(R.targetNodeId=_.id,R.endPoint=void 0,i.createVirtualEdge(R)):z&&z.isGroup&&z.isFolded?(R.sourceNodeId=z.id,R.startPoint=void 0,i.createVirtualEdge(R)):s.visible=!0)})},v.prototype.createVirtualEdge=function(u){u.pointsList=void 0;var c=this.graphModel.addEdge(u);c.virtual=!0,c.text.editable=!1,c.isFoldedEdge=!0},v.prototype.isInRange=function(u){var c=u.x1,i=u.y1,s=u.x2,l=u.y2;return c>=this.x-this.width/2&&s<=this.x+this.width/2&&i>=this.y-this.height/2&&l<=this.y+this.height/2},v.prototype.isAllowMoveTo=function(u){var c=u.x1,i=u.y1,s=u.x2,l=u.y2;return{x:c>=this.x-this.width/2&&s<=this.x+this.width/2,y:i>=this.y-this.height/2&&l<=this.y+this.height/2}},v.prototype.setAllowAppendChild=function(u){this.setProperty("groupAddable",u)},v.prototype.addChild=function(u){this.children.add(u)},v.prototype.removeChild=function(u){this.children.delete(u)},v.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},v.prototype.getData=function(){var u=this,c=m.prototype.getData.call(this);c.children=[],this.children.forEach(function(s){var l=u.graphModel.getNodeModelById(s);l&&!l.virtual&&c.children.push(s)});var i=c.properties;return delete i.groupAddable,delete i.isFolded,c},v.prototype.getHistoryData=function(){var u=m.prototype.getData.call(this);u.children=IR(this.children),u.isGroup=!0;var c=u.properties;return delete c.groupAddable,c.isFolded&&(u.x=u.x+this.unfoldedWidth/2-this.foldedWidth/2,u.y=u.y+this.unfoldedHight/2-this.foldedHeight/2),u},v.prototype.isAllowAppendIn=function(u){return!0},v.prototype.toBack=function(){this.zIndex--},v})(mb.model);(function(m){Sb(v,m);function v(){return m!==null&&m.apply(this,arguments)||this}return v.prototype.getControlGroup=function(){var u=this.props.model,c=u.resizable,i=u.properties;return c&&!i.isFolded?m.prototype.getControlGroup.call(this):null},v.prototype.getAddableShape=function(){var u=this.props.model,c=u.width,i=u.height,s=u.x,l=u.y,y=u.radius,b=u.properties;if(!b.groupAddable)return null;var x=this.props.model.getNodeStyle().strokeWidth,S=this.props.model.getAddableOutlineStyle(),T=c+x+8,w=i+x+8;return We.h("rect",Zs(Zs({},S),{width:T,height:w,x:s-T/2,y:l-w/2,rx:y,ry:y}))},v.prototype.getFoldIcon=function(){var u=this.props.model,c=u.x-u.width/2+5,i=u.y-u.height/2+5;if(!u.foldable)return null;var s=We.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:u.properties.isFolded?"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" M"+(c+7)+","+(i+2)+" "+(c+7)+","+(i+10):"M "+(c+3)+","+(i+6)+" "+(c+11)+","+(i+6)+" "});return We.h("g",{},[We.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:u.x-u.width/2+5,y:u.y-u.height/2+5,onClick:function(){u.foldGroup(!u.properties.isFolded)}}),s])},v.prototype.getResizeShape=function(){return We.h("g",{},[this.getAddableShape(),m.prototype.getResizeShape.call(this),this.getFoldIcon()])},v})(mb.view);var BR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],l;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s};globalThis&&globalThis.__spread;var km=globalThis&&globalThis.__assign||function(){return km=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},km.apply(this,arguments)},Um=globalThis&&globalThis.__assign||function(){return Um=Object.assign||function(m){for(var v,u=1,c=arguments.length;u<c;u++){v=arguments[u];for(var i in v)Object.prototype.hasOwnProperty.call(v,i)&&(m[i]=v[i])}return m},Um.apply(this,arguments)},LR=globalThis&&globalThis.__read||function(m,v){var u=typeof Symbol=="function"&&m[Symbol.iterator];if(!u)return m;var c=u.call(m),i,s=[],l;try{for(;(v===void 0||v-- >0)&&!(i=c.next()).done;)s.push(i.value)}catch(y){l={error:y}}finally{try{i&&!i.done&&(u=c.return)&&u.call(c)}finally{if(l)throw l.error}}return s};globalThis&&globalThis.__spread;const zR={class:"control-container"},FR=["title","onMouseenter"],HR=["disabled","onClick"],GR=Hi({__name:"Control",props:{lf:{default:null},catTurboData:{type:Boolean}},emits:["catData"],setup(m,{emit:v}){const u=m,c=Sn(),i=Sn(),s=Sn(-1),l=Sn([{icon:"icon-zoom-out-hs",text:"缩小",size:"18",disabled:!1},{icon:"icon-enlarge-hs",text:"放大",size:"18",disabled:!1},{icon:"icon-full-screen-hs",text:"适应",size:"15",disabled:!1},{icon:"icon-previous-hs",text:"上一步",size:"15",disabled:!0},{icon:"icon-next-step-hs",text:"下一步",size:"17",disabled:!0},{icon:"icon-download-hs",text:"下载图片",size:"17",disabled:!1},{icon:"icon-watch-hs",text:"查看数据",size:"17",disabled:!1}]),y=(x,S)=>{["zoom","zoom","resetZoom","undo","redo","getSnapshot"].forEach((T,w)=>{const M=u.lf;S===1&&M.zoom(!0),S===6&&v("catData"),S===w&&M[T]()})},b=x=>{s.value=x};return Xm(()=>{u.lf.on("history:change",({data:{undoAble:x,redoAble:S}})=>{cr(l)[3].disabled=cr(c).disabled=!x,cr(l)[4].disabled=cr(i).disabled=!S})}),(x,S)=>{const T=_i("el-tooltip");return on(),co("div",zR,[xn("ul",null,[(on(!0),co(Ym,null,Wm(l.value,(w,M)=>(on(),co("li",{key:M,title:w.text,class:"dark:text-bg_color",onMouseenter:mm(j=>b(M),["prevent"]),onMouseleave:S[0]||(S[0]=mm(j=>s.value=-1,["prevent"]))},[Ko(T,{content:w.text,visible:s.value===M,placement:"right"},{default:Vo(()=>[xn("button",{ref_for:!0,ref:"controlButton"+M,disabled:w.disabled,style:bm({cursor:w.disabled===!1?"pointer":"not-allowed",color:w.disabled===!1?"":"#00000040",background:"transparent"}),onClick:j=>y(w,M)},[xn("span",{class:Km("iconfont "+w.icon),style:bm({fontSize:`${w.size}px`})},null,6)],12,HR)]),_:2},1032,["content","visible"])],40,FR))),128))])])}}});const $R=ad(GR,[["__scopeId","data-v-8ed94ee6"]]),kR={class:"node-panel"},UR=["onMousedown"],XR={key:0,class:"shape"},YR={class:"node-label"},WR=Hi({__name:"NodePanel",props:{lf:{default:null},nodeList:{default:null}},setup(m){const v=m,u=Sn({a:"efrwe",b:"wewe"}),c=i=>{v.lf.dnd.startDrag({type:i.type,properties:cr(u)})};return(i,s)=>(on(),co("div",kR,[(on(!0),co(Ym,null,Wm(v.nodeList,l=>(on(),co("div",{class:"node-item dark:text-bg_color",key:l.text,onMousedown:y=>c(l)},[xn("div",{class:Km(["node-item-icon",l.class])},[l.type==="user"||l.type==="time"?(on(),co("div",XR)):Vm("",!0)],2),xn("span",YR,AC(l.text),1)],40,UR))),128))]))}});const KR=ad(WR,[["__scopeId","data-v-9049943f"]]),VR=Hi({__name:"DataDialog",props:{graphData:Object},setup(m){const v=m;return(u,c)=>(on(),ed(cr(CC),{path:"res",deep:3,showLength:!0,data:v.graphData},null,8,["data"]))}}),ZR=ud($R),JR=ud(KR),QR=ud(VR),qR={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function e2(m){const{incoming:v,outgoing:u,properties:c,key:i}=m,{text:s,startPoint:l,endPoint:y,pointsList:b,logicFlowType:x}=c,S={id:i,type:x,sourceNodeId:v[0],targetNodeId:u[0],text:s,startPoint:l,endPoint:y,pointsList:b,properties:{}},T=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(m.properties).forEach(w=>{T.indexOf(w)===-1&&(S.properties[w]=m.properties[w])}),S}function t2(m){const{properties:v,key:u}=m,{x:c,y:i,text:s,logicFlowType:l}=v,y={id:u,type:l,x:c,y:i,text:s,properties:{}},b=["x","y","text","logicFlowType"];return Object.keys(m.properties).forEach(x=>{b.indexOf(x)===-1&&(y.properties[x]=m.properties[x])}),y}function r2(m){const v={nodes:[],edges:[]},u=m.flowElementList;return u&&u.length>0&&u.forEach(c=>{if(c.type===qR.SEQUENCE_FLOW){const i=e2(c);v.edges.push(i)}else{const i=t2(c);v.nodes.push(i)}}),v}const n2=m=>(NC("data-v-3d4a3f8d"),m=m(),DC(),m),o2={class:"card-header"},i2={class:"font-medium"},a2={class:"logic-flow-view"},u2=n2(()=>xn("div",{id:"LF-Turbo"},null,-1)),s2=Hi({name:"FlowChart"}),l2=Hi({...s2,setup(m){const v=Sn(null),u=Sn(null),c=Sn(!1),i=Sn({grid:!0,background:{color:"#f7f9ff"},keyboard:{enabled:!0}}),s=LC;function l(){$s.use(uR),$s.use(aR),$s.use(mR);const x=new $s({...cr(i),container:document.querySelector("#LF-Turbo")});v.value=x,cr(v).setDefaultEdgeType("bpmn:sequenceFlow"),y()}function y(){const x=r2(_C);v.value.render(x)}function b(){u.value=cr(v).getGraphData(),c.value=!0}return Xm(()=>{l()}),(x,S)=>{const T=_i("el-link"),w=_i("el-scrollbar"),M=_i("el-dialog"),j=_i("el-card");return on(),ed(j,{shadow:"never"},{header:Vo(()=>[xn("div",o2,[xn("span",i2,[Om(" 流程图组件，采用开源的 "),Ko(T,{href:"http://logic-flow.org/",target:"_blank",icon:cr(jC)(cr(RC)),style:{"font-size":"16px",margin:"0 4px 5px"}},{default:Vo(()=>[Om(" LogicFlow ")]),_:1},8,["icon"])])])]),default:Vo(()=>[xn("div",a2,[v.value?(on(),ed(cr(ZR),{key:0,class:"demo-control",lf:v.value,catTurboData:!1,onCatData:b},null,8,["lf"])):Vm("",!0),Ko(cr(JR),{lf:v.value,nodeList:cr(s)},null,8,["lf","nodeList"]),u2,Ko(M,{class:"flow-dialog",title:"数据",modelValue:c.value,"onUpdate:modelValue":S[0]||(S[0]=R=>c.value=R),width:"50%"},{default:Vo(()=>[Ko(w,null,{default:Vo(()=>[Ko(cr(QR),{graphData:u.value},null,8,["graphData"])]),_:1})]),_:1},8,["modelValue"])])]),_:1})}}});const v2=ad(l2,[["__scopeId","data-v-3d4a3f8d"]]);export{v2 as default};
