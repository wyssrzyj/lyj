import{T as At}from"./index-da32a6fb.js";import{d as It,a5 as Nt,o as Pt,c as Dt,e as Lt,k as Ot,g as Tt,w as St,u as Rt,i as Ht,_ as jt}from"./index-b9c76e4f.js";var lt={},Ft={get exports(){return lt},set exports($t){lt=$t}};/*
@license

dhtmlxGantt v.8.0.1 Standard

This version of dhtmlxGantt is distributed under GPL 2.0 license and can be legally used in GPL projects.

To use dhtmlxGantt in non-GPL projects (and get Pro version of the product), please obtain Commercial/Enterprise or Ultimate license on our site https://dhtmlx.com/docs/products/dhtmlxGantt/#licensing or contact us at sales@dhtmlx.com

(c) XB Software Ltd.

*/(function($t,Ct){(function(T,C){$t.exports=C()})(window,function(){return function(T){var C={};function u(g){if(C[g])return C[g].exports;var h=C[g]={i:g,l:!1,exports:{}};return T[g].call(h.exports,h,h.exports,u),h.l=!0,h.exports}return u.m=T,u.c=C,u.d=function(g,h,l){u.o(g,h)||Object.defineProperty(g,h,{enumerable:!0,get:l})},u.r=function(g){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(g,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(g,"__esModule",{value:!0})},u.t=function(g,h){if(1&h&&(g=u(g)),8&h||4&h&&typeof g=="object"&&g&&g.__esModule)return g;var l=Object.create(null);if(u.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:g}),2&h&&typeof g!="string")for(var c in g)u.d(l,c,function(r){return g[r]}.bind(null,c));return l},u.n=function(g){var h=g&&g.__esModule?function(){return g.default}:function(){return g};return u.d(h,"a",h),h},u.o=function(g,h){return Object.prototype.hasOwnProperty.call(g,h)},u.p="/codebase/",u(u.s=257)}([function(T,C,u){function g(r){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}var h,l=u(2),c={}.constructor.toString();T.exports={copy:function r(o){var n,t;if(o&&g(o)=="object")switch(!0){case l.isDate(o):t=new Date(o);break;case l.isArray(o):for(t=new Array(o.length),n=0;n<o.length;n++)t[n]=r(o[n]);break;default:for(n in t=function(e){return e.constructor.toString()!==c}(o)?Object.create(o):{},o)Object.prototype.hasOwnProperty.apply(o,[n])&&(t[n]=r(o[n]))}return t||o},defined:function(r){return r!==void 0},mixin:function(r,o,n){for(var t in o)(r[t]===void 0||n)&&(r[t]=o[t]);return r},uid:function(){return h||(h=new Date().valueOf()),++h},bind:function(r,o){return r.bind?r.bind(o):function(){return r.apply(o,arguments)}},event:function(r,o,n,t){r.addEventListener?r.addEventListener(o,n,t!==void 0&&t):r.attachEvent&&r.attachEvent("on"+o,n)},eventRemove:function(r,o,n,t){r.removeEventListener?r.removeEventListener(o,n,t!==void 0&&t):r.detachEvent&&r.detachEvent("on"+o,n)}}},function(T,C){function u(i){var s=0,d=0,f=0,_=0;if(i.getBoundingClientRect){var p=i.getBoundingClientRect(),v=document.body,y=document.documentElement||document.body.parentNode||document.body,m=window.pageYOffset||y.scrollTop||v.scrollTop,k=window.pageXOffset||y.scrollLeft||v.scrollLeft,b=y.clientTop||v.clientTop||0,w=y.clientLeft||v.clientLeft||0;s=p.top+m-b,d=p.left+k-w,f=document.body.offsetWidth-p.right,_=document.body.offsetHeight-p.bottom}else{for(;i;)s+=parseInt(i.offsetTop,10),d+=parseInt(i.offsetLeft,10),i=i.offsetParent;f=document.body.offsetWidth-i.offsetWidth-d,_=document.body.offsetHeight-i.offsetHeight-s}return{y:Math.round(s),x:Math.round(d),width:i.offsetWidth,height:i.offsetHeight,right:Math.round(f),bottom:Math.round(_)}}function g(i){var s=!1,d=!1;if(window.getComputedStyle){var f=window.getComputedStyle(i,null);s=f.display,d=f.visibility}else i.currentStyle&&(s=i.currentStyle.display,d=i.currentStyle.visibility);return s!="none"&&d!="hidden"}function h(i){return!isNaN(i.getAttribute("tabindex"))&&1*i.getAttribute("tabindex")>=0}function l(i){return!{a:!0,area:!0}[i.nodeName.loLowerCase()]||!!i.getAttribute("href")}function c(i){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[i.nodeName.toLowerCase()]||!i.hasAttribute("disabled")}function r(i){if(!i)return"";var s=i.className||"";return s.baseVal&&(s=s.baseVal),s.indexOf||(s=""),t(s)}var o;function n(i){var s;return i.tagName?s=i:(s=(i=i||window.event).target||i.srcElement).shadowRoot&&i.composedPath&&(s=i.composedPath()[0]),s}function t(i){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(i)}function e(){return document.head.createShadowRoot||document.head.attachShadow}function a(i){if(!i||!e())return document.body;for(;i.parentNode&&(i=i.parentNode);)if(i instanceof ShadowRoot)return i.host;return document.body}T.exports={getNodePosition:u,getFocusableNodes:function(i){for(var s=i.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),d=Array.prototype.slice.call(s,0),f=0;f<d.length;f++)d[f].$position=f;for(d.sort(function(p,v){return p.tabIndex===0&&v.tabIndex!==0?1:p.tabIndex!==0&&v.tabIndex===0?-1:p.tabIndex===v.tabIndex?p.$position-v.$position:p.tabIndex<v.tabIndex?-1:1}),f=0;f<d.length;f++){var _=d[f];(h(_)||c(_)||l(_))&&g(_)||(d.splice(f,1),f--)}return d},getScrollSize:function(){var i=document.createElement("div");i.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(i);var s=i.offsetWidth-i.clientWidth;return document.body.removeChild(i),s},getClassName:r,addClassName:function(i,s){s&&i.className.indexOf(s)===-1&&(i.className+=" "+s)},removeClassName:function(i,s){s=s.split(" ");for(var d=0;d<s.length;d++){var f=new RegExp("\\s?\\b"+s[d]+"\\b(?![-_.])","");i.className=i.className.replace(f,"")}},insertNode:function(i,s){o||(o=document.createElement("div")),o.innerHTML=s;var d=o.firstChild;return i.appendChild(d),d},removeNode:function(i){i&&i.parentNode&&i.parentNode.removeChild(i)},getChildNodes:function(i,s){for(var d=i.childNodes,f=d.length,_=[],p=0;p<f;p++){var v=d[p];v.className&&v.className.indexOf(s)!==-1&&_.push(v)}return _},toNode:function(i){return typeof i=="string"?document.getElementById(i)||document.querySelector(i)||document.body:i||document.body},locateClassName:function(i,s,d){var f=n(i),_="";for(d===void 0&&(d=!0);f;){if(_=r(f)){var p=_.indexOf(s);if(p>=0){if(!d)return f;var v=p===0||!t(_.charAt(p-1)),y=p+s.length>=_.length||!t(_.charAt(p+s.length));if(v&&y)return f}}f=f.parentNode}return null},locateAttribute:function(i,s){if(s){for(var d=n(i);d;){if(d.getAttribute&&d.getAttribute(s))return d;d=d.parentNode}return null}},getTargetNode:n,getRelativeEventPosition:function(i,s){var d=document.documentElement,f=u(s);return{x:i.clientX+d.scrollLeft-d.clientLeft-f.x+s.scrollLeft,y:i.clientY+d.scrollTop-d.clientTop-f.y+s.scrollTop}},isChildOf:function(i,s){if(!i||!s)return!1;for(;i&&i!=s;)i=i.parentNode;return i===s},hasClass:function(i,s){return"classList"in i?i.classList.contains(s):new RegExp("\\b"+s+"\\b").test(i.className)},closest:function(i,s){if(i.closest)return i.closest(s);if(i.matches||i.msMatchesSelector||i.webkitMatchesSelector){var d=i;if(!document.documentElement.contains(d))return null;do{if((d.matches||d.msMatchesSelector||d.webkitMatchesSelector).call(d,s))return d;d=d.parentElement||d.parentNode}while(d!==null&&d.nodeType===1);return null}return console.error("Your browser is not supported"),null},getRootNode:a,hasShadowParent:function(i){return!!a(i)},isShadowDomSupported:e,getActiveElement:function(){var i=document.activeElement;return i.shadowRoot&&(i=i.shadowRoot.activeElement),i===document.body&&document.getSelection&&(i=document.getSelection().focusNode||document.body),i}}},function(T,C){function u(r){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}var g={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592e3,quarter:7776e3,year:31536e3};function h(r){return!(!r||u(r)!=="object")&&!!(r.getFullYear&&r.getMonth&&r.getDate)}function l(r,o){var n=[];if(r.filter)return r.filter(o);for(var t=0;t<r.length;t++)o(r[t],t)&&(n[n.length]=r[t]);return n}function c(r){return r===0}T.exports={getSecondsInUnit:function(r){return g[r]||g.hour},forEach:function(r,o){if(r.forEach)r.forEach(o);else for(var n=r.slice(),t=0;t<n.length;t++)o(n[t],t)},arrayMap:function(r,o){if(r.map)return r.map(o);for(var n=r.slice(),t=[],e=0;e<n.length;e++)t.push(o(n[e],e));return t},arrayIncludes:function(r,o){if(r.includes)return r.includes(o);for(var n=0;n<r.length;n++)if(r[n]===o)return!0;return!1},arrayFind:function(r,o){if(r.find)return r.find(o);for(var n=0;n<r.length;n++)if(o(r[n],n))return r[n]},arrayFilter:l,arrayDifference:function(r,o){return l(r,function(n,t){return!o(n,t)})},arraySome:function(r,o){if(r.length===0)return!1;for(var n=0;n<r.length;n++)if(o(r[n],n,r))return!0;return!1},hashToArray:function(r){var o=[];for(var n in r)r.hasOwnProperty(n)&&o.push(r[n]);return o},sortArrayOfHash:function(r,o,n){var t=function(e,a){return e<a};r.sort(function(e,a){return e[o]===a[o]?0:n?t(e[o],a[o]):t(a[o],e[o])})},throttle:function(r,o){var n=!1;return function(){n||(r.apply(null,arguments),n=!0,setTimeout(function(){n=!1},o))}},isArray:function(r){return Array.isArray?Array.isArray(r):r&&r.length!==void 0&&r.pop&&r.push},isDate:h,isValidDate:function(r){return h(r)&&!isNaN(r.getTime())},isStringObject:function(r){return r&&u(r)==="object"&&Function.prototype.toString.call(r.constructor)==="function String() { [native code] }"},isNumberObject:function(r){return r&&u(r)==="object"&&Function.prototype.toString.call(r.constructor)==="function Number() { [native code] }"},isBooleanObject:function(r){return r&&u(r)==="object"&&Function.prototype.toString.call(r.constructor)==="function Boolean() { [native code] }"},delay:function(r,o){var n,t=function e(){e.$cancelTimeout(),e.$pending=!0;var a=Array.prototype.slice.call(arguments);n=setTimeout(function(){r.apply(this,a),e.$pending=!1},o)};return t.$pending=!1,t.$cancelTimeout=function(){clearTimeout(n),t.$pending=!1},t.$execute=function(){var e=Array.prototype.slice.call(arguments);r.apply(this,e),t.$cancelTimeout()},t},objectKeys:function(r){if(Object.keys)return Object.keys(r);var o,n=[];for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&n.push(o);return n},isEventable:function(r){return r.attachEvent&&r.detachEvent},replaceValidZeroId:function(r,o){return c(r)&&!c(o)&&(r="0"),r},checkZeroId:c,findBinary:function(r,o){for(var n,t,e,a=0,i=r.length-1;a<=i;)if(t=+r[n=Math.floor((a+i)/2)],e=+r[n-1],t<o)a=n+1;else{if(!(t>o)){for(;+r[n]==+r[n+1];)n++;return n}if(!isNaN(e)&&e<o)return n-1;i=n-1}return r.length-1}}},function(T,C){T.exports=function(u,g){for(var h in g)g.hasOwnProperty(h)&&(u[h]=g[h]);function l(){this.constructor=u}u.prototype=g===null?Object.create(g):(l.prototype=g.prototype,new l)}},function(T,C){var u=function(){this._silent_mode=!1,this.listeners={}};u.prototype={_silentStart:function(){this._silent_mode=!0},_silentEnd:function(){this._silent_mode=!1}};var g=function(h){var l={},c=0,r=function(){var o=!0;for(var n in l){var t=l[n].apply(h,arguments);o=o&&t}return o};return r.addEvent=function(o,n){if(typeof o=="function"){var t;if(n&&n.id?t=n.id:(t=c,c++),n&&n.once){var e=o;o=function(){e(),r.removeEvent(t)}}return l[t]=o,t}return!1},r.removeEvent=function(o){delete l[o]},r.clear=function(){l={}},r};T.exports=function(h){var l=new u;h.attachEvent=function(c,r,o){c="ev_"+c.toLowerCase(),l.listeners[c]||(l.listeners[c]=g(this)),o&&o.thisObject&&(r=r.bind(o.thisObject));var n=c+":"+l.listeners[c].addEvent(r,o);return o&&o.id&&(n=o.id),n},h.attachAll=function(c){this.attachEvent("listen_all",c)},h.callEvent=function(c,r){if(l._silent_mode)return!0;var o="ev_"+c.toLowerCase(),n=l.listeners;return n.ev_listen_all&&n.ev_listen_all.apply(this,[c].concat(r)),!n[o]||n[o].apply(this,r)},h.checkEvent=function(c){return!!l.listeners["ev_"+c.toLowerCase()]},h.detachEvent=function(c){if(c){var r=l.listeners;for(var o in r)r[o].removeEvent(c);var n=c.split(":");if(r=l.listeners,n.length===2){var t=n[0],e=n[1];r[t]&&r[t].removeEvent(e)}}},h.detachAllEvents=function(){for(var c in l.listeners)l.listeners[c].clear()}}},function(T,C){T.exports=function(u,g,h,l,c){var r=g.getItemIndexByTopPosition(c.y)||0,o=g.getItemIndexByTopPosition(c.y_end)||l.count();return{start:Math.max(0,r-1),end:Math.min(l.count(),o+1)}}},function(T,C){function u(){console.log("Method is not implemented.")}function g(){}g.prototype.render=u,g.prototype.set_value=u,g.prototype.get_value=u,g.prototype.focus=u,T.exports=function(h){return g}},function(T,C){T.exports=function(u){var g=function(){};return g.prototype={show:function(h,l,c,r){},hide:function(){},set_value:function(h,l,c,r){this.get_input(r).value=h},get_value:function(h,l,c){return this.get_input(c).value||""},is_changed:function(h,l,c,r){var o=this.get_value(l,c,r);return o&&h&&o.valueOf&&h.valueOf?o.valueOf()!=h.valueOf():o!=h},is_valid:function(h,l,c,r){return!0},save:function(h,l,c){},get_input:function(h){return h.querySelector("input")},focus:function(h){var l=this.get_input(h);l&&(l.focus&&l.focus(),l.select&&l.select())}},g}},function(T,C){var u=typeof window<"u",g={isIE:u&&(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isIE6:u&&!XMLHttpRequest&&navigator.userAgent.indexOf("MSIE")>=0,isIE7:u&&navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")<0,isIE8:u&&navigator.userAgent.indexOf("MSIE 8.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,isOpera:u&&navigator.userAgent.indexOf("Opera")>=0,isChrome:u&&navigator.userAgent.indexOf("Chrome")>=0,isKHTML:u&&(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0),isFF:u&&navigator.userAgent.indexOf("Firefox")>=0,isIPad:u&&navigator.userAgent.search(/iPad/gi)>=0,isEdge:u&&navigator.userAgent.indexOf("Edge")!=-1,isNode:!u||typeof navigator>"u"};T.exports=g},function(T,C,u){var g=u(0),h=u(4),l=u(1),c=function(){function r(o,n,t,e){o&&(this.$container=l.toNode(o),this.$parent=o),this.$config=g.mixin(n,{headerHeight:33}),this.$gantt=e,this.$domEvents=e._createDomEventScope(),this.$id=n.id||"c"+g.uid(),this.$name="cell",this.$factory=t,h(this)}return r.prototype.destructor=function(){this.$parent=this.$container=this.$view=null,this.$gantt.$services.getService("mouseEvents").detach("click","gantt_header_arrow",this._headerClickHandler),this.$domEvents.detachAll(),this.callEvent("onDestroy",[]),this.detachAllEvents()},r.prototype.cell=function(o){return null},r.prototype.scrollTo=function(o,n){var t=this.$view;this.$config.html&&(t=this.$view.firstChild),1*o==o&&(t.scrollLeft=o),1*n==n&&(t.scrollTop=n)},r.prototype.clear=function(){this.getNode().innerHTML="",this.getNode().className="gantt_layout_content",this.getNode().style.padding="0"},r.prototype.resize=function(o){if(this.$parent)return this.$parent.resize(o);o===!1&&(this.$preResize=!0);var n=this.$container,t=n.offsetWidth,e=n.offsetHeight,a=this.getSize();n===document.body&&(t=document.body.offsetWidth,e=document.body.offsetHeight),t<a.minWidth&&(t=a.minWidth),t>a.maxWidth&&(t=a.maxWidth),e<a.minHeight&&(e=a.minHeight),e>a.maxHeight&&(e=a.maxHeight),this.setSize(t,e),this.$preResize,this.$preResize=!1},r.prototype.hide=function(){this._hide(!0),this.resize()},r.prototype.show=function(o){this._hide(!1),o&&this.$parent&&this.$parent.show(),this.resize()},r.prototype._hide=function(o){if(o===!0&&this.$view.parentNode)this.$view.parentNode.removeChild(this.$view);else if(o===!1&&!this.$view.parentNode){var n=this.$parent.cellIndex(this.$id);this.$parent.moveView(this,n)}this.$config.hidden=o},r.prototype.$toHTML=function(o,n){o===void 0&&(o=""),n=[n||"",this.$config.css||""].join(" ");var t=this.$config,e="";return t.raw?o=typeof t.raw=="string"?t.raw:"":(o||(o="<div class='gantt_layout_content' "+(n?" class='"+n+"' ":"")+" >"+(t.html||"")+"</div>"),t.header&&(e="<div class='gantt_layout_header'>"+(t.canCollapse?"<div class='gantt_layout_header_arrow'></div>":"")+"<div class='gantt_layout_header_content'>"+t.header+"</div></div>")),"<div class='gantt_layout_cell "+n+"' data-cell-id='"+this.$id+"'>"+e+o+"</div>"},r.prototype.$fill=function(o,n){this.$view=o,this.$parent=n,this.init()},r.prototype.getNode=function(){return this.$view.querySelector("gantt_layout_cell")||this.$view},r.prototype.init=function(){var o=this;this._headerClickHandler=function(n){l.locateAttribute(n,"data-cell-id")==o.$id&&o.toggle()},this.$gantt.$services.getService("mouseEvents").delegate("click","gantt_header_arrow",this._headerClickHandler),this.callEvent("onReady",[])},r.prototype.toggle=function(){this.$config.collapsed=!this.$config.collapsed,this.resize()},r.prototype.getSize=function(){var o={height:this.$config.height||0,width:this.$config.width||0,gravity:this.$config.gravity||1,minHeight:this.$config.minHeight||0,minWidth:this.$config.minWidth||0,maxHeight:this.$config.maxHeight||1e11,maxWidth:this.$config.maxWidth||1e11};if(this.$config.collapsed){var n=this.$config.mode==="x";o[n?"width":"height"]=o[n?"maxWidth":"maxHeight"]=this.$config.headerHeight}return o},r.prototype.getContentSize=function(){var o=this.$lastSize.contentX;o!==1*o&&(o=this.$lastSize.width);var n=this.$lastSize.contentY;return n!==1*n&&(n=this.$lastSize.height),{width:o,height:n}},r.prototype._getBorderSizes=function(){var o={top:0,right:0,bottom:0,left:0,horizontal:0,vertical:0};return this._currentBorders&&(this._currentBorders[this._borders.left]&&(o.left=1,o.horizontal++),this._currentBorders[this._borders.right]&&(o.right=1,o.horizontal++),this._currentBorders[this._borders.top]&&(o.top=1,o.vertical++),this._currentBorders[this._borders.bottom]&&(o.bottom=1,o.vertical++)),o},r.prototype.setSize=function(o,n){this.$view.style.width=o+"px",this.$view.style.height=n+"px";var t=this._getBorderSizes(),e=n-t.vertical,a=o-t.horizontal;this.$lastSize={x:o,y:n,contentX:a,contentY:e},this.$config.header?this._sizeHeader():this._sizeContent()},r.prototype._borders={left:"gantt_layout_cell_border_left",right:"gantt_layout_cell_border_right",top:"gantt_layout_cell_border_top",bottom:"gantt_layout_cell_border_bottom"},r.prototype._setBorders=function(o,n){n||(n=this);var t=n.$view;for(var e in this._borders)l.removeClassName(t,this._borders[e]);typeof o=="string"&&(o=[o]);var a={};for(e=0;e<o.length;e++)l.addClassName(t,o[e]),a[o[e]]=!0;n._currentBorders=a},r.prototype._sizeContent=function(){var o=this.$view.childNodes[0];o&&o.className=="gantt_layout_content"&&(o.style.height=this.$lastSize.contentY+"px")},r.prototype._sizeHeader=function(){var o=this.$lastSize;o.contentY-=this.$config.headerHeight;var n=this.$view.childNodes[0],t=this.$view.childNodes[1],e=this.$config.mode==="x";if(this.$config.collapsed)if(t.style.display="none",e){n.className="gantt_layout_header collapsed_x",n.style.width=o.y+"px";var a=Math.floor(o.y/2-o.x/2);n.style.transform="rotate(90deg) translate("+a+"px, "+a+"px)",t.style.display="none"}else n.className="gantt_layout_header collapsed_y";else n.className=e?"gantt_layout_header":"gantt_layout_header vertical",n.style.width="auto",n.style.transform="",t.style.display="",t.style.height=o.contentY+"px";n.style.height=this.$config.headerHeight+"px"},r}();T.exports=c},function(T,C,u){var g=u(8);T.exports=function(h){return g.isNode||!h.$root}},function(T,C){T.exports=function(u,g,h,l){return(l=g?g.config:l)&&l.placeholder_task&&h.exists(u)?h.getItem(u).type===l.types.placeholder:!1}},function(T,C,u){var g=u(3),h=u(29);T.exports=function(l){var c=u(6)(l);function r(){return c.apply(this,arguments)||this}return g(r,c),r.prototype.render=function(o){var n="<div class='gantt_cal_ltext' style='height:"+((o.height||"23")+"px")+";'>";return n+=h.getHtmlSelect(o.options,[{key:"style",value:"width:100%;"}]),n+="</div>"},r.prototype.set_value=function(o,n,t,e){var a=o.firstChild;!a._dhx_onchange&&e.onchange&&(a.onchange=e.onchange,a._dhx_onchange=!0),n===void 0&&(n=(a.options[0]||{}).value),a.value=n||""},r.prototype.get_value=function(o){return o.firstChild.value},r.prototype.focus=function(o){var n=o.firstChild;l._focus(n,!0)},r}},function(T,C){T.exports=function(u,g,h,l,c){if(!u.start_date||!u.end_date)return null;var r=h.getItemTop(u.id),o=h.getItemHeight(u.id);if(r>g.y_end||r+o<g.y)return!1;var n=h.posFromDate(u.start_date),t=h.posFromDate(u.end_date),e=Math.min(n,t)-200,a=Math.max(n,t)+200;return!(e>g.x_end||a<g.x)}},function(T,C){T.exports=function(u){return u.config.smart_rendering&&u._smart_render}},function(T,C){function u(h){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(h)}var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch{(typeof window>"u"?"undefined":u(window))==="object"&&(g=window)}T.exports=g},function(T,C,u){(function(g){var h;h=typeof window<"u"?window:g,T.exports=h}).call(this,u(15))},function(T,C,u){var g=u(0);T.exports={createDropTargetObject:function(h){var l={targetParent:null,targetIndex:0,targetId:null,child:!1,nextSibling:!1,prevSibling:!1};return h&&g.mixin(l,h,!0),l},nextSiblingTarget:function(h,l,c){var r=this.createDropTargetObject();return r.targetId=l,r.nextSibling=!0,r.targetParent=c.getParent(r.targetId),r.targetIndex=c.getBranchIndex(r.targetId),(c.getParent(h)!=r.targetParent||r.targetIndex<c.getBranchIndex(h))&&(r.targetIndex+=1),r},prevSiblingTarget:function(h,l,c){var r=this.createDropTargetObject();return r.targetId=l,r.prevSibling=!0,r.targetParent=c.getParent(r.targetId),r.targetIndex=c.getBranchIndex(r.targetId),c.getParent(h)==r.targetParent&&r.targetIndex>c.getBranchIndex(h)&&(r.targetIndex-=1),r},firstChildTarget:function(h,l,c){var r=this.createDropTargetObject();return r.targetId=l,r.targetParent=r.targetId,r.targetIndex=0,r.child=!0,r},lastChildTarget:function(h,l,c){var r=c.getChildren(l),o=this.createDropTargetObject();return o.targetId=r[r.length-1],o.targetParent=l,o.targetIndex=r.length,o.nextSibling=!0,o}}},function(T,C,u){var g=u(14);T.exports=function(h,l,c,r){var o=l.width[h];if(o<=0)return!1;if(!r.config.smart_rendering||g(r))return!0;var n=l.left[h]-o,t=l.left[h]+o;return n<=c.x_end&&t>=c.x}},function(T,C){T.exports=function(u,g){var h=0,l=u.left.length-1;if(g)for(var c=0;c<u.left.length;c++){var r=u.left[c];if(r<g.x&&(h=c),r>g.x_end){l=c;break}}return{start:h,end:l}}},function(T,C){T.exports=function(u,g,h){return{top:g.getItemTop(u.id),height:g.getItemHeight(u.id),left:0,right:1/0}}},function(T,C){T.exports=function(u){function g(r,o,n){if(!u._isAllowedUnscheduledTask(r)&&u._isTaskInTimelineLimits(r)){var t=o.getItemPosition(r),e=n,a=o.$getTemplates(),i=u.getTaskType(r.type),s=o.getBarHeight(r.id,i==e.types.milestone),d=0;i==e.types.milestone&&(d=(s-t.height)/2);var f=Math.floor((o.getItemHeight(r.id)-s)/2);i==e.types.milestone&&(t.left-=Math.round(s/2),t.width=s);var _=document.createElement("div"),p=Math.round(t.width);o.$config.item_attribute&&(_.setAttribute(o.$config.item_attribute,r.id),_.setAttribute(o.$config.bind+"_id",r.id)),e.show_progress&&i!=e.types.milestone&&function(w,x,$,S,E){var M=1*w.progress||0;$=Math.max($-2,0);var D=document.createElement("div"),A=Math.round($*M);A=Math.min($,A),w.progressColor&&(D.style.backgroundColor=w.progressColor,D.style.opacity=1),D.style.width=A+"px",D.className="gantt_task_progress",D.innerHTML=E.progress_text(w.start_date,w.end_date,w),S.rtl&&(D.style.position="absolute",D.style.right="0px");var I=document.createElement("div");if(I.className="gantt_task_progress_wrapper",I.appendChild(D),x.appendChild(I),u.config.drag_progress&&!u.isReadonly(w)){var P=document.createElement("div"),H=A;S.rtl&&(H=$-A),P.style.left=H+"px",P.className="gantt_task_progress_drag",D.appendChild(P),x.appendChild(P)}}(r,_,p,e,a);var v=function(w,x,$){var S=document.createElement("div");return u.getTaskType(w.type)!=u.config.types.milestone?S.innerHTML=$.task_text(w.start_date,w.end_date,w):u.getTaskType(w.type)==u.config.types.milestone&&x&&(S.style.height=S.style.width=x+"px"),S.className="gantt_task_content",S}(r,p,a);r.textColor&&(v.style.color=r.textColor),_.appendChild(v);var y=function(w,x,$,S){var E=S.$getConfig(),M=[w];x&&M.push(x);var D=u.getState(),A=u.getTask($);if(u.getTaskType(A.type)==E.types.milestone?M.push("gantt_milestone"):u.getTaskType(A.type)==E.types.project&&M.push("gantt_project"),M.push("gantt_bar_"+u.getTaskType(A.type)),u.isSummaryTask(A)&&M.push("gantt_dependent_task"),u.isSplitTask(A)&&(E.open_split_tasks&&!A.$open||!E.open_split_tasks)&&M.push("gantt_split_parent"),E.select_task&&u.isSelectedTask($)&&M.push("gantt_selected"),$==D.drag_id&&(M.push("gantt_drag_"+D.drag_mode),D.touch_drag&&M.push("gantt_touch_"+D.drag_mode)),D.link_source_id==$&&M.push("gantt_link_source"),D.link_target_id==$&&M.push("gantt_link_target"),E.highlight_critical_path&&u.isCriticalTask&&u.isCriticalTask(A)&&M.push("gantt_critical_task"),D.link_landing_area&&D.link_target_id&&D.link_source_id&&D.link_target_id!=D.link_source_id&&(D.link_target_id==$||D.link_source_id==$)){var I=D.link_source_id,P=D.link_from_start,H=D.link_to_start,O=u.isLinkAllowed(I,$,P,H),V="";V=O?H?"link_start_allow":"link_finish_allow":H?"link_start_deny":"link_finish_deny",M.push(V)}return M.join(" ")}("gantt_task_line",a.task_class(r.start_date,r.end_date,r),r.id,o);(r.color||r.progressColor||r.textColor)&&(y+=" gantt_task_inline_color"),t.width<20&&(y+=" gantt_thin_task"),_.className=y;var m=["left:"+t.left+"px","top:"+(f+t.top)+"px","height:"+(i==e.types.milestone?t.height:s)+"px","line-height:"+Math.max(s<30?s-2:s,0)+"px","width:"+p+"px"];r.color&&m.push("background-color:"+r.color),r.textColor&&m.push("color:"+r.textColor),_.style.cssText=m.join(";");var k=function(w,x,$,S){var E="gantt_left "+l(!x.rtl,w),M=null;return S&&(M={type:"marginRight",value:S}),h(w,$.leftside_text,E,M)}(r,e,a,d);k&&_.appendChild(k),(k=function(w,x,$,S){var E="gantt_right "+l(!!x.rtl,w),M=null;return S&&(M={type:"marginLeft",value:S}),h(w,$.rightside_text,E,M)}(r,e,a,d))&&_.appendChild(k),u._waiAria.setTaskBarAttr(r,_);var b=u.getState();return u.isReadonly(r)||(e.drag_resize&&!u.isSummaryTask(r)&&i!=e.types.milestone&&c(_,"gantt_task_drag",r,function(w){var x=document.createElement("div");return x.className=w,x},e),e.drag_links&&e.show_links&&c(_,"gantt_link_control",r,function(w){var x=document.createElement("div");x.className=w,x.style.cssText=["height:"+s+"px","line-height:"+s+"px"].join(";");var $=document.createElement("div");$.className="gantt_link_point";var S=!1;return b.link_source_id&&e.touch&&(S=!0),$.style.display=S?"block":"",x.appendChild($),x},e,d)),_}}function h(r,o,n,t){if(!o)return null;var e=o(r.start_date,r.end_date,r);if(!e)return null;var a=document.createElement("div");return a.className="gantt_side_content "+n,a.innerHTML=e,t&&(a.style[t.type]=Math.abs(t.value)+"px"),a}function l(r,o){var n=function(d){return d?{$source:[u.config.links.start_to_start],$target:[u.config.links.start_to_start,u.config.links.finish_to_start]}:{$source:[u.config.links.finish_to_start,u.config.links.finish_to_finish],$target:[u.config.links.finish_to_finish]}}(r);for(var t in n)for(var e=o[t],a=0;a<e.length;a++)for(var i=u.getLink(e[a]),s=0;s<n[t].length;s++)if(i.type==n[t][s])return"gantt_link_crossing";return""}function c(r,o,n,t,e,a){var i,s=u.getState();+n.start_date>=+s.min_date&&((i=t([o,e.rtl?"task_right":"task_left","task_start_date"].join(" "))).setAttribute("data-bind-property","start_date"),a&&(i.style.marginLeft=a+"px"),r.appendChild(i)),+n.end_date<=+s.max_date&&((i=t([o,e.rtl?"task_left":"task_right","task_end_date"].join(" "))).setAttribute("data-bind-property","end_date"),a&&(i.style.marginRight=a+"px"),r.appendChild(i))}return function(r,o,n){var t=(n=o.$getConfig()).type_renderers[u.getTaskType(r.type)],e=g;return t?t.call(u,r,function(a){return e.call(u,a,o,n)},o):e.call(u,r,o,n)}}},function(T,C,u){var g=u(26),h=u(4),l=u(0),c=u(2),r=u(36),o=u(106),n=function(t,e,a,i){this.$config=l.mixin({},e||{}),this.$scaleHelper=new g(i),this.$gantt=i,this._posFromDateCache={},this._timelineDragScroll=null,l.mixin(this,r(this)),h(this)};n.prototype={init:function(t){t.innerHTML+="<div class='gantt_task' style='width:inherit;height:inherit;'></div>",this.$task=t.childNodes[0],this.$task.innerHTML="<div class='gantt_task_scale'></div><div class='gantt_data_area'></div>",this.$task_scale=this.$task.childNodes[0],this.$task_data=this.$task.childNodes[1],this.$task_data.innerHTML="<div class='gantt_task_bg'></div><div class='gantt_links_area'></div><div class='gantt_bars_area'></div>",this.$task_bg=this.$task_data.childNodes[0],this.$task_links=this.$task_data.childNodes[1],this.$task_bars=this.$task_data.childNodes[2],this._tasks={col_width:0,width:[],full_width:0,trace_x:[],rendered:{}};var e=this.$getConfig(),a=e[this.$config.bind+"_attribute"],i=e[this.$config.bindLinks+"_attribute"];!a&&this.$config.bind&&(a="data-"+this.$config.bind+"-id"),!i&&this.$config.bindLinks&&(i="data-"+this.$config.bindLinks+"-id"),this.$config.item_attribute=a||null,this.$config.link_attribute=i||null;var s=this._createLayerConfig();this.$config.layers||(this.$config.layers=s.tasks),this.$config.linkLayers||(this.$config.linkLayers=s.links),this._attachLayers(this.$gantt),this.callEvent("onReady",[]),this.$gantt.ext.dragTimeline&&(this._timelineDragScroll=this.$gantt.ext.dragTimeline.create(),this._timelineDragScroll.attach(this))},setSize:function(t,e){var a=this.$getConfig();if(1*t===t&&(this.$config.width=t),1*e===e){this.$config.height=e;var i=Math.max(this.$config.height-a.scale_height);this.$task_data.style.height=i+"px"}this.refresh(),this.$task_bg.style.backgroundImage="",a.smart_rendering&&this.$config.rowStore?this.$task_bg.style.height=this.getTotalHeight()+"px":this.$task_bg.style.height="";for(var s=this._tasks,d=this.$task_data.childNodes,f=0,_=d.length;f<_;f++){var p=d[f];p.hasAttribute("data-layer")&&p.style&&(p.style.width=s.full_width+"px")}},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$task.offsetWidth},getSize:function(){var t=this.$getConfig(),e=this.$config.rowStore?this.getTotalHeight():0,a=this.isVisible()?this._tasks.full_width:0;return{x:this.isVisible()?this.$config.width:0,y:this.isVisible()?this.$config.height:0,contentX:this.isVisible()?a:0,contentY:this.isVisible()?t.scale_height+e:0,scrollHeight:this.isVisible()?e:0,scrollWidth:this.isVisible()?a:0}},scrollTo:function(t,e){if(this.isVisible()){var a=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*e===e&&(this.$config.scrollTop=e,this.$task_data.scrollTop=this.$config.scrollTop,a=!0),1*t===t&&(this.$task.scrollLeft=t,this.$config.scrollLeft=this.$task.scrollLeft,this._refreshScales(),a=!0),a&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},_refreshScales:function(){if(this.isVisible()&&this.$getConfig().smart_scales){var t=this.getViewPort(),e=this._scales;this.$task_scale.innerHTML=this._getScaleChunkHtml(e,t.x,t.x_end)}},getViewPort:function(){var t=this.$config.scrollLeft||0,e=this.$config.scrollTop||0,a=this.$config.height||0,i=this.$config.width||0;return{y:e,y_end:e+a,x:t,x_end:t+i,height:a,width:i}},_createLayerConfig:function(){var t=this,e=function(){return t.isVisible()};return{tasks:[{expose:!0,renderer:this.$gantt.$ui.layers.taskBar(),container:this.$task_bars,filter:[e,function(a,i){return!i.hide_bar}]},{renderer:this.$gantt.$ui.layers.taskSplitBar(),filter:[e],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskRollupBar(),filter:[e],container:this.$task_bars,append:!0},{renderer:this.$gantt.$ui.layers.taskBg(),container:this.$task_bg,filter:[e]}],links:[{expose:!0,renderer:this.$gantt.$ui.layers.link(),container:this.$task_links,filter:[e]}]}},_attachLayers:function(t){this._taskLayers=[],this._linkLayers=[];var e=this,a=this.$gantt.$services.getService("layers");if(this.$config.bind){this._bindStore();var i=a.getDataRender(this.$config.bind);i||(i=a.createDataRender({name:this.$config.bind,defaultContainer:function(){return e.$task_data}})),i.container=function(){return e.$task_data};for(var s=this.$config.layers,d=0;s&&d<s.length;d++){typeof(v=s[d])=="string"&&(v=this.$gantt.$ui.layers[v]()),(typeof v=="function"||v&&v.render&&v.update)&&(v={renderer:v}),v.view=this;var f=i.addLayer(v);this._taskLayers.push(f),v.expose&&(this._taskRenderer=i.getLayer(f))}this._initStaticBackgroundRender()}if(this.$config.bindLinks){e.$config.linkStore=e.$gantt.getDatastore(e.$config.bindLinks);var _=a.getDataRender(this.$config.bindLinks);_||(_=a.createDataRender({name:this.$config.bindLinks,defaultContainer:function(){return e.$task_data}}));var p=this.$config.linkLayers;for(d=0;p&&d<p.length;d++){var v;typeof v=="string"&&(v=this.$gantt.$ui.layers[v]()),(v=p[d]).view=this;var y=_.addLayer(v);this._taskLayers.push(y),p[d].expose&&(this._linkRenderer=_.getLayer(y))}}},_initStaticBackgroundRender:function(){var t=this,e=o.create(),a=t.$config.rowStore;a&&(this._staticBgHandler=a.attachEvent("onStoreUpdated",function(i,s,d){if(i===null&&t.isVisible()){var f=t.$getConfig();if(f.static_background||f.timeline_placeholder){var _=t.$gantt.getDatastore(t.$config.bind),p=t.$task_bg_static;if(p||((p=document.createElement("div")).className="gantt_task_bg",t.$task_bg_static=p,t.$task_bg.nextSibling?t.$task_data.insertBefore(p,t.$task_bg.nextSibling):t.$task_data.appendChild(p)),_){var v=t.getTotalHeight();f.timeline_placeholder&&(v=f.timeline_placeholder.height||t.$task_data.offsetHeight||99999),e.render(p,f,t.getScale(),v,t.getItemHeight(s?s.id:null))}}else f.static_background&&t.$task_bg_static&&t.$task_bg_static.parentNode&&t.$task_bg_static.parentNode.removeChild(t.$task_bg_static)}}),this.attachEvent("onDestroy",function(){e.destroy()}),this._initStaticBackgroundRender=function(){})},_clearLayers:function(t){var e=this.$gantt.$services.getService("layers"),a=e.getDataRender(this.$config.bind),i=e.getDataRender(this.$config.bindLinks);if(this._taskLayers)for(var s=0;s<this._taskLayers.length;s++)a.removeLayer(this._taskLayers[s]);if(this._linkLayers)for(s=0;s<this._linkLayers.length;s++)i.removeLayer(this._linkLayers[s]);this._linkLayers=[],this._taskLayers=[]},_render_tasks_scales:function(){var t=this.$getConfig(),e="",a=0,i=0,s=this.$gantt.getState();if(this.isVisible()){var d=this.$scaleHelper,f=this._getScales();i=t.scale_height;var _=this.$config.width;t.autosize!="x"&&t.autosize!="xy"||(_=Math.max(t.autosize_min_width,0));var p=d.prepareConfigs(f,t.min_column_width,_,i-1,s.min_date,s.max_date,t.rtl),v=this._tasks=p[p.length-1];this._scales=p,this._posFromDateCache={},e=this._getScaleChunkHtml(p,0,this.$config.width),a=v.full_width+"px",i+="px"}this.$task_scale.style.height=i,this.$task_data.style.width=this.$task_scale.style.width=a,this.$task_scale.innerHTML=e},_getScaleChunkHtml:function(t,e,a){for(var i=[],s=this.$gantt.templates.scale_row_class,d=0;d<t.length;d++){var f="gantt_scale_line",_=s(t[d]);_&&(f+=" "+_),i.push('<div class="'+f+'" style="height:'+t[d].height+"px;position:relative;line-height:"+t[d].height+'px">'+this._prepareScaleHtml(t[d],e,a)+"</div>")}return i.join("")},_prepareScaleHtml:function(t,e,a){var i=this.$getConfig(),s=this.$gantt.templates,d=[],f=null,_=null,p=t.format||t.template||t.date;typeof p=="string"&&(p=this.$gantt.date.date_to_str(p));var v=0,y=t.count;!i.smart_scales||isNaN(e)||isNaN(a)||(v=c.findBinary(t.left,e),y=c.findBinary(t.left,a)+1),_=t.css||function(){},!t.css&&i.inherit_scale_class&&(_=s.scale_cell_class);for(var m=v;m<y&&t.trace_x[m];m++){f=new Date(t.trace_x[m]);var k=p.call(this,f),b=t.width[m],w=t.height,x=t.left[m],$="",S="",E="";if(b){$="width:"+b+"px;height:"+w+"px;"+(i.smart_scales?"position:absolute;left:"+x+"px":""),E="gantt_scale_cell"+(m==t.count-1?" gantt_last_cell":""),(S=_.call(this,f))&&(E+=" "+S);var M="<div class='"+E+"'"+this.$gantt._waiAria.getTimelineCellAttr(k)+" style='"+$+"'>"+k+"</div>";d.push(M)}}return d.join("")},dateFromPos:function(t){var e=this._tasks;if(t<0||t>e.full_width||!e.full_width)return null;var a=c.findBinary(this._tasks.left,t),i=this._tasks.left[a],s=e.width[a]||e.col_width,d=0;s&&(d=(t-i)/s,e.rtl&&(d=1-d));var f=0;return d&&(f=this._getColumnDuration(e,e.trace_x[a])),new Date(e.trace_x[a].valueOf()+Math.round(d*f))},posFromDate:function(t){if(!this.isVisible()||!t)return 0;var e=String(t.valueOf());if(this._posFromDateCache[e]!==void 0)return this._posFromDateCache[e];var a=this.columnIndexByDate(t);this.$gantt.assert(a>=0,"Invalid day index");var i=Math.floor(a),s=a%1,d=this._tasks.left[Math.min(i,this._tasks.width.length-1)];i==this._tasks.width.length&&(d+=this._tasks.width[this._tasks.width.length-1]),s&&(i<this._tasks.width.length?d+=this._tasks.width[i]*(s%1):d+=1);var f=Math.round(d);return this._posFromDateCache[e]=f,Math.round(f)},_getNextVisibleColumn:function(t,e,a){for(var i=+e[t],s=t;a[i];)i=+e[++s];return s},_getPrevVisibleColumn:function(t,e,a){for(var i=+e[t],s=t;a[i];)i=+e[--s];return s},_getClosestVisibleColumn:function(t,e,a){var i=this._getNextVisibleColumn(t,e,a);return e[i]||(i=this._getPrevVisibleColumn(t,e,a)),i},columnIndexByDate:function(t){var e=new Date(t).valueOf(),a=this._tasks.trace_x_ascending,i=this._tasks.ignore_x,s=this.$gantt.getState();if(e<=s.min_date)return this._tasks.rtl?a.length:0;if(e>=s.max_date)return this._tasks.rtl?0:a.length;var d=c.findBinary(a,e),f=this._getClosestVisibleColumn(d,a,i),_=a[f],p=this._tasks.trace_index_transition;if(!_)return p?p[0]:0;var v=(t-a[f])/this._getColumnDuration(this._tasks,a[f]);return p?p[f]+(1-v):f+v},getItemPosition:function(t,e,a){var i,s,d;return this._tasks.rtl?(s=this.posFromDate(e||t.start_date),i=this.posFromDate(a||t.end_date)):(i=this.posFromDate(e||t.start_date),s=this.posFromDate(a||t.end_date)),d=Math.max(s-i,0),{left:i,top:this.getItemTop(t.id),height:this.getBarHeight(t.id),width:d,rowHeight:this.getItemHeight(t.id)}},getBarHeight:function(t,e){var a=this.$getConfig(),i=this.$config.rowStore.getItem(t),s=i.task_height||i.bar_height||a.bar_height||a.task_height,d=this.getItemHeight(t);return s=="full"&&(s=d-(a.task_height_offset||5)),s=Math.min(s,d),e&&(s=Math.round(s/Math.sqrt(2))),Math.max(s,0)},getScale:function(){return this._tasks},_getScales:function(){var t=this.$getConfig(),e=this.$scaleHelper,a=[e.primaryScale(t)].concat(e.getSubScales(t));return e.sortScales(a),a},_getColumnDuration:function(t,e){return this.$gantt.date.add(e,t.step,t.unit)-e},_bindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=t,t&&!t._timelineCacheAttached){var e=this;t._timelineCacheAttached=t.attachEvent("onBeforeFilter",function(){e._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var t=this.$gantt.getDatastore(this.$config.bind);t&&t._timelineCacheAttached&&(t.detachEvent(t._timelineCacheAttached),t._timelineCacheAttached=!1)}},refresh:function(){this._bindStore(),this.$config.bindLinks&&(this.$config.linkStore=this.$gantt.getDatastore(this.$config.bindLinks)),this._resetTopPositionHeight(),this._resetHeight(),this._initStaticBackgroundRender(),this._render_tasks_scales()},destructor:function(){var t=this.$gantt;this._clearLayers(t),this._unbindStore(),this.$task=null,this.$task_scale=null,this.$task_data=null,this.$task_bg=null,this.$task_links=null,this.$task_bars=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.$config.linkStore&&(this.$config.linkStore=null),this._timelineDragScroll&&(this._timelineDragScroll.destructor(),this._timelineDragScroll=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},T.exports=n},function(T,C){T.exports=function(u,g,h){return{top:g.getItemTop(u.id),height:g.getItemHeight(u.id),left:0,right:1/0}}},function(T,C){T.exports=function(u){var g=[];return{delegate:function(h,l,c,r){g.push([h,l,c,r]),u.$services.getService("mouseEvents").delegate(h,l,c,r)},destructor:function(){for(var h=u.$services.getService("mouseEvents"),l=0;l<g.length;l++){var c=g[l];h.detach(c[0],c[1],c[2],c[3])}g=[]}}}},function(T,C,u){var g=u(1),h=u(0),l=u(4),c=u(187),r=u(36),o=u(185),n=u(184).default,t=function(e,a,i,s){this.$config=h.mixin({},a||{}),this.$gantt=s,this.$parent=e,l(this),this.$state={},h.mixin(this,r(this))};t.prototype={init:function(e){var a=this.$gantt,i=a._waiAria.gridAttrString(),s=a._waiAria.gridDataAttrString(),d=this.$getConfig(),f=d.reorder_grid_columns||!1;this.$config.reorder_grid_columns!==void 0&&(f=this.$config.reorder_grid_columns),e.innerHTML="<div class='gantt_grid' style='height:inherit;width:inherit;' "+i+"></div>",this.$grid=e.childNodes[0],this.$grid.innerHTML="<div class='gantt_grid_scale' "+a._waiAria.gridScaleRowAttrString()+"></div><div class='gantt_grid_data' "+s+"></div>",this.$grid_scale=this.$grid.childNodes[0],this.$grid_data=this.$grid.childNodes[1];var _=d[this.$config.bind+"_attribute"];if(!_&&this.$config.bind&&(_="data-"+this.$config.bind+"-id"),this.$config.item_attribute=_||null,!this.$config.layers){var p=this._createLayerConfig();this.$config.layers=p}var v=c(a,this);v.init(),this._renderHeaderResizers=v.doOnRender,this._mouseDelegates=u(24)(a),o(a,this).init(),this._addLayers(this.$gantt),this._initEvents(),f&&(this._columnDND=new n(a,this),this._columnDND.init()),this.callEvent("onReady",[])},_validateColumnWidth:function(e,a){var i=e[a];if(i&&i!="*"){var s=this.$gantt,d=1*i;isNaN(d)?s.assert(!1,"Wrong "+a+" value of column "+e.name):e[a]=d}},setSize:function(e,a){this.$config.width=this.$state.width=e,this.$config.height=this.$state.height=a;for(var i,s=this.getGridColumns(),d=0,f=(k=this.$getConfig()).grid_elastic_columns,_=0,p=s.length;_<p;_++)this._validateColumnWidth(s[_],"min_width"),this._validateColumnWidth(s[_],"max_width"),this._validateColumnWidth(s[_],"width"),d+=1*s[_].width;if(!isNaN(d)&&this.$config.scrollable||(d=i=this._setColumnsWidth(e+1)),this.$config.scrollable&&f&&!isNaN(d)){var v="width";f=="min_width"&&(v="min_width");var y=0;s.forEach(function(w){y+=w[v]||k.min_grid_column_width}),y--;var m=Math.max(y,e);d=this._setColumnsWidth(m),i=e}this.$config.scrollable?(this.$grid_scale.style.width=d+"px",this.$grid_data.style.width=d+"px"):(this.$grid_scale.style.width="inherit",this.$grid_data.style.width="inherit"),this.$config.width-=1;var k=this.$getConfig();i!==e&&(i!==void 0?(k.grid_width=i,this.$config.width=i-1):isNaN(d)||(this._setColumnsWidth(d),k.grid_width=d,this.$config.width=d-1));var b=Math.max(this.$state.height-k.scale_height,0);this.$grid_data.style.height=b+"px",this.refresh()},getSize:function(){var e=this.$getConfig(),a=this.$config.rowStore?this.getTotalHeight():0,i=this._getGridWidth();return{x:this.$state.width,y:this.$state.height,contentX:this.isVisible()?i:0,contentY:this.isVisible()?e.scale_height+a:0,scrollHeight:this.isVisible()?a:0,scrollWidth:this.isVisible()?i:0}},_bindStore:function(){if(this.$config.bind){var e=this.$gantt.getDatastore(this.$config.bind);if(this.$config.rowStore=e,e&&!e._gridCacheAttached){var a=this;e._gridCacheAttached=e.attachEvent("onBeforeFilter",function(){a._resetTopPositionHeight()})}}},_unbindStore:function(){if(this.$config.bind){var e=this.$gantt.getDatastore(this.$config.bind);e&&e._gridCacheAttached&&(e.detachEvent(e._gridCacheAttached),e._gridCacheAttached=!1)}},refresh:function(){this._bindStore(),this._resetTopPositionHeight(),this._resetHeight(),this._initSmartRenderingPlaceholder(),this._calculateGridWidth(),this._renderGridHeader()},getViewPort:function(){var e=this.$config.scrollLeft||0,a=this.$config.scrollTop||0,i=this.$config.height||0,s=this.$config.width||0;return{y:a,y_end:a+i,x:e,x_end:e+s,height:i,width:s}},scrollTo:function(e,a){if(this.isVisible()){var i=!1;this.$config.scrollTop=this.$config.scrollTop||0,this.$config.scrollLeft=this.$config.scrollLeft||0,1*e==e&&(this.$config.scrollLeft=this.$state.scrollLeft=this.$grid.scrollLeft=e,i=!0),1*a==a&&(this.$config.scrollTop=this.$state.scrollTop=this.$grid_data.scrollTop=a,i=!0),i&&this.callEvent("onScroll",[this.$config.scrollLeft,this.$config.scrollTop])}},getColumnIndex:function(e,a){for(var i=this.$getConfig().columns,s=0,d=0;d<i.length;d++)if(a&&i[d].hide&&s++,i[d].name==e)return d-s;return null},getColumn:function(e){var a=this.getColumnIndex(e);return a===null?null:this.$getConfig().columns[a]},getGridColumns:function(){return this.$getConfig().columns.slice()},isVisible:function(){return this.$parent&&this.$parent.$config?!this.$parent.$config.hidden:this.$grid.offsetWidth},_createLayerConfig:function(){var e=this.$gantt,a=this;return[{renderer:e.$ui.layers.gridLine(),container:this.$grid_data,filter:[function(){return a.isVisible()}]},{renderer:e.$ui.layers.gridTaskRowResizer(),container:this.$grid_data,append:!0,filter:[function(){return e.config.resize_rows}]}]},_addLayers:function(e){if(this.$config.bind){this._taskLayers=[];var a=this,i=this.$gantt.$services.getService("layers"),s=i.getDataRender(this.$config.bind);s||(s=i.createDataRender({name:this.$config.bind,defaultContainer:function(){return a.$grid_data}}));for(var d=this.$config.layers,f=0;d&&f<d.length;f++){var _=d[f];_.view=this;var p=s.addLayer(_);this._taskLayers.push(p)}this._bindStore(),this._initSmartRenderingPlaceholder()}},_refreshPlaceholderOnStoreUpdate:function(e){var a=this.$getConfig(),i=this.$config.rowStore;if(i&&e===null&&this.isVisible()&&a.smart_rendering){var s;if(this.$config.scrollY){var d=this.$gantt.$ui.getView(this.$config.scrollY);d&&(s=d.getScrollState().scrollSize)}if(s||(s=i?this.getTotalHeight():0),s){this.$rowsPlaceholder&&this.$rowsPlaceholder.parentNode&&this.$rowsPlaceholder.parentNode.removeChild(this.$rowsPlaceholder);var f=this.$rowsPlaceholder=document.createElement("div");f.style.visibility="hidden",f.style.height=s+"px",f.style.width="1px",this.$grid_data.appendChild(f)}}},_initSmartRenderingPlaceholder:function(){var e=this.$config.rowStore;e&&(this._initSmartRenderingPlaceholder=function(){},this._staticBgHandler=e.attachEvent("onStoreUpdated",h.bind(this._refreshPlaceholderOnStoreUpdate,this)))},_initEvents:function(){var e=this.$gantt;this._mouseDelegates.delegate("click","gantt_close",e.bind(function(a,i,s){var d=this.$config.rowStore;if(!d)return!0;var f=g.locateAttribute(a,this.$config.item_attribute);return f&&d.close(f.getAttribute(this.$config.item_attribute)),!1},this),this.$grid),this._mouseDelegates.delegate("click","gantt_open",e.bind(function(a,i,s){var d=this.$config.rowStore;if(!d)return!0;var f=g.locateAttribute(a,this.$config.item_attribute);return f&&d.open(f.getAttribute(this.$config.item_attribute)),!1},this),this.$grid)},_clearLayers:function(e){var a=this.$gantt.$services.getService("layers").getDataRender(this.$config.bind);if(this._taskLayers)for(var i=0;i<this._taskLayers.length;i++)a.removeLayer(this._taskLayers[i]);this._taskLayers=[]},_getColumnWidth:function(e,a,i){var s=e.min_width||a.min_grid_column_width,d=Math.max(i,s||10);return e.max_width&&(d=Math.min(d,e.max_width)),d},_checkGridColumnMinWidthLimits:function(e,a){for(var i=0,s=e.length;i<s;i++){var d=1*e[i].width;!e[i].min_width&&d<a.min_grid_column_width&&(e[i].min_width=d)}},_getGridWidthLimits:function(){for(var e=this.$getConfig(),a=this.getGridColumns(),i=0,s=0,d=0;d<a.length;d++)i+=a[d].min_width?a[d].min_width:e.min_grid_column_width,s!==void 0&&(s=a[d].max_width?s+a[d].max_width:void 0);return this._checkGridColumnMinWidthLimits(a,e),[i,s]},_setColumnsWidth:function(e,a){var i=this.$getConfig(),s=this.getGridColumns(),d=0,f=e;a=window.isNaN(a)?-1:a;for(var _=0,p=s.length;_<p;_++)d+=1*s[_].width;if(window.isNaN(d))for(this._calculateGridWidth(),d=0,_=0,p=s.length;_<p;_++)d+=1*s[_].width;var v=f-d,y=0;for(_=0;_<a+1;_++)y+=s[_].width;for(d-=y,_=a+1;_<s.length;_++){var m=s[_],k=Math.round(v*(m.width/d));v<0?m.min_width&&m.width+k<m.min_width?k=m.min_width-m.width:!m.min_width&&i.min_grid_column_width&&m.width+k<i.min_grid_column_width&&(k=i.min_grid_column_width-m.width):m.max_width&&m.width+k>m.max_width&&(k=m.max_width-m.width),d-=m.width,m.width+=k,v-=k}for(var b=v>0?1:-1;v>0&&b===1||v<0&&b===-1;){var w=v;for(_=a+1;_<s.length;_++){var x;if((x=s[_].width+b)==this._getColumnWidth(s[_],i,x)&&(v-=b,s[_].width=x),!v)break}if(w==v)break}return v&&a>-1&&(x=s[a].width+v)==this._getColumnWidth(s[a],i,x)&&(s[a].width=x),this._getColsTotalWidth()},_getColsTotalWidth:function(){for(var e=this.getGridColumns(),a=0,i=0;i<e.length;i++){var s=parseFloat(e[i].width);if(window.isNaN(s))return!1;a+=s}return a},_calculateGridWidth:function(){for(var e=this.$getConfig(),a=this.getGridColumns(),i=0,s=[],d=[],f=0;f<a.length;f++){var _=parseFloat(a[f].width);window.isNaN(_)&&(_=e.min_grid_column_width||10,s.push(f)),d[f]=_,i+=_}var p=this._getGridWidth()+1;if(e.autofit||s.length){var v=p-i;if(e.autofit&&!e.grid_elastic_columns)for(f=0;f<d.length;f++){var y=Math.round(v/(d.length-f));d[f]+=y,(m=this._getColumnWidth(a[f],e,d[f]))!=d[f]&&(y=m-d[f],d[f]=m),v-=y}else if(s.length)for(f=0;f<s.length;f++){y=Math.round(v/(s.length-f));var m,k=s[f];d[k]+=y,(m=this._getColumnWidth(a[k],e,d[k]))!=d[k]&&(y=m-d[k],d[k]=m),v-=y}for(f=0;f<d.length;f++)a[f].width=d[f]}else{var b=p!=i;this.$config.width=i-1,e.grid_width=i,b&&this.$parent._setContentSize(this.$config.width,null)}},_renderGridHeader:function(){var e=this.$gantt,a=this.$getConfig(),i=this.$gantt.locale,s=this.$gantt.templates,d=this.getGridColumns();a.rtl&&(d=d.reverse());for(var f=[],_=0,p=i.labels,v=a.scale_height-1,y=0;y<d.length;y++){var m=y==d.length-1,k=d[y];k.name||(k.name=e.uid()+"");var b=1*k.width,w=this._getGridWidth();m&&w>_+b&&(k.width=b=w-_),_+=b;var x=e._sort&&k.name==e._sort.name?"<div class='gantt_sort gantt_"+e._sort.direction+"'></div>":"",$=["gantt_grid_head_cell","gantt_grid_head_"+k.name,m?"gantt_last_cell":"",s.grid_header_class(k.name,k)].join(" "),S="width:"+(b-(m?1:0))+"px;",E=k.label||p["column_"+k.name]||p[k.name];E=E||"";var M="<div class='"+$+"' style='"+S+"' "+e._waiAria.gridScaleCellAttrString(k,E)+" data-column-id='"+k.name+"' column_id='"+k.name+"' data-column-name='"+k.name+"' data-column-index='"+y+"'>"+E+x+"</div>";f.push(M)}this.$grid_scale.style.height=a.scale_height+"px",this.$grid_scale.style.lineHeight=v+"px",this.$grid_scale.innerHTML=f.join(""),this._renderHeaderResizers&&this._renderHeaderResizers()},_getGridWidth:function(){return this.$config.width},destructor:function(){this._clearLayers(this.$gantt),this._mouseDelegates&&(this._mouseDelegates.destructor(),this._mouseDelegates=null),this._unbindStore(),this.$grid=null,this.$grid_scale=null,this.$grid_data=null,this.$gantt=null,this.$config.rowStore&&(this.$config.rowStore.detachEvent(this._staticBgHandler),this.$config.rowStore=null),this.callEvent("onDestroy",[]),this.detachAllEvents()}},T.exports=t},function(T,C,u){var g=u(0);T.exports=function(h){var l=h.date,c=h.$services;return{getSum:function(r,o,n){n===void 0&&(n=r.length-1),o===void 0&&(o=0);for(var t=0,e=o;e<=n;e++)t+=r[e];return t},setSumWidth:function(r,o,n,t){var e=o.width;t===void 0&&(t=e.length-1),n===void 0&&(n=0);var a=t-n+1;if(!(n>e.length-1||a<=0||t>e.length-1)){var i=r-this.getSum(e,n,t);this.adjustSize(i,e,n,t),this.adjustSize(-i,e,t+1),o.full_width=this.getSum(e)}},splitSize:function(r,o){for(var n=[],t=0;t<o;t++)n[t]=0;return this.adjustSize(r,n),n},adjustSize:function(r,o,n,t){n||(n=0),t===void 0&&(t=o.length-1);for(var e=t-n+1,a=this.getSum(o,n,t),i=n;i<=t;i++){var s=Math.floor(r*(a?o[i]/a:1/e));a-=o[i],r-=s,e--,o[i]+=s}o[o.length-1]+=r},sortScales:function(r){function o(t,e){var a=new Date(1970,0,1);return l.add(a,e,t)-a}r.sort(function(t,e){return o(t.unit,t.step)<o(e.unit,e.step)?1:o(t.unit,t.step)>o(e.unit,e.step)?-1:0});for(var n=0;n<r.length;n++)r[n].index=n},_isLegacyMode:function(r){var o=r||h.config;return o.scale_unit||o.date_scale||o.subscales},_prepareScaleObject:function(r){var o=r.format;return o||(o=r.template||r.date||"%d %M"),typeof o=="string"&&(o=h.date.date_to_str(o)),{unit:r.unit||"day",step:r.step||1,format:o,css:r.css}},primaryScale:function(r){var o,n=c.getService("templateLoader"),t=this._isLegacyMode(r),e=r||h.config;if(t)n.initTemplate("date_scale",void 0,void 0,e,h.config.templates),o={unit:h.config.scale_unit,step:h.config.step,template:h.templates.date_scale,date:h.config.date_scale,css:h.templates.scale_cell_class};else{var a=e.scales[0];o={unit:a.unit,step:a.step,template:a.template,format:a.format,date:a.date,css:a.css||h.templates.scale_cell_class}}return this._prepareScaleObject(o)},getSubScales:function(r){var o=this._isLegacyMode(r),n=r||h.config;return(o?n.subscales||[]:n.scales.slice(1)).map(function(t){return this._prepareScaleObject(t)}.bind(this))},prepareConfigs:function(r,o,n,t,e,a,i){for(var s=this.splitSize(t,r.length),d=n,f=[],_=r.length-1;_>=0;_--){var p=_==r.length-1,v=this.initScaleConfig(r[_],e,a);p&&this.processIgnores(v),this.initColSizes(v,o,d,s[_]),this.limitVisibleRange(v),p&&(d=v.full_width),f.unshift(v)}for(_=0;_<f.length-1;_++)this.alineScaleColumns(f[f.length-1],f[_]);for(_=0;_<f.length;_++)i&&this.reverseScale(f[_]),this.setPosSettings(f[_]);return f},reverseScale:function(r){r.width=r.width.reverse(),r.trace_x=r.trace_x.reverse();var o=r.trace_indexes;r.trace_indexes={},r.trace_index_transition={},r.rtl=!0;for(var n=0;n<r.trace_x.length;n++)r.trace_indexes[r.trace_x[n].valueOf()]=n,r.trace_index_transition[o[r.trace_x[n].valueOf()]]=n;return r},setPosSettings:function(r){for(var o=0,n=r.trace_x.length;o<n;o++)r.left.push((r.width[o-1]||0)+(r.left[o-1]||0))},_ignore_time_config:function(r,o){if(h.config.skip_off_time){for(var n=!0,t=r,e=0;e<o.step;e++)e&&(t=l.add(r,e,o.unit)),n=n&&!this.isWorkTime(t,o.unit);return n}return!1},processIgnores:function(r){r.ignore_x={},r.display_count=r.count},initColSizes:function(r,o,n,t){var e=n;r.height=t;var a=r.display_count===void 0?r.count:r.display_count;a||(a=1),r.col_width=Math.floor(e/a),o&&r.col_width<o&&(r.col_width=o,e=r.col_width*a),r.width=[];for(var i=r.ignore_x||{},s=0;s<r.trace_x.length;s++)if(i[r.trace_x[s].valueOf()]||r.display_count==r.count)r.width[s]=0;else{var d=1;r.unit=="month"&&(d=Math.round((l.add(r.trace_x[s],r.step,r.unit)-r.trace_x[s])/864e5)),r.width[s]=d}this.adjustSize(e-this.getSum(r.width),r.width),r.full_width=this.getSum(r.width)},initScaleConfig:function(r,o,n){var t=g.mixin({count:0,col_width:0,full_width:0,height:0,width:[],left:[],trace_x:[],trace_indexes:{},min_date:new Date(o),max_date:new Date(n)},r);return this.eachColumn(r.unit,r.step,o,n,function(e){t.count++,t.trace_x.push(new Date(e)),t.trace_indexes[e.valueOf()]=t.trace_x.length-1}),t.trace_x_ascending=t.trace_x.slice(),t},iterateScales:function(r,o,n,t,e){for(var a=o.trace_x,i=r.trace_x,s=n||0,d=t||i.length-1,f=0,_=1;_<a.length;_++){var p=r.trace_indexes[+a[_]];p!==void 0&&p<=d&&(e&&e.apply(this,[f,_,s,p]),s=p,f=_)}},alineScaleColumns:function(r,o,n,t){this.iterateScales(r,o,n,t,function(e,a,i,s){var d=this.getSum(r.width,i,s-1);this.getSum(o.width,e,a-1)!=d&&this.setSumWidth(d,o,e,a-1)})},eachColumn:function(r,o,n,t,e){var a=new Date(n),i=new Date(t);l[r+"_start"]&&(a=l[r+"_start"](a));var s=new Date(a);for(+s>=+i&&(i=l.add(s,o,r));+s<+i;){e.call(this,new Date(s));var d=s.getTimezoneOffset();s=l.add(s,o,r),s=h._correct_dst_change(s,d,o,r),l[r+"_start"]&&(s=l[r+"_start"](s))}},limitVisibleRange:function(r){var o=r.trace_x,n=r.width.length-1,t=0;if(+o[0]<+r.min_date&&n!=0){var e=Math.floor(r.width[0]*((o[1]-r.min_date)/(o[1]-o[0])));t+=r.width[0]-e,r.width[0]=e,o[0]=new Date(r.min_date)}var a=o.length-1,i=o[a],s=l.add(i,r.step,r.unit);if(+s>+r.max_date&&a>0&&(e=r.width[a]-Math.floor(r.width[a]*((s-r.max_date)/(s-i))),t+=r.width[a]-e,r.width[a]=e),t){for(var d=this.getSum(r.width),f=0,_=0;_<r.width.length;_++){var p=Math.floor(t*(r.width[_]/d));r.width[_]+=p,f+=p}this.adjustSize(t-f,r.width)}}}}},,function(T,C,u){},function(T,C,u){var g=u(2),h={getHtmlSelect:function(r,o,n){var t="",e=this;return r=r||[],g.forEach(r,function(a){var i=[{key:"value",value:a.key}];n==a.key&&(i[i.length]={key:"selected",value:"selected"}),a.attributes&&(i=i.concat(a.attributes)),t+=e.getHtmlOption({innerHTML:a.label},i)}),l("select",{innerHTML:t},o)},getHtmlOption:function(r,o){return l("option",r,o)},getHtmlButton:function(r,o){return l("button",r,o)},getHtmlDiv:function(r,o){return l("div",r,o)},getHtmlLabel:function(r,o){return l("label",r,o)},getHtmlInput:function(r){return"<input"+c(r||[])+">"}};function l(r,o,n){return o=o||[],"<"+r+c(n||[])+">"+(o.innerHTML||"")+"</"+r+">"}function c(r){var o="";return g.forEach(r,function(n){o+=" "+n.key+"='"+n.value+"'"}),o}T.exports=h},function(T,C,u){var g=u(2);T.exports=function(h){var l={};return h.$data.tasksStore.attachEvent("onStoreUpdated",function(){l={}}),function(c,r,o,n){var t=c.id+"_"+r+"_"+o.unit+"_"+o.step;return l[t]?l[t]:l[t]=function(e,a,i,s){var d,f=!1,_={};h.config.process_resource_assignments&&a===h.config.resource_property?(d=e.$role=="task"?h.getResourceAssignments(e.$resource_id,e.$task_id):h.getResourceAssignments(e.id),f=!0):d=e.$role=="task"?[]:h.getTaskBy(a,e.id);for(var p,v,y,m,k,_=function(M,D,A){for(var I=D.unit,P=D.step,H={},O={},V=0;V<M.length;V++){var j=M[V],Y=j;A&&(Y=h.getTask(j.task_id));var N=j.start_date||Y.start_date,X=j.end_date||Y.end_date;A&&(j.start_date&&(N=new Date(Math.max(j.start_date.valueOf(),Y.start_date.valueOf()))),j.end_date&&(X=new Date(Math.min(j.end_date.valueOf(),Y.end_date.valueOf()))));var Q=g.findBinary(D.trace_x,N.valueOf()),Z=new Date(D.trace_x[Q]||h.date[I+"_start"](new Date(N))),L=h.config.work_time?h.getTaskCalendar(Y):h;for(O[L.id]={};Z<X;){var F=O[L.id],W=Z,U=W.valueOf();if(Z=h.date.add(Z,P,I),F[U]!==!1){var K=L.isWorkTime({date:W,task:Y,unit:I});K?(H[U]||(H[U]={tasks:[],assignments:[]}),H[U].tasks.push(Y),A&&H[U].assignments.push(j)):F[U]=!1}}}return H}(d,i,f),b=i.unit,w=i.step,x=[],$=s.$getConfig(),S=0;S<i.trace_x.length;S++)p=new Date(i.trace_x[S]),v=h.date.add(p,w,b),k=_[p.valueOf()]||{},y=k.tasks||[],m=k.assignments||[],y.length||$.resource_render_empty_cells?x.push({start_date:p,end_date:v,tasks:y,assignments:m}):x.push(null);return x}(c,r,o,n)}}},function(T,C,u){var g=u(3),h=u(1),l=function(c){function r(o,n,t){var e=c.apply(this,arguments)||this;return o&&(e.$root=!0),e._parseConfig(n),e.$name="layout",e}return g(r,c),r.prototype.destructor=function(){this.$container&&this.$view&&h.removeNode(this.$view);for(var o=0;o<this.$cells.length;o++)this.$cells[o].destructor();this.$cells=[],c.prototype.destructor.call(this)},r.prototype._resizeScrollbars=function(o,n){var t,e=!1,a=[],i=[];function s(v){v.$parent.show(),e=!0,a.push(v)}function d(v){v.$parent.hide(),e=!0,i.push(v)}for(var f=0;f<n.length;f++)o[(t=n[f]).$config.scroll]||t.shouldHide()?d(t):t.shouldShow()?s(t):t.isVisible()?a.push(t):i.push(t);var _={};for(f=0;f<a.length;f++)a[f].$config.group&&(_[a[f].$config.group]=!0);for(f=0;f<i.length;f++)if((t=i[f]).$config.group&&_[t.$config.group]){s(t);for(var p=0;p<a.length;p++)if(a[p]==t){this.$gantt.$scrollbarRepaint=!0;break}}return e},r.prototype._syncCellSizes=function(o,n){if(o){var t={};return this._eachChild(function(e){e.$config.group&&e.$name!="scrollbar"&&e.$name!="resizer"&&(t[e.$config.group]||(t[e.$config.group]=[]),t[e.$config.group].push(e))}),t[o]&&this._syncGroupSize(t[o],n),t[o]}},r.prototype._syncGroupSize=function(o,n){if(o.length)for(var t=o[0].$parent._xLayout?"width":"height",e=o[0].$parent.getNextSibling(o[0].$id)?1:-1,a=n.value,i=n.isGravity,s=0;s<o.length;s++){var d=o[s].getSize(),f=e>0?o[s].$parent.getNextSibling(o[s].$id):o[s].$parent.getPrevSibling(o[s].$id);f.$name=="resizer"&&(f=e>0?f.$parent.getNextSibling(f.$id):f.$parent.getPrevSibling(f.$id));var _=f.getSize();if(i)o[s].$config.gravity=a;else if(f[t]){var p=d.gravity+_.gravity,v=d[t]+_[t],y=p/v;o[s].$config.gravity=y*a,f.$config[t]=v-a,f.$config.gravity=p-y*a}else o[s].$config[t]=a;var m=this.$gantt.$ui.getView("grid");!m||o[s].$content!==m||m.$config.scrollable||i||(this.$gantt.config.grid_width=a)}},r.prototype.resize=function(o){var n=!1;if(this.$root&&!this._resizeInProgress&&(this.callEvent("onBeforeResize",[]),n=!0,this._resizeInProgress=!0),c.prototype.resize.call(this,!0),c.prototype.resize.call(this,!1),n){var t=[];t=(t=(t=t.concat(this.getCellsByType("viewCell"))).concat(this.getCellsByType("viewLayout"))).concat(this.getCellsByType("hostCell"));for(var e=this.getCellsByType("scroller"),a=0;a<t.length;a++)t[a].$config.hidden||t[a].setContentSize();var i=this._getAutosizeMode(this.$config.autosize),s=this._resizeScrollbars(i,e);if(this.$config.autosize&&(this.autosize(this.$config.autosize),t.forEach(function(d){var f=d.$parent,_=f.getContentSize(i);i.x&&(f.$config.$originalWidthStored||(f.$config.$originalWidthStored=!0,f.$config.$originalWidth=f.$config.width),f.$config.width=_.width),i.y&&(f.$config.$originalHeightStored||(f.$config.$originalHeightStored=!0,f.$config.$originalHeight=f.$config.height),f.$config.height=_.height)}),s=!0),s)for(this.resize(),a=0;a<t.length;a++)t[a].$config.hidden||t[a].setContentSize();this.callEvent("onResize",[])}n&&(this._resizeInProgress=!1)},r.prototype._eachChild=function(o,n){if(o(n=n||this),n.$cells)for(var t=0;t<n.$cells.length;t++)this._eachChild(o,n.$cells[t])},r.prototype.isChild=function(o){var n=!1;return this._eachChild(function(t){t!==o&&t.$content!==o||(n=!0)}),n},r.prototype.getCellsByType=function(o){var n=[];if(o===this.$name&&n.push(this),this.$content&&this.$content.$name==o&&n.push(this.$content),this.$cells)for(var t=0;t<this.$cells.length;t++){var e=r.prototype.getCellsByType.call(this.$cells[t],o);e.length&&n.push.apply(n,e)}return n},r.prototype.getNextSibling=function(o){var n=this.cellIndex(o);return n>=0&&this.$cells[n+1]?this.$cells[n+1]:null},r.prototype.getPrevSibling=function(o){var n=this.cellIndex(o);return n>=0&&this.$cells[n-1]?this.$cells[n-1]:null},r.prototype.cell=function(o){for(var n=0;n<this.$cells.length;n++){var t=this.$cells[n];if(t.$id===o)return t;var e=t.cell(o);if(e)return e}},r.prototype.cellIndex=function(o){for(var n=0;n<this.$cells.length;n++)if(this.$cells[n].$id===o)return n;return-1},r.prototype.moveView=function(o,n){if(this.$cells[n]!==o)return window.alert("Not implemented");n+=this.$config.header?1:0;var t=this.$view;n>=t.childNodes.length?t.appendChild(o.$view):t.insertBefore(o.$view,t.childNodes[n])},r.prototype._parseConfig=function(o){this.$cells=[],this._xLayout=!o.rows;for(var n=o.rows||o.cols||o.views,t=0;t<n.length;t++){var e=n[t];e.mode=this._xLayout?"x":"y";var a=this.$factory.initUI(e,this);a?(a.$parent=this,this.$cells.push(a)):(n.splice(t,1),t--)}},r.prototype.getCells=function(){return this.$cells},r.prototype.render=function(){var o=h.insertNode(this.$container,this.$toHTML());this.$fill(o,null),this.callEvent("onReady",[]),this.resize(),this.render=this.resize},r.prototype.$fill=function(o,n){this.$view=o,this.$parent=n;for(var t=h.getChildNodes(o,"gantt_layout_cell"),e=t.length-1;e>=0;e--){var a=this.$cells[e];a.$fill(t[e],this),a.$config.hidden&&a.$view.parentNode.removeChild(a.$view)}},r.prototype.$toHTML=function(){for(var o=this._xLayout?"x":"y",n=[],t=0;t<this.$cells.length;t++)n.push(this.$cells[t].$toHTML());return c.prototype.$toHTML.call(this,n.join(""),(this.$root?"gantt_layout_root ":"")+"gantt_layout gantt_layout_"+o)},r.prototype.getContentSize=function(o){for(var n,t,e,a=0,i=0,s=0;s<this.$cells.length;s++)(t=this.$cells[s]).$config.hidden||(n=t.getContentSize(o),t.$config.view==="scrollbar"&&o[t.$config.scroll]&&(n.height=0,n.width=0),t.$config.resizer&&(this._xLayout?n.height=0:n.width=0),e=t._getBorderSizes(),this._xLayout?(a+=n.width+e.horizontal,i=Math.max(i,n.height+e.vertical)):(a=Math.max(a,n.width+e.horizontal),i+=n.height+e.vertical));return{width:a+=(e=this._getBorderSizes()).horizontal,height:i+=e.vertical}},r.prototype._cleanElSize=function(o){return 1*(o||"").toString().replace("px","")||0},r.prototype._getBoxStyles=function(o){var n=null,t=["width","height","paddingTop","paddingBottom","paddingLeft","paddingRight","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],e={boxSizing:(n=window.getComputedStyle?window.getComputedStyle(o,null):{width:o.clientWidth,height:o.clientHeight}).boxSizing=="border-box"};n.MozBoxSizing&&(e.boxSizing=n.MozBoxSizing=="border-box");for(var a=0;a<t.length;a++)e[t[a]]=n[t[a]]?this._cleanElSize(n[t[a]]):0;var i={horPaddings:e.paddingLeft+e.paddingRight+e.borderLeftWidth+e.borderRightWidth,vertPaddings:e.paddingTop+e.paddingBottom+e.borderTopWidth+e.borderBottomWidth,borderBox:e.boxSizing,innerWidth:e.width,innerHeight:e.height,outerWidth:e.width,outerHeight:e.height};return i.borderBox?(i.innerWidth-=i.horPaddings,i.innerHeight-=i.vertPaddings):(i.outerWidth+=i.horPaddings,i.outerHeight+=i.vertPaddings),i},r.prototype._getAutosizeMode=function(o){var n={x:!1,y:!1};return o==="xy"?n.x=n.y=!0:o==="y"||o===!0?n.y=!0:o==="x"&&(n.x=!0),n},r.prototype.autosize=function(o){var n=this._getAutosizeMode(o),t=this._getBoxStyles(this.$container),e=this.getContentSize(o),a=this.$container;n.x&&(t.borderBox&&(e.width+=t.horPaddings),a.style.width=e.width+"px"),n.y&&(t.borderBox&&(e.height+=t.vertPaddings),a.style.height=e.height+"px")},r.prototype.getSize=function(){this._sizes=[];for(var o=0,n=0,t=1e11,e=0,a=1e11,i=0,s=0;s<this.$cells.length;s++){var d=this._sizes[s]=this.$cells[s].getSize();this.$cells[s].$config.hidden||(this._xLayout?(!d.width&&d.minWidth?o+=d.minWidth:o+=d.width,t+=d.maxWidth,n+=d.minWidth,e=Math.max(e,d.height),a=Math.min(a,d.maxHeight),i=Math.max(i,d.minHeight)):(!d.height&&d.minHeight?e+=d.minHeight:e+=d.height,a+=d.maxHeight,i+=d.minHeight,o=Math.max(o,d.width),t=Math.min(t,d.maxWidth),n=Math.max(n,d.minWidth)))}var f=c.prototype.getSize.call(this);return f.maxWidth>=1e5&&(f.maxWidth=t),f.maxHeight>=1e5&&(f.maxHeight=a),f.minWidth=f.minWidth!=f.minWidth?0:f.minWidth,f.minHeight=f.minHeight!=f.minHeight?0:f.minHeight,this._xLayout?(f.minWidth+=this.$config.margin*this.$cells.length||0,f.minWidth+=2*this.$config.padding||0,f.minHeight+=2*this.$config.padding||0):(f.minHeight+=this.$config.margin*this.$cells.length||0,f.minHeight+=2*this.$config.padding||0),f},r.prototype._calcFreeSpace=function(o,n,t){var e=t?n.minWidth:n.minHeight,a=n.maxWidth,i=o;return i?(i>a&&(i=a),i<e&&(i=e),this._free-=i):((i=Math.floor(this._free/this._gravity*n.gravity))>a&&(i=a,this._free-=i,this._gravity-=n.gravity),i<e&&(i=e,this._free-=i,this._gravity-=n.gravity)),i},r.prototype._calcSize=function(o,n,t){var e=o,a=t?n.minWidth:n.minHeight,i=t?n.maxWidth:n.maxHeight;return e||(e=Math.floor(this._free/this._gravity*n.gravity)),e>i&&(e=i),e<a&&(e=a),e},r.prototype._configureBorders=function(){this.$root&&this._setBorders([this._borders.left,this._borders.top,this._borders.right,this._borders.bottom],this);for(var o=this._xLayout?this._borders.right:this._borders.bottom,n=this.$cells,t=n.length-1,e=t;e>=0;e--)if(!n[e].$config.hidden){t=e;break}for(e=0;e<n.length;e++)if(!n[e].$config.hidden){var a=e>=t,i="";!a&&n[e+1]&&n[e+1].$config.view=="scrollbar"&&(this._xLayout?a=!0:i="gantt_layout_cell_border_transparent"),this._setBorders(a?[]:[o,i],n[e])}},r.prototype._updateCellVisibility=function(){for(var o=this._visibleCells||{},n=!this._visibleCells,t={},e=null,a=[],i=0;i<this._sizes.length;i++)(e=this.$cells[i]).$config.hide_empty&&a.push(e),!n&&e.$config.hidden&&o[e.$id]?e._hide(!0):e.$config.hidden||o[e.$id]||e._hide(!1),e.$config.hidden||(t[e.$id]=!0);for(this._visibleCells=t,i=0;i<a.length;i++){var s=!0;(e=a[i]).$cells.forEach(function(d){d.$config.hidden||d.$config.resizer||(s=!1)}),e.$config.hidden=s}},r.prototype.setSize=function(o,n){this._configureBorders(),c.prototype.setSize.call(this,o,n),n=this.$lastSize.contentY,o=this.$lastSize.contentX;var t,e,a=this.$config.padding||0;this.$view.style.padding=a+"px",this._gravity=0,this._free=this._xLayout?o:n,this._free-=2*a,this._updateCellVisibility();for(var i=0;i<this._sizes.length;i++)if(!(t=this.$cells[i]).$config.hidden){var s=this.$config.margin||0;t.$name!="resizer"||s||(s=-1);var d=t.$view,f=this._xLayout?"marginRight":"marginBottom";i!==this.$cells.length-1&&(d.style[f]=s+"px",this._free-=s),e=this._sizes[i],this._xLayout?e.width||(this._gravity+=e.gravity):e.height||(this._gravity+=e.gravity)}for(i=0;i<this._sizes.length;i++)if(!(t=this.$cells[i]).$config.hidden){var _=(e=this._sizes[i]).width,p=e.height;this._xLayout?this._calcFreeSpace(_,e,!0):this._calcFreeSpace(p,e,!1)}for(i=0;i<this.$cells.length;i++)if(!(t=this.$cells[i]).$config.hidden){e=this._sizes[i];var v=void 0,y=void 0;this._xLayout?(v=this._calcSize(e.width,e,!0),y=n-2*a):(v=o-2*a,y=this._calcSize(e.height,e,!1)),t.setSize(v,y)}},r}(u(9));T.exports=l},function(T,C){T.exports=function(u,g,h,l,c){var r=h.$gantt.getTask(u.source),o=h.$gantt.getTask(u.target),n=h.getItemTop(r.id),t=h.getItemHeight(r.id),e=h.getItemTop(o.id),a=h.getItemHeight(o.id);if(g.y>n+t&&g.y>e+a||g.y_end<e&&g.y_end<n)return!1;var i=h.posFromDate(r.start_date),s=h.posFromDate(r.end_date),d=h.posFromDate(o.start_date),f=h.posFromDate(o.end_date);if(i>s){var _=s;s=i,i=_}return d>f&&(_=f,f=d,d=_),i+=-100,s+=100,d+=-100,f+=100,!(g.x>s&&g.x>f)&&!(g.x_end<i&&g.x_end<d)}},function(T,C,u){var g=u(112);T.exports=function(){var h=[],l=!1;function c(){h=[],l=!1}var r=!1;return function(o,n,t,e,a){(function(_){r||(r=!0,_.attachEvent("onPreFilter",c),_.attachEvent("onStoreUpdated",c),_.attachEvent("onClearAll",c),_.attachEvent("onBeforeStoreUpdate",c))})(e),l||function(_,p,v){var y=p.$getConfig();_.getVisibleItems().forEach(function(m){var k=g(m,p,y,v);k&&h.push({id:m.id,rec:k})}),h.sort(function(m,k){return m.rec.right<k.rec.right?-1:1}),l=!0}(e,n,o);for(var i=[],s=0;s<h.length;s++){var d=h[s],f=d.rec;f.right<a.x||f.left<a.x_end&&f.right>a.x&&f.top<a.y_end&&f.bottom>a.y&&i.push(d.id)}return{ids:i}}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=u(174),h=u(173),l=u(172);C.LargerUnitsCache=l.LargerUnitsCache,C.createCacheObject=function(){return typeof Map<"u"?new g.WorkUnitsMapCache:new h.WorkUnitsObjectCache}},function(T,C,u){var g=u(0),h=u(2);function l(n,t,e,a,i){return this.date=n,this.unit=t,this.task=e,this.id=a,this.calendar=i,this}function c(n,t,e,a,i,s){return this.date=n,this.dir=t,this.unit=e,this.task=a,this.id=i,this.calendar=s,this}function r(n,t,e,a,i,s,d){return this.start_date=n,this.duration=t,this.unit=e,this.step=a,this.task=i,this.id=s,this.calendar=d,this}function o(n,t,e,a){return this.start_date=n,this.end_date=t,this.task=e,this.calendar=a,this.unit=null,this.step=null,this}T.exports=function(n){return{getWorkHoursArguments:function(){var t=arguments[0];if(t=h.isDate(t)?{date:t}:g.mixin({},t),!h.isValidDate(t.date))throw n.assert(!1,"Invalid date argument for getWorkHours method"),new Error("Invalid date argument for getWorkHours method");return t},setWorkTimeArguments:function(){return arguments[0]},unsetWorkTimeArguments:function(){return arguments[0]},isWorkTimeArguments:function(){var t,e=arguments[0];if(e instanceof l)return e;if((t=e.date?new l(e.date,e.unit,e.task,null,e.calendar):new l(arguments[0],arguments[1],arguments[2],null,arguments[3])).unit=t.unit||n.config.duration_unit,!h.isValidDate(t.date))throw n.assert(!1,"Invalid date argument for isWorkTime method"),new Error("Invalid date argument for isWorkTime method");return t},getClosestWorkTimeArguments:function(t){var e,a=arguments[0];if(a instanceof c)return a;if(e=h.isDate(a)?new c(a):new c(a.date,a.dir,a.unit,a.task,null,a.calendar),a.id&&(e.task=a),e.dir=a.dir||"any",e.unit=a.unit||n.config.duration_unit,!h.isValidDate(e.date))throw n.assert(!1,"Invalid date argument for getClosestWorkTime method"),new Error("Invalid date argument for getClosestWorkTime method");return e},_getStartEndConfig:function(t){var e,a=o;if(t instanceof a)return t;if(h.isDate(t)?e=new a(arguments[0],arguments[1],arguments[2],arguments[3]):(e=new a(t.start_date,t.end_date,t.task),t.id!==null&&t.id!==void 0&&(e.task=t)),e.unit=e.unit||n.config.duration_unit,e.step=e.step||n.config.duration_step,e.start_date=e.start_date||e.start||e.date,!h.isValidDate(e.start_date))throw n.assert(!1,"Invalid start_date argument for getDuration method"),new Error("Invalid start_date argument for getDuration method");if(!h.isValidDate(e.end_date))throw n.assert(!1,"Invalid end_date argument for getDuration method"),new Error("Invalid end_date argument for getDuration method");return e},getDurationArguments:function(t,e,a,i){return this._getStartEndConfig.apply(this,arguments)},hasDurationArguments:function(t,e,a,i){return this._getStartEndConfig.apply(this,arguments)},calculateEndDateArguments:function(t,e,a,i){var s,d=arguments[0];if(d instanceof r)return d;if(s=h.isDate(d)?new r(arguments[0],arguments[1],arguments[2],void 0,arguments[3],void 0,arguments[4]):new r(d.start_date,d.duration,d.unit,d.step,d.task,null,d.calendar),d.id!==null&&d.id!==void 0&&(s.task=d,s.unit=null,s.step=null),s.unit=s.unit||n.config.duration_unit,s.step=s.step||n.config.duration_step,!h.isValidDate(s.start_date))throw n.assert(!1,"Invalid start_date argument for calculateEndDate method"),new Error("Invalid start_date argument for calculateEndDate method");return s}}}},function(T,C,u){var g=u(186);T.exports=function(h){var l={},c={},r=null,o=-1,n=null,t=g(h);return{_resetTopPositionHeight:function(){l={},c={},t.resetCache()},_resetHeight:function(){var e=this.$config.rowStore,a=this.getCacheStateTotalHeight(e);n?this.shouldClearHeightCache(n,a)&&(n=a,r=null):n=a,o=-1,t.resetCache()},getRowTop:function(e){if(t.canUseSimpleCalculation())return t.getRowTop(e);var a=this.$config.rowStore;if(!a)return 0;if(c[e]!==void 0)return c[e];for(var i=a.getIndexRange(),s=0,d=0,f=0;f<i.length;f++)c[f]=s,s+=this.getItemHeight(i[f].id),f<e&&(d=s);return d},getItemTop:function(e){if(this.$config.rowStore){if(l[e]!==void 0)return l[e];var a=this.$config.rowStore;if(!a)return 0;var i=a.getIndexById(e);if(i===-1&&a.getParent&&a.exists(e)){var s=a.getParent(e);if(a.exists(s)){var d=a.getItem(s);if(this.$gantt.isSplitTask(d))return this.getItemTop(s)}}return l[e]=this.getRowTop(i),l[e]}return 0},getItemHeight:function(e){if(t.canUseSimpleCalculation())return t.getItemHeight(e);if(!r&&this.$config.rowStore&&this._fillHeightCache(this.$config.rowStore),r[e]!==void 0)return r[e];var a=this.$getConfig().row_height;if(this.$config.rowStore){var i=this.$config.rowStore;if(!i)return a;var s=i.getItem(e);return r[e]=s&&s.row_height||a}return a},_fillHeightCache:function(e){if(e){r={};var a=this.$getConfig().row_height;e.eachItem(function(i){return r[i.id]=i&&i.row_height||a})}},getCacheStateTotalHeight:function(e){var a=this.$getConfig().row_height,i={},s=[],d=0;return e&&e.eachItem(function(f){s.push(f),i[f.id]=f.row_height,d+=f.row_height||a}),{globalHeight:a,items:s,count:s.length,sumHeight:d}},shouldClearHeightCache:function(e,a){if(e.count!=a.count||e.globalHeight!=a.globalHeight||e.sumHeight!=a.sumHeight)return!0;for(var i in e.items){var s=a.items[i];if(s!==void 0&&s!=e.items[i])return!0}return!1},getTotalHeight:function(){if(t.canUseSimpleCalculation())return t.getTotalHeight();if(o!=-1)return o;if(this.$config.rowStore){var e=this.$config.rowStore;this._fillHeightCache(e);var a=this.getItemHeight.bind(this),i=0;return e.getVisibleItems().forEach(function(s){i+=a(s.id)}),o=i,i}return 0},getItemIndexByTopPosition:function(e){if(this.$config.rowStore){if(t.canUseSimpleCalculation())return t.getItemIndexByTopPosition(e);for(var a=this.$config.rowStore,i=0;i<a.countVisible();i++){var s=this.getRowTop(i),d=this.getRowTop(i+1);if(!d){var f=a.getIdByIndex(i);d=s+this.getItemHeight(f)}if(e>=s&&e<d)return i}return a.countVisible()+2}return 0}}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=function(){function h(){var l=this;this.canParse=function(c){return!isNaN(l.parse(c))},this.format=function(c){return String(c)},this.parse=function(c){return parseInt(c,10)}}return h.create=function(l){return new h},h}();C.default=g},function(T,C){function u(h,l,c){for(var r=0;r<l.length;r++)h.isLinkExists(l[r])&&(c[l[r]]=h.getLink(l[r]))}function g(h,l,c){u(h,l.$source,c),u(h,l.$target,c)}T.exports={getSubtreeLinks:function(h,l){var c={};return h.isTaskExists(l)&&g(h,h.getTask(l),c),h.eachTask(function(r){g(h,r,c)},l),c},getSubtreeTasks:function(h,l){var c={};return h.eachTask(function(r){c[r.id]=r},l),c}}},function(T,C,u){var g=u(26),h=u(26);function l(c){var r=function(f){var _=new h(f).primaryScale(),p=_.unit,v=_.step;if(f.config.scale_offset_minimal){var y=new g(f),m=[y.primaryScale()].concat(y.getSubScales());y.sortScales(m),p=m[m.length-1].unit,v=m[m.length-1].step||1}return{unit:p,step:v}}(c),o=r.unit,n=r.step,t=function(f,_){var p={start_date:null,end_date:null};if(_.config.start_date&&_.config.end_date){p.start_date=_.date[f+"_start"](new Date(_.config.start_date));var v=new Date(_.config.end_date),y=_.date[f+"_start"](new Date(v));v=+v!=+y?_.date.add(y,1,f):y,p.end_date=v}return p}(o,c);if(!t.start_date||!t.end_date){for(var e=!0,a=c.getTaskByTime(),i=0;i<a.length;i++)if(a[i].type!==c.config.types.project){e=!1;break}if(a.length&&e){var s=a[0].start_date,d=c.date.add(s,1,c.config.duration_unit);t={start_date:new Date(s),end_date:new Date(d)}}else t=c.getSubtaskDates();t.start_date&&t.end_date||(t={start_date:new Date,end_date:new Date}),t.start_date=c.date[o+"_start"](t.start_date),t.start_date=c.calculateEndDate({start_date:c.date[o+"_start"](t.start_date),duration:-1,unit:o,step:n}),t.end_date=c.date[o+"_start"](t.end_date),t.end_date=c.calculateEndDate({start_date:t.end_date,duration:2,unit:o,step:n})}c._min_date=t.start_date,c._max_date=t.end_date}T.exports=function(c){l(c),function(r){if(r.config.fit_tasks){var o=+r._min_date,n=+r._max_date;if(+r._min_date!=o||+r._max_date!=n)return r.render(),r.callEvent("onScaleAdjusted",[]),!0}}(c)}},function(T,C,u){var g=u(41),h=u(0),l=u(2),c=u(42),r=u(11),o=u(2).replaceValidZeroId;c.default&&(c=c.default);var n=function(t){c.apply(this,[t]),this._branches={},this.pull={},this.$initItem=function(f){var _=f;t.initItem&&(_=t.initItem(_));var p=this.getItem(f.id);return p&&p.parent!=_.parent&&this.move(_.id,_.$index||-1,_.parent||this._ganttConfig.root_id),_},this.$parentProperty=t.parentProperty||"parent",typeof t.rootId!="function"?this.$getRootId=function(f){return function(){return f}}(t.rootId||0):this.$getRootId=t.rootId,this.$openInitially=t.openInitially,this.visibleOrder=g.$create(),this.fullOrder=g.$create(),this._searchVisibleOrder={},this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,this._skip_refresh=!1,this._ganttConfig=null,t.getConfig&&(this._ganttConfig=t.getConfig());var e={},a={},i={},s={},d=!1;return this._attachDataChange(function(){return this._indexRangeCache={},this._eachItemMainRangeCache=null,this._getItemsCache=null,!0}),this.attachEvent("onPreFilter",function(){this._indexRangeCache={},this._eachItemMainRangeCache=null,e={},a={},i={},s={},d=!1,this.eachItem(function(f){var _=this.getParent(f.id);f.$open&&i[_]!==!1?i[f.id]=!0:i[f.id]=!1,this._isSplitItem(f)&&(d=!0,e[f.id]=!0,a[f.id]=!0),d&&a[_]&&(a[f.id]=!0),i[_]||i[_]===void 0?s[f.id]=!0:s[f.id]=!1})}),this.attachEvent("onFilterItem",function(f,_){var p=!1;this._ganttConfig&&(p=this._ganttConfig.open_split_tasks);var v=s[_.id];return d&&(v&&a[_.id]&&!e[_.id]&&(v=!!p),a[_.id]&&!e[_.id]&&(_.$split_subtask=!0)),_.$expanded_branch=!!s[_.id],!!v}),this.attachEvent("onFilter",function(){e={},a={},i={},s={}}),this};n.prototype=h.mixin({_buildTree:function(t){for(var e=null,a=this.$getRootId(),i=0,s=t.length;i<s;i++)e=t[i],this.setParent(e,o(this.getParent(e),a)||a);for(i=0,s=t.length;i<s;i++)e=t[i],this._add_branch(e),e.$level=this.calculateItemLevel(e),e.$local_index=this.getBranchIndex(e.id),h.defined(e.$open)||(e.$open=h.defined(e.open)?e.open:this.$openInitially());this._updateOrder()},_isSplitItem:function(t){return t.render=="split"&&this.hasChild(t.id)},parse:function(t){this._skip_refresh||this.callEvent("onBeforeParse",[t]);var e=this._parseInner(t);this._buildTree(e),this.filter(),this._skip_refresh||this.callEvent("onParse",[e])},_addItemInner:function(t,e){var a=this.getParent(t);h.defined(a)||(a=this.$getRootId(),this.setParent(t,a));var i=this.getIndexById(a)+Math.min(Math.max(e,0),this.visibleOrder.length);1*i!==i&&(i=void 0),c.prototype._addItemInner.call(this,t,i),this.setParent(t,a),t.hasOwnProperty("$rendered_parent")&&this._move_branch(t,t.$rendered_parent),this._add_branch(t,e)},_changeIdInner:function(t,e){var a=this.getChildren(t),i=this._searchVisibleOrder[t];c.prototype._changeIdInner.call(this,t,e);var s=this.getParent(e);this._replace_branch_child(s,t,e),this._branches[t]&&(this._branches[e]=this._branches[t]);for(var d=0;d<a.length;d++){var f=this.getItem(a[d]);f[this.$parentProperty]=e,f.$rendered_parent=e}this._searchVisibleOrder[e]=i,delete this._branches[t]},_traverseBranches:function(t,e){h.defined(e)||(e=this.$getRootId());var a=this._branches[e];if(a)for(var i=0;i<a.length;i++){var s=a[i];t.call(this,s),this._branches[s]&&this._traverseBranches(t,s)}},_updateOrder:function(t){this.fullOrder=g.$create(),this._traverseBranches(function(e){this.fullOrder.push(e)}),t&&c.prototype._updateOrder.call(this,t)},_removeItemInner:function(t){var e=[];this.eachItem(function(i){e.push(i)},t),e.push(this.getItem(t));for(var a=0;a<e.length;a++)this._move_branch(e[a],this.getParent(e[a]),null),c.prototype._removeItemInner.call(this,e[a].id),this._move_branch(e[a],this.getParent(e[a]),null)},move:function(t,e,a){var i=arguments[3],s=(this._ganttConfig||{}).root_id||0;if(i=o(i,s)){if(i===t)return;a=this.getParent(i),e=this.getBranchIndex(i)}if(t!=a){h.defined(a)||(a=this.$getRootId());var d=this.getItem(t),f=this.getParent(d.id),_=this.getChildren(a);if(e==-1&&(e=_.length+1),f==a&&this.getBranchIndex(t)==e)return;if(this.callEvent("onBeforeItemMove",[t,a,e])===!1)return!1;for(var p=[],v=0;v<_.length;v++)r(_[v],null,this,this._ganttConfig)&&(p.push(_[v]),_.splice(v,1),v--);this._replace_branch_child(f,t);var y=(_=this.getChildren(a))[e];(y=o(y,s))?_=_.slice(0,e).concat([t]).concat(_.slice(e)):_.push(t),p.length&&(_=_.concat(p)),this.setParent(d,a),this._branches[a]=_;var m=this.calculateItemLevel(d)-d.$level;d.$level+=m,this.eachItem(function(k){k.$level+=m},d.id,this),this._moveInner(this.getIndexById(t),this.getIndexById(a)+e),this.callEvent("onAfterItemMove",[t,a,e]),this.refresh()}},getBranchIndex:function(t){for(var e=this.getChildren(this.getParent(t)),a=0;a<e.length;a++)if(e[a]==t)return a;return-1},hasChild:function(t){var e=this._branches[t];return e&&e.length},getChildren:function(t){var e=this._branches[t];return e||g.$create()},isChildOf:function(t,e){if(!this.exists(t))return!1;if(e===this.$getRootId())return!0;if(!this.hasChild(e))return!1;var a=this.getItem(t),i=this.getParent(t);if(this.getItem(e).$level>=a.$level)return!1;for(;a&&this.exists(i);){if((a=this.getItem(i))&&a.id==e)return!0;i=this.getParent(a)}return!1},getSiblings:function(t){if(!this.exists(t))return g.$create();var e=this.getParent(t);return this.getChildren(e)},getNextSibling:function(t){for(var e=this.getSiblings(t),a=0,i=e.length;a<i;a++)if(e[a]==t){var s=e[a+1];return s===0&&a>0&&(s="0"),s||null}return null},getPrevSibling:function(t){for(var e=this.getSiblings(t),a=0,i=e.length;a<i;a++)if(e[a]==t){var s=e[a-1];return s===0&&a>0&&(s="0"),s||null}return null},getParent:function(t){var e=null;return(e=t.id!==void 0?t:this.getItem(t))?e[this.$parentProperty]:this.$getRootId()},clearAll:function(){this._branches={},c.prototype.clearAll.call(this)},calculateItemLevel:function(t){var e=0;return this.eachParent(function(){e++},t),e},_setParentInner:function(t,e,a){a||(t.hasOwnProperty("$rendered_parent")?this._move_branch(t,t.$rendered_parent,e):this._move_branch(t,t[this.$parentProperty],e))},setParent:function(t,e,a){this._setParentInner(t,e,a),t[this.$parentProperty]=e},_eachItemCached:function(t,e){for(var a=0,i=e.length;a<i;a++)t.call(this,e[a])},_eachItemIterate:function(t,e,a){var i=this.getChildren(e);for(i.length&&(i=i.slice().reverse());i.length;){var s=i.pop(),d=this.getItem(s);if(t.call(this,d),a&&a.push(d),this.hasChild(d.id))for(var f=this.getChildren(d.id),_=f.length-1;_>=0;_--)i.push(f[_])}},eachItem:function(t,e){var a=this.$getRootId();h.defined(e)||(e=a);var i=o(e,a)||a,s=!1,d=!1,f=null;i===a&&(this._eachItemMainRangeCache?(s=!0,f=this._eachItemMainRangeCache):(d=!0,f=this._eachItemMainRangeCache=[])),s?this._eachItemCached(t,f):this._eachItemIterate(t,i,d?f:null)},eachParent:function(t,e){for(var a={},i=e,s=this.getParent(i);this.exists(s);){if(a[s])throw new Error("Invalid tasks tree. Cyclic reference has been detected on task "+s);a[s]=!0,i=this.getItem(s),t.call(this,i),s=this.getParent(i)}},_add_branch:function(t,e,a){var i=a===void 0?this.getParent(t):a;this.hasChild(i)||(this._branches[i]=g.$create());for(var s=this.getChildren(i),d=!1,f=0,_=s.length;f<_;f++)if(s[f]==t.id){d=!0;break}d||(1*e==e?s.splice(e,0,t.id):s.push(t.id),t.$rendered_parent=i)},_move_branch:function(t,e,a){this._eachItemMainRangeCache=null,this._replace_branch_child(e,t.id),this.exists(a)||a==this.$getRootId()?this._add_branch(t,void 0,a):delete this._branches[t.id],t.$level=this.calculateItemLevel(t),this.eachItem(function(i){i.$level=this.calculateItemLevel(i)},t.id)},_replace_branch_child:function(t,e,a){var i=this.getChildren(t);if(i&&t!==void 0){for(var s=g.$create(),d=0;d<i.length;d++)i[d]!=e?s.push(i[d]):a&&s.push(a);this._branches[t]=s}},sort:function(t,e,a){this.exists(a)||(a=this.$getRootId()),t||(t="order");var i=typeof t=="string"?function(p,v){return p[t]==v[t]||l.isDate(p[t])&&l.isDate(v[t])&&p[t].valueOf()==v[t].valueOf()?0:p[t]>v[t]?1:-1}:t;if(e){var s=i;i=function(p,v){return s(v,p)}}var d=this.getChildren(a);if(d){for(var f=[],_=d.length-1;_>=0;_--)f[_]=this.getItem(d[_]);for(f.sort(i),_=0;_<f.length;_++)d[_]=f[_].id,this.sort(t,e,d[_])}},filter:function(t){for(var e in this.pull)this.pull[e].$rendered_parent!==this.getParent(this.pull[e])&&this._move_branch(this.pull[e],this.pull[e].$rendered_parent,this.getParent(this.pull[e]));return c.prototype.filter.apply(this,arguments)},open:function(t){this.exists(t)&&(this.getItem(t).$open=!0,this.callEvent("onItemOpen",[t]))},close:function(t){this.exists(t)&&(this.getItem(t).$open=!1,this.callEvent("onItemClose",[t]))},destructor:function(){c.prototype.destructor.call(this),this._branches=null,this._indexRangeCache={},this._eachItemMainRangeCache=null}},c.prototype),T.exports=n},function(T,C,u){var g=u(0),h={$create:function(l){return g.mixin(l||[],this)},$removeAt:function(l,c){l>=0&&this.splice(l,c||1)},$remove:function(l){this.$removeAt(this.$find(l))},$insertAt:function(l,c){if(c||c===0){var r=this.splice(c,this.length-c);this[c]=l,this.push.apply(this,r)}else this.push(l)},$find:function(l){for(var c=0;c<this.length;c++)if(l==this[c])return c;return-1},$each:function(l,c){for(var r=0;r<this.length;r++)l.call(c||this,this[r])},$map:function(l,c){for(var r=0;r<this.length;r++)this[r]=l.call(c||this,this[r]);return this},$filter:function(l,c){for(var r=0;r<this.length;r++)l.call(c||this,this[r])||(this.splice(r,1),r--);return this}};T.exports=h},function(T,C,u){var g=u(41),h=u(0),l=u(4),c=u(11),r=function(o){return this.pull={},this.$initItem=o.initItem,this.visibleOrder=g.$create(),this.fullOrder=g.$create(),this._skip_refresh=!1,this._filterRule=null,this._searchVisibleOrder={},this._indexRangeCache={},this._getItemsCache=null,this.$config=o,l(this),this._attachDataChange(function(){return this._indexRangeCache={},this._getItemsCache=null,!0}),this};r.prototype={_attachDataChange:function(o){this.attachEvent("onClearAll",o),this.attachEvent("onBeforeParse",o),this.attachEvent("onBeforeUpdate",o),this.attachEvent("onBeforeDelete",o),this.attachEvent("onBeforeAdd",o),this.attachEvent("onParse",o),this.attachEvent("onBeforeFilter",o)},_parseInner:function(o){for(var n=null,t=[],e=0,a=o.length;e<a;e++)n=o[e],this.$initItem&&(this.$config.copyOnParse()&&(n=h.copy(n)),n=this.$initItem(n)),this.callEvent("onItemLoading",[n])&&(this.pull.hasOwnProperty(n.id)||this.fullOrder.push(n.id),t.push(n),this.pull[n.id]=n);return t},parse:function(o){this.isSilent()||this.callEvent("onBeforeParse",[o]);var n=this._parseInner(o);this.isSilent()||(this.refresh(),this.callEvent("onParse",[n]))},getItem:function(o){return this.pull[o]},_updateOrder:function(o){o.call(this.visibleOrder),o.call(this.fullOrder)},updateItem:function(o,n){if(h.defined(n)||(n=this.getItem(o)),!this.isSilent()&&this.callEvent("onBeforeUpdate",[n.id,n])===!1)return!1;h.mixin(this.pull[o],n,!0),this.isSilent()||(this.callEvent("onAfterUpdate",[n.id,n]),this.callEvent("onStoreUpdated",[n.id,n,"update"]))},_removeItemInner:function(o){this._updateOrder(function(){this.$remove(o)}),delete this.pull[o]},removeItem:function(o){var n=this.getItem(o);if(!this.isSilent()&&this.callEvent("onBeforeDelete",[n.id,n])===!1)return!1;this.callEvent("onAfterDeleteConfirmed",[n.id,n]),this._removeItemInner(o),this.isSilent()||(this.filter(),this.callEvent("onAfterDelete",[n.id,n]),this.callEvent("onStoreUpdated",[n.id,n,"delete"]))},_addItemInner:function(o,n){if(this.exists(o.id))this.silent(function(){this.updateItem(o.id,o)});else{var t=this.visibleOrder,e=t.length;(!h.defined(n)||n<0)&&(n=e),n>e&&(n=Math.min(t.length,n))}this.pull[o.id]=o,this.isSilent()||this._updateOrder(function(){this.$find(o.id)===-1&&this.$insertAt(o.id,n)}),this.filter()},isVisible:function(o){return this.visibleOrder.$find(o)>-1},getVisibleItems:function(){return this.getIndexRange()},addItem:function(o,n){return h.defined(o.id)||(o.id=h.uid()),this.$initItem&&(o=this.$initItem(o)),!(!this.isSilent()&&this.callEvent("onBeforeAdd",[o.id,o])===!1)&&(this._addItemInner(o,n),this.isSilent()||(this.callEvent("onAfterAdd",[o.id,o]),this.callEvent("onStoreUpdated",[o.id,o,"add"])),o.id)},_changeIdInner:function(o,n){this.pull[o]&&(this.pull[n]=this.pull[o]);var t=this._searchVisibleOrder[o];this.pull[n].id=n,this._updateOrder(function(){this[this.$find(o)]=n}),this._searchVisibleOrder[n]=t,delete this._searchVisibleOrder[o],delete this.pull[o]},changeId:function(o,n){this._changeIdInner(o,n),this.callEvent("onIdChange",[o,n])},exists:function(o){return!!this.pull[o]},_moveInner:function(o,n){var t=this.getIdByIndex(o);this._updateOrder(function(){this.$removeAt(o),this.$insertAt(t,Math.min(this.length,n))})},move:function(o,n){var t=this.getIdByIndex(o),e=this.getItem(t);this._moveInner(o,n),this.isSilent()||this.callEvent("onStoreUpdated",[e.id,e,"move"])},clearAll:function(){this.$destroyed||(this.silent(function(){this.unselect()}),this.pull={},this.visibleOrder=g.$create(),this.fullOrder=g.$create(),this.isSilent()||(this.callEvent("onClearAll",[]),this.refresh()))},silent:function(o,n){var t=!1;this.isSilent()&&(t=!0),this._skip_refresh=!0,o.call(n||this),t||(this._skip_refresh=!1)},isSilent:function(){return!!this._skip_refresh},arraysEqual:function(o,n){if(o.length!==n.length)return!1;for(var t=0;t<o.length;t++)if(o[t]!==n[t])return!1;return!0},refresh:function(o,n){var t,e;if(!this.isSilent()&&(o&&(t=this.getItem(o)),e=o?[o,t,"paint"]:[null,null,null],this.callEvent("onBeforeStoreUpdate",e)!==!1)){var a=this._quick_refresh&&!this._mark_recompute;if(this._mark_recompute=!1,o){if(!n&&!a){var i=this.visibleOrder;this.filter(),this.arraysEqual(i,this.visibleOrder)||(o=void 0)}}else a||this.filter();e=o?[o,t,"paint"]:[null,null,null],this.callEvent("onStoreUpdated",e)}},count:function(){return this.fullOrder.length},countVisible:function(){return this.visibleOrder.length},sort:function(o){},serialize:function(){},eachItem:function(o){for(var n=0;n<this.fullOrder.length;n++){var t=this.getItem(this.fullOrder[n]);o.call(this,t)}},find:function(o){var n=[];return this.eachItem(function(t){o(t)&&n.push(t)}),n},filter:function(o){this.isSilent()||this.callEvent("onBeforeFilter",[]),this.callEvent("onPreFilter",[]);var n=g.$create(),t=[];this.eachItem(function(a){this.callEvent("onFilterItem",[a.id,a])&&(c(a.id,null,this,this._ganttConfig)?t.push(a.id):n.push(a.id))});for(var e=0;e<t.length;e++)n.push(t[e]);for(this.visibleOrder=n,this._searchVisibleOrder={},e=0;e<this.visibleOrder.length;e++)this._searchVisibleOrder[this.visibleOrder[e]]=e;this.isSilent()||this.callEvent("onFilter",[])},getIndexRange:function(o,n){var t=Math.min(n||1/0,this.countVisible()-1),e=o||0,a=e+"-"+t;if(this._indexRangeCache[a])return this._indexRangeCache[a].slice();for(var i=[],s=e;s<=t;s++)i.push(this.getItem(this.visibleOrder[s]));return this._indexRangeCache[a]=i.slice(),i},getItems:function(){if(this._getItemsCache)return this._getItemsCache.slice();var o=[];for(var n in this.pull)o.push(this.pull[n]);return this._getItemsCache=o.slice(),o},getIdByIndex:function(o){return this.visibleOrder[o]},getIndexById:function(o){var n=this._searchVisibleOrder[o];return n===void 0&&(n=-1),n},_getNullIfUndefined:function(o){return o===void 0?null:o},getFirst:function(){return this._getNullIfUndefined(this.visibleOrder[0])},getLast:function(){return this._getNullIfUndefined(this.visibleOrder[this.visibleOrder.length-1])},getNext:function(o){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(o)+1])},getPrev:function(o){return this._getNullIfUndefined(this.visibleOrder[this.getIndexById(o)-1])},destructor:function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.$destroyed=!0,this.pull=null,this.$initItem=null,this.visibleOrder=null,this.fullOrder=null,this._skip_refresh=null,this._filterRule=null,this._searchVisibleOrder=null,this._indexRangeCache={}}},T.exports=r},function(T,C){var u,g,h=T.exports={};function l(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function r(f){if(u===setTimeout)return setTimeout(f,0);if((u===l||!u)&&setTimeout)return u=setTimeout,setTimeout(f,0);try{return u(f,0)}catch{try{return u.call(null,f,0)}catch{return u.call(this,f,0)}}}(function(){try{u=typeof setTimeout=="function"?setTimeout:l}catch{u=l}try{g=typeof clearTimeout=="function"?clearTimeout:c}catch{g=c}})();var o,n=[],t=!1,e=-1;function a(){t&&o&&(t=!1,o.length?n=o.concat(n):e=-1,n.length&&i())}function i(){if(!t){var f=r(a);t=!0;for(var _=n.length;_;){for(o=n,n=[];++e<_;)o&&o[e].run();e=-1,_=n.length}o=null,t=!1,function(p){if(g===clearTimeout)return clearTimeout(p);if((g===c||!g)&&clearTimeout)return g=clearTimeout,clearTimeout(p);try{g(p)}catch{try{return g.call(null,p)}catch{return g.call(this,p)}}}(f)}}function s(f,_){this.fun=f,this.array=_}function d(){}h.nextTick=function(f){var _=new Array(arguments.length-1);if(arguments.length>1)for(var p=1;p<arguments.length;p++)_[p-1]=arguments[p];n.push(new s(f,_)),n.length!==1||t||r(i)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=d,h.addListener=d,h.once=d,h.off=d,h.removeListener=d,h.removeAllListeners=d,h.emit=d,h.prependListener=d,h.prependOnceListener=d,h.listeners=function(f){return[]},h.binding=function(f){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(f){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(T,C){T.exports=function(u,g){if(!g)return!0;if(u._on_timeout)return!1;var h=Math.ceil(1e3/g);return h<2||(setTimeout(function(){delete u._on_timeout},h),u._on_timeout=!0,!0)}},function(T,C,u){var g=u(0);T.exports=function h(l,c){l=l||g.event,c=c||g.eventRemove;var r=[],o={attach:function(n,t,e,a){r.push({element:n,event:t,callback:e,capture:a}),l(n,t,e,a)},detach:function(n,t,e,a){c(n,t,e,a);for(var i=0;i<r.length;i++){var s=r[i];s.element===n&&s.event===t&&s.callback===e&&s.capture===a&&(r.splice(i,1),i--)}},detachAll:function(){for(var n=r.slice(),t=0;t<n.length;t++){var e=n[t];o.detach(e.element,e.event,e.callback,e.capture),o.detach(e.element,e.event,e.callback,void 0),o.detach(e.element,e.event,e.callback,!1),o.detach(e.element,e.event,e.callback,!0)}r.splice(0,r.length)},extend:function(){return h(this.event,this.eventRemove)}};return o}},function(T,C){T.exports=function(u){var g=new RegExp(`<(?:.|
)*?>`,"gm"),h=new RegExp(" +","gm");function l(n){return(n+"").replace(g," ").replace(h," ")}var c=new RegExp("'","gm");function r(n){return(n+"").replace(c,"&#39;")}for(var o in u._waiAria={getAttributeString:function(n){var t=[" "];for(var e in n){var a=r(l(n[e]));t.push(e+"='"+a+"'")}return t.push(" "),t.join(" ")},getTimelineCellAttr:function(n){return u._waiAria.getAttributeString({"aria-label":n})},_taskCommonAttr:function(n,t){n.start_date&&n.end_date&&(t.setAttribute("aria-label",l(u.templates.tooltip_text(n.start_date,n.end_date,n))),n.$dataprocessor_class&&t.setAttribute("aria-busy",!0),t.setAttribute("aria-selected",u.isSelectedTask(n.id)?"true":"false"))},setTaskBarAttr:function(n,t){this._taskCommonAttr(n,t),!u.isReadonly(n)&&u.config.drag_move&&(n.id!=u.getState("tasksDnd").drag_id?t.setAttribute("aria-grabbed",!1):t.setAttribute("aria-grabbed",!0))},taskRowAttr:function(n,t){this._taskCommonAttr(n,t),!u.isReadonly(n)&&u.config.order_branch&&t.setAttribute("aria-grabbed",!1),t.setAttribute("role","row"),t.setAttribute("aria-level",n.$level),u.hasChild(n.id)&&t.setAttribute("aria-expanded",n.$open?"true":"false")},linkAttr:function(n,t){var e=u.config.links,a=n.type==e.finish_to_start||n.type==e.start_to_start,i=n.type==e.start_to_start||n.type==e.start_to_finish,s=u.locale.labels.link+" "+u.templates.drag_link(n.source,i,n.target,a);t.setAttribute("aria-label",l(s)),u.isReadonly(n)&&t.setAttribute("aria-readonly",!0)},gridSeparatorAttr:function(n){n.setAttribute("role","separator")},lightboxHiddenAttr:function(n){n.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(n){n.setAttribute("aria-hidden","false")},lightboxAttr:function(n){n.setAttribute("role","dialog"),n.setAttribute("aria-hidden","true"),n.firstChild.setAttribute("role","heading")},lightboxButtonAttrString:function(n){return this.getAttributeString({role:"button","aria-label":u.locale.labels[n],tabindex:"0"})},lightboxHeader:function(n,t){n.setAttribute("aria-label",t)},lightboxSelectAttrString:function(n){var t="";switch(n){case"%Y":t=u.locale.labels.years;break;case"%m":t=u.locale.labels.months;break;case"%d":t=u.locale.labels.days;break;case"%H:%i":t=u.locale.labels.hours+u.locale.labels.minutes}return u._waiAria.getAttributeString({"aria-label":t})},lightboxDurationInputAttrString:function(n){return this.getAttributeString({"aria-label":u.locale.labels.column_duration,"aria-valuemin":"0"})},gridAttrString:function(){return[" role='treegrid'",u.config.multiselect?"aria-multiselectable='true'":"aria-multiselectable='false'"," "].join(" ")},gridScaleRowAttrString:function(){return"role='row'"},gridScaleCellAttrString:function(n,t){var e="";if(n.name=="add")e=this.getAttributeString({role:"button","aria-label":u.locale.labels.new_task});else{var a={role:"columnheader","aria-label":t};u._sort&&u._sort.name==n.name&&(u._sort.direction=="asc"?a["aria-sort"]="ascending":a["aria-sort"]="descending"),e=this.getAttributeString(a)}return e},gridDataAttrString:function(){return"role='rowgroup'"},gridCellAttrString:function(n,t,e){var a={role:"gridcell","aria-label":t};return n.editor&&!u.isReadonly(e)||(a["aria-readonly"]=!0),this.getAttributeString(a)},gridAddButtonAttrString:function(n){return this.getAttributeString({role:"button","aria-label":u.locale.labels.new_task})},messageButtonAttrString:function(n){return"tabindex='0' role='button' aria-label='"+n+"'"},messageInfoAttr:function(n){n.setAttribute("role","alert")},messageModalAttr:function(n,t){n.setAttribute("role","dialog"),t&&n.setAttribute("aria-labelledby",t)},quickInfoAttr:function(n){n.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' "},quickInfoHeader:function(n,t){n.setAttribute("aria-label",t)},quickInfoButtonAttrString:function(n){return u._waiAria.getAttributeString({role:"button","aria-label":n,tabindex:"0"})},tooltipAttr:function(n){n.setAttribute("role","tooltip")},tooltipVisibleAttr:function(n){n.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(n){n.setAttribute("aria-hidden","true")}},u._waiAria)u._waiAria[o]=function(n){return function(){return u.config.wai_aria_attributes?n.apply(this,arguments):""}}(u._waiAria[o])}},function(T,C){T.exports=function(u){u._extend_to_optional=function(g){var h=g,l={render:h.render,focus:h.focus,set_value:function(c,r,o,n){var t=u._resolve_default_mapping(n);if(!o[t.start_date]||t.start_date=="start_date"&&this._isAllowedUnscheduledTask(o)){l.disable(c,n);var e={};for(var a in t)e[t[a]]=o[a];return h.set_value.call(u,c,r,e,n)}return l.enable(c,n),h.set_value.call(u,c,r,o,n)},get_value:function(c,r,o){return o.disabled?{start_date:null}:h.get_value.call(u,c,r,o)},update_block:function(c,r){if(u.callEvent("onSectionToggle",[u._lightbox_id,r]),c.style.display=r.disabled?"none":"block",r.button){var o=c.previousSibling.querySelector(".gantt_custom_button_label"),n=u.locale.labels,t=r.disabled?n[r.name+"_enable_button"]:n[r.name+"_disable_button"];o.innerHTML=t}u.resizeLightbox()},disable:function(c,r){r.disabled=!0,l.update_block(c,r)},enable:function(c,r){r.disabled=!1,l.update_block(c,r)},button_click:function(c,r,o,n){if(u.callEvent("onSectionButton",[u._lightbox_id,o])!==!1){var t=u._get_typed_lightbox_config()[c];t.disabled?l.enable(n,t):l.disable(n,t)}}};return l},u.form_blocks.duration_optional=u._extend_to_optional(u.form_blocks.duration),u.form_blocks.time_optional=u._extend_to_optional(u.form_blocks.time)}},function(T,C,u){var g=u(3);T.exports=function(h){var l=u(12)(h);function c(){return l.apply(this,arguments)||this}return g(c,l),c.prototype.render=function(r){var o=h.config.types,n=h.locale.labels,t=[],e=r.filter||function(s,d){return!o.placeholder||d!==o.placeholder};for(var a in o)e(a,o[a])&&t.push({key:o[a],label:n["type_"+a]});r.options=t;var i=r.onchange;return r.onchange=function(){h.changeLightboxType(this.value),this.value===h.config.types.task&&(h._lightbox_new_type="task"),typeof i=="function"&&i.apply(this,arguments)},l.prototype.render.apply(this,arguments)},c}},function(T,C,u){var g=u(3),h=u(29);T.exports=function(l){var c=u(6)(l);function r(){return c.apply(this,arguments)||this}function o(t){return!t||t===l.config.constraint_types.ASAP||t===l.config.constraint_types.ALAP}function n(t,e){for(var a=o(e),i=0;i<t.length;i++)t[i].disabled=a}return g(r,c),r.prototype.render=function(t){var e=(t.height||30)+"px",a="<div class='gantt_cal_ltext gantt_section_"+t.name+"' style='height:"+e+";'>",i=[];for(var s in l.config.constraint_types)i.push({key:l.config.constraint_types[s],label:l.locale.labels[l.config.constraint_types[s]]});return t.options=t.options||i,a+="<span data-constraint-type-select>"+h.getHtmlSelect(t.options,[{key:"data-type",value:"constraint-type"}])+"</span>",a+="<label data-constraint-time-select>"+(l.locale.labels.constraint_date||"Constraint date")+": "+l.form_blocks.getTimePicker.call(this,t)+"</label>",a+="</div>"},r.prototype.set_value=function(t,e,a,i){var s=t.querySelector("[data-constraint-type-select] select"),d=t.querySelectorAll("[data-constraint-time-select] select"),f=i._time_format_order,_=l._resolve_default_mapping(i);s._eventsInitialized||(s.addEventListener("change",function(y){n(d,y.target.value)}),s._eventsInitialized=!0);var p=a[_.constraint_date]||new Date;l.form_blocks._fill_lightbox_select(d,0,p,f,i);var v=a[_.constraint_type]||l.getConstraintType(a);s.value=v,n(d,v)},r.prototype.get_value=function(t,e,a){var i=t.querySelector("[data-constraint-type-select] select"),s=t.querySelectorAll("[data-constraint-time-select] select"),d=i.value,f=null;return o(d)||(f=l.form_blocks.getTimePickerValue(s,a)),{constraint_type:d,constraint_date:f}},r.prototype.focus=function(t){l._focus(t.querySelector("select"))},r}},function(T,C,u){var g=u(3);T.exports=function(h){var l=u(12)(h);function c(){return l.apply(this,arguments)||this}function r(o,n){var t=[],e=[];n&&(t=h.getTaskByTime(),o.allow_root&&t.unshift({id:h.config.root_id,text:o.root_label||""}),t=function(d,f,_){var p=f.filter||function(){return!0};d=d.slice(0);for(var v=0;v<d.length;v++){var y=d[v];(y.id==_||h.isChildOf(y.id,_)||p(y.id,y)===!1)&&(d.splice(v,1),v--)}return d}(t,o,n),o.sort&&t.sort(o.sort));for(var a=o.template||h.templates.task_text,i=0;i<t.length;i++){var s=a.apply(h,[t[i].start_date,t[i].end_date,t[i]]);s===void 0&&(s=""),e.push({key:t[i].id,label:s})}return o.options=e,o.map_to=o.map_to||"parent",h.form_blocks.select.render.apply(this,arguments)}return g(c,l),c.prototype.render=function(o){return r(o,!1)},c.prototype.set_value=function(o,n,t,e){n===0&&(n="0");var a=document.createElement("div");a.innerHTML=r(e,t.id);var i=a.removeChild(a.firstChild);return o.onselect=null,o.parentNode.replaceChild(i,o),h.form_blocks.select.set_value.apply(h,[i,n,t,e])},c}},function(T,C,u){var g=u(3),h=u(37).default;T.exports=function(l){var c=u(6)(l);function r(){return c.apply(this,arguments)||this}function o(e){return e.formatter||new h}function n(e,a){var i=e.getElementsByTagName("select"),s=a._time_format_order,d=0,f=0;if(l.defined(s[3])){var _=i[s[3]],p=parseInt(_.value,10);isNaN(p)&&_.hasAttribute("data-value")&&(p=parseInt(_.getAttribute("data-value"),10)),d=Math.floor(p/60),f=p%60}return new Date(i[s[2]].value,i[s[1]].value,i[s[0]].value,d,f)}function t(e,a){var i=e.getElementsByTagName("input")[1];return(i=o(a).parse(i.value))&&!window.isNaN(i)||(i=1),i<0&&(i*=-1),i}return g(r,c),r.prototype.render=function(e){var a="<div class='gantt_time_selects'>"+l.form_blocks.getTimePicker.call(this,e)+"</div>",i=" "+l.locale.labels[l.config.duration_unit+"s"]+" ",s=e.single_date?" style='display:none'":"",d=e.readonly?" disabled='disabled'":"",f=l._waiAria.lightboxDurationInputAttrString(e),_="gantt_duration_value";e.formatter&&(i="",_+=" gantt_duration_value_formatted");var p="<div class='gantt_duration' "+s+"><input type='button' class='gantt_duration_dec' value='−'"+d+"><input type='text' value='5days' class='"+_+"'"+d+" "+f+"><input type='button' class='gantt_duration_inc' value='+'"+d+">"+i+"<span></span></div>";return"<div style='height:"+(e.height||30)+"px;padding-top:0px;font-size:inherit;' class='gantt_section_time'>"+a+" "+p+"</div>"},r.prototype.set_value=function(e,a,i,s){var d,f,_,p,v=e.getElementsByTagName("select"),y=e.getElementsByTagName("input"),m=y[1],k=[y[0],y[2]],b=e.getElementsByTagName("span")[0],w=s._time_format_order;function x(){var S=n.call(l,e,s),E=t.call(l,e,s),M=l.calculateEndDate({start_date:S,duration:E,task:i}),D=l.templates.task_end_date||l.templates.task_date;b.innerHTML=D(M)}function $(S){var E=m.value;E=o(s).parse(E),window.isNaN(E)&&(E=0),(E+=S)<1&&(E=1),m.value=o(s).format(E),x()}k[0].onclick=l.bind(function(){$(-1*l.config.duration_step)},this),k[1].onclick=l.bind(function(){$(1*l.config.duration_step)},this),v[0].onchange=x,v[1].onchange=x,v[2].onchange=x,v[3]&&(v[3].onchange=x),m.onkeydown=l.bind(function(S){var E;return(E=(S=S||window.event).charCode||S.keyCode||S.which)==l.constants.KEY_CODES.DOWN?($(-1*l.config.duration_step),!1):E==l.constants.KEY_CODES.UP?($(1*l.config.duration_step),!1):void window.setTimeout(x,1)},this),m.onchange=l.bind(x,this),typeof(d=l._resolve_default_mapping(s))=="string"&&(d={start_date:d}),f=i[d.start_date]||new Date,_=i[d.end_date]||l.calculateEndDate({start_date:f,duration:1,task:i}),p=Math.round(i[d.duration])||l.calculateDuration({start_date:f,end_date:_,task:i}),p=o(s).format(p),l.form_blocks._fill_lightbox_select(v,0,f,w,s),m.value=p,x()},r.prototype.get_value=function(e,a,i){var s=n(e,i),d=t(e,i),f=l.calculateEndDate({start_date:s,duration:d,task:a});return typeof l._resolve_default_mapping(i)=="string"?s:{start_date:s,end_date:f,duration:d}},r.prototype.focus=function(e){l._focus(e.getElementsByTagName("select")[0])},r}},function(T,C,u){var g=u(3);T.exports=function(h){var l=u(6)(h);function c(){return l.apply(this,arguments)||this}return g(c,l),c.prototype.render=function(r){var o="<div class='gantt_cal_ltext' style='height:"+((r.height||"23")+"px")+";'>";if(r.options&&r.options.length)for(var n=0;n<r.options.length;n++)o+="<label><input type='radio' value='"+r.options[n].key+"' name='"+r.name+"'>"+r.options[n].label+"</label>";return o+="</div>"},c.prototype.set_value=function(r,o,n,t){var e;t.options&&t.options.length&&(e=r.querySelector("input[type=radio][value='"+o+"']")||r.querySelector("input[type=radio][value='"+t.default_value+"']"))&&(!r._dhx_onchange&&t.onchange&&(r.onchange=t.onchange,r._dhx_onchange=!0),e.checked=!0)},c.prototype.get_value=function(r,o){var n=r.querySelector("input[type=radio]:checked");return n?n.value:""},c.prototype.focus=function(r){h._focus(r.querySelector("input[type=radio]"))},c}},function(T,C,u){var g=u(2),h=u(3);T.exports=function(l){var c=u(6)(l);function r(){return c.apply(this,arguments)||this}return h(r,c),r.prototype.render=function(o){var n="<div class='gantt_cal_ltext' style='height:"+((o.height||"23")+"px")+";'>";if(o.options&&o.options.length)for(var t=0;t<o.options.length;t++)n+="<label><input type='checkbox' value='"+o.options[t].key+"' name='"+o.name+"'>"+o.options[t].label+"</label>";else o.single_value=!0,n+="<label><input type='checkbox' name='"+o.name+"'></label>";return n+="</div>"},r.prototype.set_value=function(o,n,t,e){var a=Array.prototype.slice.call(o.querySelectorAll("input[type=checkbox]"));!o._dhx_onchange&&e.onchange&&(o.onchange=e.onchange,o._dhx_onchange=!0),e.single_value?a[0].checked=!!n:g.forEach(a,function(i){i.checked=!!n&&n.indexOf(i.value)>=0})},r.prototype.get_value=function(o,n,t){return t.single_value?o.querySelector("input[type=checkbox]").checked:g.arrayMap(Array.prototype.slice.call(o.querySelectorAll("input[type=checkbox]:checked")),function(e){return e.value})},r.prototype.focus=function(o){l._focus(o.querySelector("input[type=checkbox]"))},r}},function(T,C,u){var g=u(3);T.exports=function(h){var l=u(6)(h);function c(){return l.apply(this,arguments)||this}return g(c,l),c.prototype.render=function(r){var o=h.form_blocks.getTimePicker.call(this,r),n="<div style='height:"+(r.height||30)+"px;padding-top:0px;font-size:inherit;text-align:center;' class='gantt_section_time'>";return n+=o,r.single_date?(o=h.form_blocks.getTimePicker.call(this,r,!0),n+="<span></span>"):n+="<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>",n+=o,n+="</div>"},c.prototype.set_value=function(r,o,n,t){var e=t,a=r.getElementsByTagName("select"),i=t._time_format_order;if(e.auto_end_date)for(var s=function(){_=new Date(a[i[2]].value,a[i[1]].value,a[i[0]].value,0,0),p=h.calculateEndDate({start_date:_,duration:1,task:n}),h.form_blocks._fill_lightbox_select(a,i.size,p,i,e)},d=0;d<4;d++)a[d].onchange=s;var f=h._resolve_default_mapping(t);typeof f=="string"&&(f={start_date:f});var _=n[f.start_date]||new Date,p=n[f.end_date]||h.calculateEndDate({start_date:_,duration:1,task:n});h.form_blocks._fill_lightbox_select(a,0,_,i,e),h.form_blocks._fill_lightbox_select(a,i.size,p,i,e)},c.prototype.get_value=function(r,o,n){var t,e=r.getElementsByTagName("select"),a=n._time_format_order;return t=h.form_blocks.getTimePickerValue(e,n),typeof h._resolve_default_mapping(n)=="string"?t:{start_date:t,end_date:function(i,s,d){var f=h.form_blocks.getTimePickerValue(i,n,s.size);return f<=d&&(n.autofix_end!==!1||n.single_date)?h.date.add(d,h._get_timepicker_step(),"minute"):f}(e,a,t)}},c.prototype.focus=function(r){h._focus(r.getElementsByTagName("select")[0])},c}},function(T,C,u){var g=u(3);T.exports=function(h){var l=u(6)(h);function c(){return l.apply(this,arguments)||this}return g(c,l),c.prototype.render=function(r){return"<div class='gantt_cal_ltext' style='height:"+((r.height||"130")+"px")+";'><textarea></textarea></div>"},c.prototype.set_value=function(r,o){h.form_blocks.textarea._get_input(r).value=o||""},c.prototype.get_value=function(r){return h.form_blocks.textarea._get_input(r).value},c.prototype.focus=function(r){var o=h.form_blocks.textarea._get_input(r);h._focus(o,!0)},c.prototype._get_input=function(r){return r.querySelector("textarea")},c}},function(T,C,u){var g=u(3);T.exports=function(h){var l=u(6)(h);function c(){return l.apply(this,arguments)||this}return g(c,l),c.prototype.render=function(r){return"<div class='gantt_cal_ltext gantt_cal_template' style='height:"+((r.height||"30")+"px")+";'></div>"},c.prototype.set_value=function(r,o){r.innerHTML=o||""},c.prototype.get_value=function(r){return r.innerHTML||""},c.prototype.focus=function(){},c}},function(T,C,u){function g(h){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(h)}T.exports=function(h){var l=u(1),c=u(2),r=u(56)(h),o=u(55)(h),n=u(54)(h),t=u(12)(h),e=u(53)(h),a=u(52)(h),i=u(51)(h),s=u(50)(h),d=u(12)(h),f=u(49)(h),_=u(48)(h);function p(y,m){var k,b,w="";for(b=0;b<y.length;b++)k=h.config._migrate_buttons[y[b]]?h.config._migrate_buttons[y[b]]:y[b],w+="<div "+h._waiAria.lightboxButtonAttrString(k)+" class='gantt_btn_set gantt_left_btn_set "+k+"_set'"+(m?" style='float:right;'":"")+"><div dhx_button='1' data-dhx-button='1' class='"+k+"'></div><div>"+h.locale.labels[k]+"</div></div>";return w}function v(y,m,k){var b,w,x,$,S,E,M="";switch(k.timeFormat[m]){case"%Y":for(y._time_format_order[2]=m,y._time_format_order.size++,y.year_range&&(isNaN(y.year_range)?y.year_range.push&&(x=y.year_range[0],$=y.year_range[1]):b=y.year_range),b=b||10,w=w||Math.floor(b/2),x=x||k.date.getFullYear()-w,$=$||h.getState().max_date.getFullYear()+w,S=x;S<$;S++)M+="<option value='"+S+"'>"+S+"</option>";break;case"%m":for(y._time_format_order[1]=m,y._time_format_order.size++,S=0;S<12;S++)M+="<option value='"+S+"'>"+h.locale.date.month_full[S]+"</option>";break;case"%d":for(y._time_format_order[0]=m,y._time_format_order.size++,S=1;S<32;S++)M+="<option value='"+S+"'>"+S+"</option>";break;case"%H:%i":for(y._time_format_order[3]=m,y._time_format_order.size++,S=k.first,E=k.date.getDate(),y._time_values=[];S<k.last;)M+="<option value='"+S+"'>"+h.templates.time_picker(k.date)+"</option>",y._time_values.push(S),k.date.setTime(k.date.valueOf()+60*h._get_timepicker_step()*1e3),S=24*(k.date.getDate()!=E?1:0)*60+60*k.date.getHours()+k.date.getMinutes()}return M}h._lightbox_methods={},h._lightbox_template="<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span></div><div class='gantt_cal_larea'></div>",h._lightbox_root=h.$root,h.$services.getService("state").registerProvider("lightbox",function(){return{lightbox:h._lightbox_id}}),h.showLightbox=function(y){if(this.callEvent("onBeforeLightbox",[y])){var m=this.getTask(y),k=this.getLightbox(this.getTaskType(m.type));this._center_lightbox(k),this.showCover(),this._fill_lightbox(y,k),this._waiAria.lightboxVisibleAttr(k),this.callEvent("onLightbox",[y])}},h._get_timepicker_step=function(){if(this.config.round_dnd_dates){var y;if(function(k){var b=k.$ui.getView("timeline");return!(!b||!b.isVisible())}(this)){var m=h.getScale();y=c.getSecondsInUnit(m.unit)*m.step/60}return(!y||y>=1440)&&(y=this.config.time_step),y}return this.config.time_step},h.getLabel=function(y,m){for(var k=this._get_typed_lightbox_config(),b=0;b<k.length;b++)if(k[b].map_to==y){for(var w=k[b].options,x=0;x<w.length;x++)if(w[x].key==m)return w[x].label}return""},h.updateCollection=function(y,m){m=m.slice(0);var k=h.serverList(y);if(!k)return!1;k.splice(0,k.length),k.push.apply(k,m||[]),h.resetLightbox()},h.getLightboxType=function(){return this.getTaskType(this._lightbox_type)},h.getLightbox=function(y){var m,k,b,w,x,$="";if(function(){var E=h.config.csp===!0,M=!!window.Sfdc||!!window.$A||window.Aura||"$shadowResolver$"in document.body;h._lightbox_root=E||M?h.$root:document.body}(),y===void 0&&(y=this.getLightboxType()),!this._lightbox||this.getLightboxType()!=this.getTaskType(y)){this._lightbox_type=this.getTaskType(y),m=document.createElement("div"),$="gantt_cal_light",k=this._is_lightbox_timepicker(),(h.config.wide_form||k)&&($+=" gantt_cal_light_wide"),k&&(h.config.wide_form=!0,$+=" gantt_cal_light_full"),m.className=$,m.style.visibility="hidden",b=this._lightbox_template,b+=p(this.config.buttons_left),b+=p(this.config.buttons_right,!0),m.innerHTML=b,h._waiAria.lightboxAttr(m),h.config.drag_lightbox&&(m.firstChild.onmousedown=h._ready_to_dnd,m.firstChild.onselectstart=function(){return!1},m.firstChild.style.cursor="pointer",h._init_dnd_events()),this._lightbox&&this.resetLightbox(),h._lightbox_root.insertBefore(m,h._lightbox_root.firstChild),this._lightbox=m,w=this._get_typed_lightbox_config(y),b=this._render_sections(w);var S=(x=m.querySelector("div.gantt_cal_larea")).style.overflow;x.style.overflow="hidden",x.innerHTML=b,function(E){var M,D,A,I,P,H;for(H=0;H<E.length;H++)M=E[H],A=h._lightbox_root.querySelector("#"+M.id),M.id&&A&&(D=A.querySelector("label"),(I=A.nextSibling)&&(P=I.querySelector("input, select, textarea"))&&(P.id=P.id||"input_"+h.uid(),M.inputId=P.id,D.setAttribute("for",M.inputId)))}(w),this.resizeLightbox(),x.style.overflow=S,this._init_lightbox_events(this),m.style.display="none",m.style.visibility="visible"}return this._lightbox},h._render_sections=function(y){for(var m="",k=0;k<y.length;k++){var b=this.form_blocks[y[k].type];if(b){y[k].id="area_"+this.uid();var w=y[k].hidden?" style='display:none'":"",x="";y[k].button&&(x="<div class='gantt_custom_button' data-index='"+k+"'><div class='gantt_custom_button_"+y[k].button+"'></div><div class='gantt_custom_button_label'>"+this.locale.labels["button_"+y[k].button]+"</div></div>"),this.config.wide_form&&(m+="<div class='gantt_wrap_section' "+w+">"),m+="<div id='"+y[k].id+"' class='gantt_cal_lsection'><label>"+x+this.locale.labels["section_"+y[k].name]+"</label></div>"+b.render.call(this,y[k]),m+="</div>"}}return m},h.resizeLightbox=function(){if(this._lightbox){var y=this._lightbox.querySelector(".gantt_cal_larea");y.style.height="0px",y.style.height=y.scrollHeight+"px",this._lightbox.style.height=y.scrollHeight+this.config.lightbox_additional_height+"px",y.style.height=y.scrollHeight+"px"}},h._center_lightbox=function(y){if(y){y.style.display="block";var m=window.pageYOffset||h._lightbox_root.scrollTop||document.documentElement.scrollTop,k=window.pageXOffset||h._lightbox_root.scrollLeft||document.documentElement.scrollLeft,b=window.innerHeight||document.documentElement.clientHeight;y.style.top=m?Math.round(m+Math.max((b-y.offsetHeight)/2,0))+"px":Math.round(Math.max((b-y.offsetHeight)/2,0)+9)+"px",document.documentElement.scrollWidth>h._lightbox_root.offsetWidth?y.style.left=Math.round(k+(h._lightbox_root.offsetWidth-y.offsetWidth)/2)+"px":y.style.left=Math.round((h._lightbox_root.offsetWidth-y.offsetWidth)/2)+"px"}},h.showCover=function(){this._cover||(this._cover=document.createElement("DIV"),this._cover.className="gantt_cal_cover",(h._lightbox_root||h.$root).appendChild(this._cover))},h.event(window,"deviceorientation",function(){h.getState().lightbox&&h._center_lightbox(h.getLightbox())}),h._init_lightbox_events=function(){h.lightbox_events={},h.lightbox_events.gantt_save_btn=function(){h._save_lightbox()},h.lightbox_events.gantt_delete_btn=function(){h._lightbox_new_type=null,h.callEvent("onLightboxDelete",[h._lightbox_id])&&(h.isTaskExists(h._lightbox_id)?h.$click.buttons.delete(h._lightbox_id):h.hideLightbox())},h.lightbox_events.gantt_cancel_btn=function(){h._cancel_lightbox()},h.lightbox_events.default=function(y,m){if(m.getAttribute("data-dhx-button"))h.callEvent("onLightboxButton",[m.className,m,y]);else{var k,b,w=l.getClassName(m);if(w.indexOf("gantt_custom_button")!=-1)if(w.indexOf("gantt_custom_button_")!=-1)for(k=m.parentNode.getAttribute("data-index"),b=m;b&&l.getClassName(b).indexOf("gantt_cal_lsection")==-1;)b=b.parentNode;else k=m.getAttribute("data-index"),b=m.parentNode,m=m.firstChild;var x=h._get_typed_lightbox_config();k&&(k*=1,h.form_blocks[x[1*k].type].button_click(k,m,b,b.nextSibling))}},this.event(h.getLightbox(),"click",function(y){y=y||window.event;var m=l.getTargetNode(y),k=l.getClassName(m);return k||(m=m.previousSibling,k=l.getClassName(m)),m&&k&&k.indexOf("gantt_btn_set")===0&&(m=m.firstChild,k=l.getClassName(m)),!(!m||!k)&&(h.defined(h.lightbox_events[m.className])?h.lightbox_events[m.className]:h.lightbox_events.default)(y,m)}),h.getLightbox().onkeydown=function(y){var m=y||window.event,k=y.target||y.srcElement,b=l.getClassName(k).indexOf("gantt_btn_set")>-1;switch((y||m).keyCode){case h.constants.KEY_CODES.SPACE:if((y||m).shiftKey)return;b&&k.click&&k.click();break;case h.keys.edit_save:if((y||m).shiftKey)return;b&&k.click?k.click():h._save_lightbox();break;case h.keys.edit_cancel:h._cancel_lightbox()}}},h._cancel_lightbox=function(){var y=this.getLightboxValues();this.callEvent("onLightboxCancel",[this._lightbox_id,y.$new]),h.isTaskExists(y.id)&&y.$new&&this.silent(function(){h.$data.tasksStore.removeItem(y.id),h._update_flags(y.id,null)}),this.refreshData(),this.hideLightbox()},h._save_lightbox=function(){var y=this.getLightboxValues();this.callEvent("onLightboxSave",[this._lightbox_id,y,!!y.$new])&&(y.$new?(delete y.$new,this.addTask(y,y.parent,this.getTaskIndex(y.id))):this.isTaskExists(y.id)&&(this.mixin(this.getTask(y.id),y,!0),this.refreshTask(y.id),this.updateTask(y.id)),this.refreshData(),this.hideLightbox())},h._resolve_default_mapping=function(y){var m=y.map_to;return{time:!0,time_optional:!0,duration:!0,duration_optional:!0}[y.type]?y.map_to=="auto"?m={start_date:"start_date",end_date:"end_date",duration:"duration"}:typeof y.map_to=="string"&&(m={start_date:y.map_to}):y.type==="constraint"&&(y.map_to&&typeof y.map_to!="string"||(m={constraint_type:"constraint_type",constraint_date:"constraint_date"})),m},h.getLightboxValues=function(){var y={};h.isTaskExists(this._lightbox_id)&&(y=this.mixin({},this.getTask(this._lightbox_id)));for(var m=this._get_typed_lightbox_config(),k=0;k<m.length;k++){var b=h._lightbox_root.querySelector("#"+m[k].id);b=b&&b.nextSibling;var w=this.form_blocks[m[k].type];if(w){var x=w.get_value.call(this,b,y,m[k]),$=h._resolve_default_mapping(m[k]);if(typeof $=="string"&&$!="auto")y[$]=x;else if(g($)=="object")for(var S in $)$[S]&&(y[$[S]]=x[S])}}return h._lightbox_new_type=="task"&&(y.type=h.config.types.task,h._lightbox_new_type=null),y},h.hideLightbox=function(){var y=this.getLightbox();y&&(y.style.display="none"),this._waiAria.lightboxHiddenAttr(y),this._lightbox_id=null,this.hideCover(),this.callEvent("onAfterLightbox",[])},h.hideCover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},h.resetLightbox=function(){h._lightbox&&!h._custom_lightbox&&h._lightbox.parentNode.removeChild(h._lightbox),h._lightbox=null,h.hideCover()},h._set_lightbox_values=function(y,m){var k=y,b=m.getElementsByTagName("span"),w=[];h.templates.lightbox_header?(w.push(""),w.push(h.templates.lightbox_header(k.start_date,k.end_date,k)),b[1].innerHTML="",b[2].innerHTML=h.templates.lightbox_header(k.start_date,k.end_date,k)):(w.push(this.templates.task_time(k.start_date,k.end_date,k)),w.push(String(this.templates.task_text(k.start_date,k.end_date,k)||"").substr(0,70)),b[1].innerHTML=this.templates.task_time(k.start_date,k.end_date,k),b[2].innerHTML=String(this.templates.task_text(k.start_date,k.end_date,k)||"").substr(0,70)),b[1].innerHTML=w[0],b[2].innerHTML=w[1],h._waiAria.lightboxHeader(m,w.join(" "));for(var x=this._get_typed_lightbox_config(this.getLightboxType()),$=0;$<x.length;$++){var S=x[$];if(this.form_blocks[S.type]){var E=h._lightbox_root.querySelector("#"+S.id).nextSibling,M=this.form_blocks[S.type],D=h._resolve_default_mapping(x[$]),A=this.defined(k[D])?k[D]:S.default_value;M.set_value.call(h,E,A,k,S),S.focus&&M.focus.call(h,E)}}h.isTaskExists(y.id)&&(h._lightbox_id=y.id)},h._fill_lightbox=function(y,m){var k=this.getTask(y);this._set_lightbox_values(k,m)},h.getLightboxSection=function(y){for(var m=this._get_typed_lightbox_config(),k=0;k<m.length&&m[k].name!=y;k++);var b=m[k];if(!b)return null;this._lightbox||this.getLightbox();var w=h._lightbox_root.querySelector("#"+b.id),x=w.nextSibling,$={section:b,header:w,node:x,getValue:function(E){return h.form_blocks[b.type].get_value.call(h,x,E||{},b)},setValue:function(E,M){return h.form_blocks[b.type].set_value.call(h,x,E,M||{},b)}},S=this._lightbox_methods["get_"+b.type+"_control"];return S?S($):$},h._lightbox_methods.get_template_control=function(y){return y.control=y.node,y},h._lightbox_methods.get_select_control=function(y){return y.control=y.node.getElementsByTagName("select")[0],y},h._lightbox_methods.get_textarea_control=function(y){return y.control=y.node.getElementsByTagName("textarea")[0],y},h._lightbox_methods.get_time_control=function(y){return y.control=y.node.getElementsByTagName("select"),y},h._init_dnd_events=function(){var y=h._lightbox_root;this.event(y,"mousemove",h._move_while_dnd),this.event(y,"mouseup",h._finish_dnd)},h._move_while_dnd=function(y){if(h._dnd_start_lb){document.gantt_unselectable||(h._lightbox_root.className+=" gantt_unselectable",document.gantt_unselectable=!0);var m=h.getLightbox(),k=[y.pageX,y.pageY];m.style.top=h._lb_start[1]+k[1]-h._dnd_start_lb[1]+"px",m.style.left=h._lb_start[0]+k[0]-h._dnd_start_lb[0]+"px"}},h._ready_to_dnd=function(y){var m=h.getLightbox();h._lb_start=[parseInt(m.style.left,10),parseInt(m.style.top,10)],h._dnd_start_lb=[y.pageX,y.pageY]},h._finish_dnd=function(){h._lb_start&&(h._lb_start=h._dnd_start_lb=!1,h._lightbox_root.className=h._lightbox_root.className.replace(" gantt_unselectable",""),document.gantt_unselectable=!1)},h._focus=function(y,m){if(y&&y.focus&&!h.config.touch)try{m&&y.select&&y.select(),y.focus()}catch{}},h.form_blocks={getTimePicker:function(y,m){var k,b,w,x="",$=this.config,S={first:0,last:1440,date:this.date.date_part(new Date(h._min_date.valueOf())),timeFormat:function(E){var M,D,A;return E.time_format?E.time_format:(A=["%d","%m","%Y"],M=h.getScale(),D=M?M.unit:h.config.duration_unit,c.getSecondsInUnit(D)<c.getSecondsInUnit("day")&&A.push("%H:%i"),A)}(y)};for(y._time_format_order={size:0},h.config.limit_time_select&&(S.first=60*$.first_hour,S.last=60*$.last_hour+1,S.date.setHours($.first_hour)),k=0;k<S.timeFormat.length;k++)k>0&&(x+=" "),(b=v(y,k,S))&&(w=h._waiAria.lightboxSelectAttrString(S.timeFormat[k]),x+="<select "+(y.readonly?"disabled='disabled'":"")+(m?" style='display:none' ":"")+w+">"+b+"</select>");return x},getTimePickerValue:function(y,m,k){var b,w=m._time_format_order,x=h.defined(w[3]),$=0,S=0,E=k||0;return x&&(b=parseInt(y[w[3]+E].value,10),$=Math.floor(b/60),S=b%60),new Date(y[w[2]+E].value,y[w[1]+E].value,y[w[0]+E].value,$,S)},_fill_lightbox_select:function(y,m,k,b){if(y[m+b[0]].value=k.getDate(),y[m+b[1]].value=k.getMonth(),y[m+b[2]].value=k.getFullYear(),h.defined(b[3])){var w=60*k.getHours()+k.getMinutes();w=Math.round(w/h._get_timepicker_step())*h._get_timepicker_step();var x=y[m+b[3]];x.value=w,x.setAttribute("data-value",w)}},template:new r,textarea:new o,select:new t,time:new n,duration:new i,parent:new s,radio:new a,checkbox:new e,resources:new d,constraint:new f,typeselect:new _},h._is_lightbox_timepicker=function(){for(var y=this._get_typed_lightbox_config(),m=0;m<y.length;m++)if(y[m].name=="time"&&y[m].type=="time")return!0;return!1},h._simple_confirm=function(y,m,k,b){if(!y)return k();var w={text:y};m&&(w.title=m),b&&(w.ok=b),k&&(w.callback=function(x){x&&k()}),h.confirm(w)},h._get_typed_lightbox_config=function(y){y===void 0&&(y=this.getLightboxType());var m=function(k){for(var b in this.config.types)if(this.config.types[b]==k)return b;return"task"}.call(this,y);return h.config.lightbox[m+"_sections"]?h.config.lightbox[m+"_sections"]:h.config.lightbox.sections},h._silent_redraw_lightbox=function(y){var m=this.getLightboxType();if(this.getState().lightbox){var k=this.getState().lightbox,b=this.getLightboxValues(),w=this.copy(this.getTask(k));this.resetLightbox();var x=this.mixin(w,b,!0),$=this.getLightbox(y||void 0);this._center_lightbox(this.getLightbox()),this._set_lightbox_values(x,$),this.showCover()}else this.resetLightbox(),this.getLightbox(y||void 0);this.callEvent("onLightboxChange",[m,this.getLightboxType()])}}},function(T,C){T.exports=function(u){function g(c){var r=c.$config.scrollX?u.$ui.getView(c.$config.scrollX):null,o=c.$config.scrollY?u.$ui.getView(c.$config.scrollY):null,n={x:null,y:null};return r&&r.getScrollState().visible&&(n.x=r.$view.scrollLeft),o&&o.getScrollState().visible&&(n.y=o.$view.scrollTop),n}function h(){var c;return u.$ui.getView("timeline")&&(c=u.$ui.getView("timeline")._tasks_dnd),c}u.config.touch_drag=500,u.config.touch=!0,u.config.touch_feedback=!0,u.config.touch_feedback_duration=1,u._prevent_touch_scroll=!1,u._touch_feedback=function(){u.config.touch_feedback&&navigator.vibrate&&navigator.vibrate(u.config.touch_feedback_duration)},u.attachEvent("onGanttReady",u.bind(function(){if(this.config.touch!="force"&&(this.config.touch=this.config.touch&&(navigator.userAgent.indexOf("Mobile")!=-1||navigator.userAgent.indexOf("iPad")!=-1||navigator.userAgent.indexOf("Android")!=-1||navigator.userAgent.indexOf("Touch")!=-1)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),this.config.touch){var c=!0;try{document.createEvent("TouchEvent")}catch{c=!1}c?this._touch_events(["touchmove","touchstart","touchend"],function(r){return r.touches&&r.touches.length>1?null:r.touches[0]?{target:r.target,pageX:r.touches[0].pageX,pageY:r.touches[0].pageY,clientX:r.touches[0].clientX,clientY:r.touches[0].clientY}:r},function(){return!1}):window.navigator.pointerEnabled?this._touch_events(["pointermove","pointerdown","pointerup"],function(r){return r.pointerType=="mouse"?null:r},function(r){return!r||r.pointerType=="mouse"}):window.navigator.msPointerEnabled&&this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(r){return r.pointerType==r.MSPOINTER_TYPE_MOUSE?null:r},function(r){return!r||r.pointerType==r.MSPOINTER_TYPE_MOUSE})}},u));var l=[];u._touch_events=function(c,r,o){for(var n,t=0,e=!1,a=!1,i=null,s=null,d=null,f=[],_=null,p=0;p<l.length;p++)u.eventRemove(l[p][0],l[p][1],l[p][2]);for((l=[]).push([u.$container,c[0],function(y){var m=h();if(!o(y)&&e){s&&clearTimeout(s);var k=r(y);if(m&&(m.drag.id||m.drag.start_drag))return m.on_mouse_move(k),y.preventDefault&&y.preventDefault(),y.cancelBubble=!0,!1;if(!u._prevent_touch_scroll){if(k&&i){var b=i.pageX-k.pageX,w=i.pageY-k.pageY;if(!a&&(Math.abs(b)>5||Math.abs(w)>5)&&(a=!0,t=0,n=_?g(_):u.getScrollState()),a){var x,$=n.x+b,S=n.y+w;if(_?(function(E,M,D){var A=E.$config.scrollX?u.$ui.getView(E.$config.scrollX):null,I=E.$config.scrollY?u.$ui.getView(E.$config.scrollY):null;A&&A.scrollTo(M,null),I&&I.scrollTo(null,D)}(_,$,S),x=g(_)):(u.scrollTo($,S),x=u.getScrollState()),n.x!=x.x&&w>2*b||n.y!=x.y&&b>2*w)return v(y)}}return v(y)}return!0}}]),l.push([this.$container,"contextmenu",function(y){if(e)return v(y)}]),l.push([this.$container,c[1],function(y){if(document&&document.body&&document.body.classList.add("gantt_touch_active"),!o(y))if(y.touches&&y.touches.length>1)e=!1;else{i=r(y),_=function(k){for(var b=u.$layout.getCellsByType("viewCell"),w=0;w<b.length;w++){var x=b[w].$view.getBoundingClientRect();if(k.clientX>=x.left&&k.clientX<=x.right&&k.clientY<=x.bottom&&k.clientY>=x.top)return b[w]}}(i),u._locate_css(i,"gantt_hor_scroll")||u._locate_css(i,"gantt_ver_scroll")||(e=!0);var m=h();s=setTimeout(function(){var k=u.locate(i);m&&k&&!u._locate_css(i,"gantt_link_control")&&!u._locate_css(i,"gantt_grid_data")&&(m.on_mouse_down(i),m.drag&&m.drag.start_drag&&(function(b){var w=u._getTaskLayers(),x=u.getTask(b);if(x&&u.isTaskVisible(b)){d=b;for(var $=0;$<w.length;$++)if((x=w[$].rendered[b])&&x.getAttribute(u.config.task_attribute)&&x.getAttribute(u.config.task_attribute)==b){var S=x.cloneNode(!0);f.push(x),w[$].rendered[b]=S,x.style.display="none",S.className+=" gantt_drag_move ",x.parentNode.appendChild(S)}}}(k),m._start_dnd(i),u._touch_drag=!0,u.refreshTask(k),u._touch_feedback())),s=null},u.config.touch_drag)}}]),l.push([this.$container,c[2],function(y){if(document&&document.body&&document.body.classList.remove("gantt_touch_active"),!o(y)){s&&clearTimeout(s),u._touch_drag=!1,e=!1;var m=r(y),k=h();if(k&&k.on_mouse_up(m),d&&u.isTaskExists(d)&&(u.refreshTask(d),f.length&&(f.forEach(function(w){w.parentNode&&w.parentNode.removeChild(w)}),u._touch_feedback())),e=a=!1,f=[],d=null,i&&t){var b=new Date;b-t<500?(u.$services.getService("mouseEvents").onDoubleClick(i),v(y)):t=b}else t=new Date}}]),p=0;p<l.length;p++)u.event(l[p][0],l[p][1],l[p][2]);function v(y){return y&&y.preventDefault&&y.preventDefault(),y.cancelBubble=!0,!1}}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=u(8),h=u(4),l=["ctrlKey","altKey","shiftKey","metaKey"],c=[[{unit:"month",date:"%M",step:1},{unit:"day",date:"%d",step:1}],[{unit:"day",date:"%d %M",step:1}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:8}],[{unit:"day",date:"%d %M",step:1},{unit:"hour",date:"%H:00",step:1}]],r=function(){function o(n){var t=this;this.zoomIn=function(){var e=t.getCurrentLevel()-1;e<0||t.setLevel(e)},this.zoomOut=function(){var e=t.getCurrentLevel()+1;e>t._levels.length-1||t.setLevel(e)},this.getCurrentLevel=function(){return t._activeLevelIndex},this.getLevels=function(){return t._levels},this.setLevel=function(e){var a=t._getZoomIndexByName(e);a===-1&&t.$gantt.assert(a!==-1,"Invalid zoom level for gantt.ext.zoom.setLevel. "+e+" is not an expected value."),t._setLevel(a,0)},this._getZoomIndexByName=function(e){var a=-1;if(typeof e=="string"){if(!isNaN(Number(e))&&t._levels[Number(e)])a=Number(e);else for(var i=0;i<t._levels.length;i++)if(t._levels[i].name===e){a=i;break}}else a=e;return a},this._getVisibleDate=function(){if(!t.$gantt.$task)return null;var e=t.$gantt.getScrollState().x,a=t.$gantt.$task.offsetWidth;t._visibleDate=t.$gantt.dateFromPos(e+a/2)},this._setLevel=function(e,a){t._activeLevelIndex=e;var i=t.$gantt,s=i.copy(t._levels[t._activeLevelIndex]),d=i.copy(s);if(delete d.name,i.mixin(i.config,d,!0),!!i.$root&&!!i.$task){if(a){var f=t.$gantt.dateFromPos(a+t.$gantt.getScrollState().x);t.$gantt.render();var _=t.$gantt.posFromDate(f);t.$gantt.scrollTo(_-a)}else{var p=t.$gantt.$task.offsetWidth;t._visibleDate||t._getVisibleDate();var v=t._visibleDate;t.$gantt.render(),_=t.$gantt.posFromDate(v),t.$gantt.scrollTo(_-p/2)}t.callEvent("onAfterZoom",[t._activeLevelIndex,s])}},this._attachWheelEvent=function(e){var a,i=g.isFF?"wheel":"mousewheel";(a=typeof e.element=="function"?e.element():e.element)&&t._domEvents.attach(a,i,t.$gantt.bind(function(s){if(this._useKey&&(l.indexOf(this._useKey)<0||!s[this._useKey]))return!1;if(typeof this._handler=="function")return this._handler.apply(this,[s]),!0},t),{passive:!1})},this._defaultHandler=function(e){var a=t.$gantt.$task.getBoundingClientRect().x,i=e.clientX-a,s=!1;(t.$gantt.env.isFF?-40*e.deltaY:e.wheelDelta)>0&&(s=!0),e.preventDefault(),e.stopPropagation(),t._setScaleSettings(s,i)},this._setScaleDates=function(){t._initialStartDate&&t._initialEndDate&&(t.$gantt.config.start_date=t._initialStartDate,t.$gantt.config.end_date=t._initialEndDate)},this.$gantt=n,this._domEvents=this.$gantt._createDomEventScope()}return o.prototype.init=function(n){var t=this;this.$gantt.env.isNode||(this._initialStartDate=n.startDate,this._initialEndDate=n.endDate,this._activeLevelIndex=n.activeLevelIndex?n.activeLevelIndex:0,this._levels=this._mapScales(n.levels||c),this._handler=n.handler||this._defaultHandler,this._minColumnWidth=n.minColumnWidth||60,this._maxColumnWidth=n.maxColumnWidth||240,this._widthStep=n.widthStep||3/8*n.minColumnWidth,this._useKey=n.useKey,this._initialized||(h(this),this.$gantt.attachEvent("onGanttScroll",function(){t._getVisibleDate()})),this._domEvents.detachAll(),n.trigger==="wheel"&&(this.$gantt.$root?this._attachWheelEvent(n):this.$gantt.attachEvent("onGanttReady",function(){t._attachWheelEvent(n)})),this._initialized=!0,this.setLevel(this._activeLevelIndex))},o.prototype._mapScales=function(n){return n.map(function(t){return Array.isArray(t)?{scales:t}:t})},o.prototype._setScaleSettings=function(n,t){n?this._stepUp(t):this._stepDown(t)},o.prototype._stepUp=function(n){if(!(this._activeLevelIndex>=this._levels.length-1)){var t=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var e=this.$gantt.config.min_column_width+this._widthStep;e>this._maxColumnWidth&&(e=this._minColumnWidth,t++),this.$gantt.config.min_column_width=e}else t++;this._setLevel(t,n)}},o.prototype._stepDown=function(n){if(!(this._activeLevelIndex<1)){var t=this._activeLevelIndex;if(this._setScaleDates(),this._widthStep){var e=this.$gantt.config.min_column_width-this._widthStep;e<this._minColumnWidth&&(e=this._maxColumnWidth,t--),this.$gantt.config.min_column_width=e}else t--;this._setLevel(t,n)}},o}();C.default=r},function(T,C){window.dhtmlx&&(window.dhtmlx.attaches||(window.dhtmlx.attaches={}),window.dhtmlx.attaches.attachGantt=function(u,g,h){var l=document.createElement("DIV");h=h||window.gantt,l.id="gantt_"+h.uid(),l.style.width="100%",l.style.height="100%",l.cmp="grid",document.body.appendChild(l),this.attachObject(l.id),this.dataType="gantt",this.dataObj=h;var c=this.vs[this.av];return c.grid=h,h.init(l.id,u,g),l.firstChild.style.border="none",c.gridId=l.id,c.gridObj=l,this.vs[this._viewRestore()].grid}),window.dhtmlXCellObject!==void 0&&(window.dhtmlXCellObject.prototype.attachGantt=function(u,g,h){h=h||window.gantt;var l=document.createElement("DIV");return l.id="gantt_"+h.uid(),l.style.width="100%",l.style.height="100%",l.cmp="grid",document.body.appendChild(l),this.attachObject(l.id),this.dataType="gantt",this.dataObj=h,h.init(l.id,u,g),l.firstChild.style.border="none",l=null,this.callEvent("_onContentAttach",[]),this.dataObj}),T.exports=null},function(T,C){function u(g){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}window.jQuery&&function(g){var h=[];g.fn.dhx_gantt=function(l){if(typeof(l=l||{})!="string"){var c=[];return this.each(function(){if(this&&this.getAttribute)if(this.gantt||window.gantt.$root==this)c.push(u(this.gantt)=="object"?this.gantt:window.gantt);else{var r=window.gantt.$container&&window.Gantt?window.Gantt.getGanttInstance():window.gantt;for(var o in l)o!="data"&&(r.config[o]=l[o]);r.init(this),l.data&&r.parse(l.data),c.push(r)}}),c.length===1?c[0]:c}if(h[l])return h[l].apply(this,[]);g.error("Method "+l+" does not exist on jQuery.dhx_gantt")}}(window.jQuery),T.exports=null},function(T,C,u){var g=u(1),h=u(10);T.exports=function(l){var c=50,r=30,o=10,n=50,t=null,e=!1,a=null,i={started:!1},s={};function d(k){return k&&g.isChildOf(k,l.$root)&&k.offsetHeight}function f(){var k=!!document.querySelector(".gantt_drag_marker"),b=!!document.querySelector(".gantt_drag_marker.gantt_grid_resize_area")||!!document.querySelector(".gantt_drag_marker.gantt_row_grid_resize_area"),w=!!document.querySelector(".gantt_link_direction"),x=l.getState(),$=x.autoscroll;return e=k&&!b&&!w,!(!x.drag_mode&&!k||b)||$}function _(k){if(a&&(clearTimeout(a),a=null),k){var b=l.config.autoscroll_speed;b&&b<10&&(b=10),a=setTimeout(function(){t=setInterval(y,b||n)},l.config.autoscroll_delay||o)}}function p(k){k?(_(!0),i.started||(i.x=s.x,i.y=s.y,i.started=!0)):(t&&(clearInterval(t),t=null),_(!1),i.started=!1)}function v(k){var b=f();if(!t&&!a||b||p(!1),!l.config.autoscroll||!b)return!1;s={x:k.clientX,y:k.clientY},k.type=="touchmove"&&(s.x=k.targetTouches[0].clientX,s.y=k.targetTouches[0].clientY),!t&&b&&p(!0)}function y(){if(!f())return p(!1),!1;var k=d(l.$task)?l.$task:d(l.$grid)?l.$grid:l.$root;if(k){var b=!1;[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(j){b=b||!!document.querySelector(j)}),b&&(k=l.$grid);var w=g.getNodePosition(k),x=s.x-w.x,$=s.y-w.y+window.scrollY,S=e?0:m(x,w.width,i.x-w.x),E=m($,w.height,i.y-w.y+window.scrollY),M=l.getScrollState(),D=M.y,A=M.inner_height,I=M.height,P=M.x,H=M.inner_width,O=M.width;(E&&!A||E<0&&!D||E>0&&D+A>=I+2)&&(E=0),(S&&!H||S<0&&!P||S>0&&P+H>=O)&&(S=0);var V=l.config.autoscroll_step;V&&V<2&&(V=2),S*=V||r,E*=V||r,(S||E)&&function(j,Y){var N=l.getScrollState(),X=null,Q=null;j&&(X=N.x+j,X=Math.min(N.width,X),X=Math.max(0,X)),Y&&(Q=N.y+Y,Q=Math.min(N.height,Q),Q=Math.max(0,Q)),l.scrollTo(X,Q)}(S,E)}}function m(k,b,w){return k-c<0&&k<w?-1:k>b-c&&k>w?1:0}l.attachEvent("onGanttReady",function(){if(!h(l)){var k=g.getRootNode(l.$root)||document.body;l.eventRemove(k,"mousemove",v),l.event(k,"mousemove",v),l.eventRemove(k,"touchmove",v),l.event(k,"touchmove",v),l.eventRemove(k,"pointermove",v),l.event(k,"pointermove",v)}}),l.attachEvent("onDestroy",function(){p(!1)})}},function(T,C,u){T.exports=function(g){g.ext||(g.ext={});for(var h=[u(62),u(61),u(60)],l=0;l<h.length;l++)h[l]&&h[l](g);var c=u(59).default;g.ext.zoom=new c(g)}},function(T,C){T.exports=function(u){u.skins.contrast_white={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(T,C){T.exports=function(u){u.skins.contrast_black={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:100,_third_column_width:80}}},function(T,C){T.exports=function(u){u.skins.material={config:{grid_width:411,row_height:34,task_height_offset:6,scale_height:36,link_line_width:2,link_arrow_size:6,lightbox_additional_height:80},_second_column_width:110,_third_column_width:75,_redefine_lightbox_buttons:{buttons_left:["dhx_delete_btn"],buttons_right:["dhx_save_btn","dhx_cancel_btn"]}},u.attachEvent("onAfterTaskDrag",function(g){var h=u.getTaskNode(g);h&&(h.className+=" gantt_drag_animation",setTimeout(function(){var l=h.className.indexOf(" gantt_drag_animation");l>-1&&(h.className=h.className.slice(0,l))},200))})}},function(T,C){T.exports=function(u){u.skins.broadway={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:1,link_arrow_size:7,lightbox_additional_height:86},_second_column_width:90,_third_column_width:80,_lightbox_template:"<div class='gantt_cal_ltitle'><span class='gantt_mark'>&nbsp;</span><span class='gantt_time'></span><span class='gantt_title'></span><div class='gantt_cancel_btn'></div></div><div class='gantt_cal_larea'></div>",_config_buttons_left:{},_config_buttons_right:{gantt_delete_btn:"icon_delete",gantt_save_btn:"icon_save"}}}},function(T,C){T.exports=function(u){u.skins.terrace={config:{grid_width:360,row_height:35,scale_height:35,link_line_width:2,link_arrow_size:6,lightbox_additional_height:75},_second_column_width:90,_third_column_width:70}}},function(T,C){T.exports=function(u){u.skins.meadow={config:{grid_width:350,row_height:27,scale_height:30,link_line_width:2,link_arrow_size:6,lightbox_additional_height:72},_second_column_width:95,_third_column_width:80}}},function(T,C){T.exports=function(u){u.skins.skyblue={config:{grid_width:350,row_height:27,scale_height:27,link_line_width:1,link_arrow_size:8,lightbox_additional_height:75},_second_column_width:95,_third_column_width:80}}},function(T,C){function u(g,h){var l=h.skin;if(!l||g)for(var c=document.getElementsByTagName("link"),r=0;r<c.length;r++){var o=c[r].href.match("dhtmlxgantt_([a-z_]+).css");if(o&&(h.skins[o[1]]||!l)){l=o[1];break}}h.skin=l||"terrace";var n=h.skins[h.skin]||h.skins.terrace;(function(a,i,s){for(var d in i)(a[d]===void 0||s)&&(a[d]=i[d])})(h.config,n.config,g);var t=h.getGridColumns();for(t[1]&&!h.defined(t[1].width)&&(t[1].width=n._second_column_width),t[2]&&!h.defined(t[2].width)&&(t[2].width=n._third_column_width),r=0;r<t.length;r++){var e=t[r];e.name=="add"&&(e.width||(e.width=44),h.defined(e.min_width)&&h.defined(e.max_width)||(e.min_width=e.min_width||e.width,e.max_width=e.max_width||e.width),e.min_width&&(e.min_width=+e.min_width),e.max_width&&(e.max_width=+e.max_width),e.width&&(e.width=+e.width,e.width=e.min_width&&e.min_width>e.width?e.min_width:e.width,e.width=e.max_width&&e.max_width<e.width?e.max_width:e.width))}n.config.task_height&&(h.config.task_height=n.config.task_height||"full"),n.config.bar_height&&(h.config.bar_height=n.config.bar_height||"full"),n._lightbox_template&&(h._lightbox_template=n._lightbox_template),n._redefine_lightbox_buttons&&(h.config.buttons_right=n._redefine_lightbox_buttons.buttons_right,h.config.buttons_left=n._redefine_lightbox_buttons.buttons_left),h.resetLightbox()}T.exports=function(g){g.resetSkin||(g.resetSkin=function(){this.skin="",u(!0,this)},g.skins={},g.attachEvent("onGanttLayoutReady",function(){u(!1,this)}))}},function(T,C){T.exports=function(){function u(t){return t.$ui.getView("timeline")}function g(t){return t.$ui.getView("grid")}function h(t){var e=u(t);if(e&&!e.$config.hidden)return e;var a=g(t);return a&&!a.$config.hidden?a:null}function l(t){var e=null,a=!1;return[".gantt_drag_marker.gantt_grid_resize_area",".gantt_drag_marker .gantt_row.gantt_row_task",".gantt_drag_marker.gantt_grid_dnd_marker"].forEach(function(i){a=a||!!document.querySelector(i)}),(e=a?g(t):h(t))?r(t,e,"scrollY"):null}function c(t){var e=h(t);return e&&e.id!="grid"?r(t,e,"scrollX"):null}function r(t,e,a){var i=e.$config[a];return t.$ui.getView(i)}var o="DEFAULT_VALUE";function n(t,e,a,i){var s=t(this);return s&&s.isVisible()?s[e].apply(s,a):i?i():o}return{getColumnIndex:function(t){var e=n.call(this,g,"getColumnIndex",[t]);return e===o?0:e},dateFromPos:function(t){var e=n.call(this,u,"dateFromPos",Array.prototype.slice.call(arguments));return e===o?this.getState().min_date:e},posFromDate:function(t){var e=n.call(this,u,"posFromDate",[t]);return e===o?0:e},getRowTop:function(t){var e=this,a=n.call(e,u,"getRowTop",[t],function(){return n.call(e,g,"getRowTop",[t])});return a===o?0:a},getTaskTop:function(t){var e=this,a=n.call(e,u,"getItemTop",[t],function(){return n.call(e,g,"getItemTop",[t])});return a===o?0:a},getTaskPosition:function(t,e,a){var i=n.call(this,u,"getItemPosition",[t,e,a]);return i===o?{left:0,top:this.getTaskTop(t.id),height:this.getTaskBarHeight(t.id),width:0}:i},getTaskBarHeight:function(t,e){var a=this,i=n.call(a,u,"getBarHeight",[t,e],function(){return n.call(a,g,"getItemHeight",[t])});return i===o?0:i},getTaskHeight:function(t){var e=this,a=n.call(e,u,"getItemHeight",[t],function(){return n.call(e,g,"getItemHeight",[t])});return a===o?0:a},columnIndexByDate:function(t){var e=n.call(this,u,"columnIndexByDate",[t]);return e===o?0:e},roundTaskDates:function(){n.call(this,u,"roundTaskDates",[])},getScale:function(){var t=n.call(this,u,"getScale",[]);return t===o?null:t},getTaskNode:function(t){var e=u(this);if(e&&e.isVisible()){var a=e._taskRenderer.rendered[t];if(!a){var i=e.$config.item_attribute;a=e.$task_bars.querySelector("["+i+"='"+t+"']")}return a||null}return null},getLinkNode:function(t){var e=u(this);return e.isVisible()?e._linkRenderer.rendered[t]:null},scrollTo:function(t,e){var a=l(this),i=c(this),s={position:0},d={position:0};a&&(d=a.getScrollState()),i&&(s=i.getScrollState());var f=i&&1*t==t,_=a&&1*e==e;if(f&&_)for(var p=a._getLinkedViews(),v=i._getLinkedViews(),y=[],m=0;m<p.length;m++)for(var k=0;k<v.length;k++)p[m].$config.id&&v[k].$config.id&&p[m].$config.id===v[k].$config.id&&y.push(p[m].$config.id);f&&(y&&y.forEach(function(x){this.$ui.getView(x).$config.$skipSmartRenderOnScroll=!0}.bind(this)),i.scroll(t),y&&y.forEach(function(x){this.$ui.getView(x).$config.$skipSmartRenderOnScroll=!1}.bind(this))),_&&a.scroll(e);var b={position:0},w={position:0};a&&(b=a.getScrollState()),i&&(w=i.getScrollState()),this.callEvent("onGanttScroll",[s.position,d.position,w.position,b.position])},showDate:function(t){var e=this.posFromDate(t),a=Math.max(e-this.config.task_scroll_offset,0);this.scrollTo(a)},showTask:function(t){var e=this.getTaskPosition(this.getTask(t)),a=e.left;this.config.rtl&&(a=e.left+e.width);var i,s=Math.max(a-this.config.task_scroll_offset,0),d=this._scroll_state().y;i=d?e.top-(d-this.getTaskBarHeight(t))/2:e.top,this.scrollTo(s,i);var f=g(this),_=u(this);f&&_&&f.$config.scrollY!=_.$config.scrollY&&r(this,f,"scrollY").scrollTo(null,i)},_scroll_state:function(){var t={x:!1,y:!1,x_pos:0,y_pos:0,scroll_size:this.config.scroll_size+1,x_inner:0,y_inner:0},e=l(this),a=c(this);if(a){var i=a.getScrollState();i.visible&&(t.x=i.size,t.x_inner=i.scrollSize),t.x_pos=i.position||0}if(e){var s=e.getScrollState();s.visible&&(t.y=s.size,t.y_inner=s.scrollSize),t.y_pos=s.position||0}return t},getScrollState:function(){var t=this._scroll_state();return{x:t.x_pos,y:t.y_pos,inner_width:t.x,inner_height:t.y,width:t.x_inner,height:t.y_inner}},getLayoutView:function(t){return this.$ui.getView(t)},scrollLayoutCell:function(t,e,a){var i=this.$ui.getView(t);if(!i)return!1;if(e!==null){var s=this.$ui.getView(i.$config.scrollX);s&&s.scrollTo(e,null)}if(a!==null){var d=this.$ui.getView(i.$config.scrollY);d&&d.scrollTo(null,a)}}}}},function(T,C){T.exports=function(u){delete u.addTaskLayer,delete u.addLinkLayer}},function(T,C,u){var g=u(1),h=function(l){return{getVerticalScrollbar:function(){return l.$ui.getView("scrollVer")},getHorizontalScrollbar:function(){return l.$ui.getView("scrollHor")},_legacyGridResizerClass:function(c){for(var r=c.getCellsByType("resizer"),o=0;o<r.length;o++){var n=r[o],t=!1,e=n.$parent.getPrevSibling(n.$id);if(e&&e.$config&&e.$config.id==="grid")t=!0;else{var a=n.$parent.getNextSibling(n.$id);a&&a.$config&&a.$config.id==="grid"&&(t=!0)}t&&(n.$config.css=(n.$config.css?n.$config.css+" ":"")+"gantt_grid_resize_wrap")}},onCreated:function(c){var r=!0;this._legacyGridResizerClass(c),c.attachEvent("onBeforeResize",function(){var o=l.$ui.getView("timeline");o&&(o.$config.hidden=o.$parent.$config.hidden=!l.config.show_chart);var n=l.$ui.getView("grid");if(n){var t=n._getColsTotalWidth(),e=!l.config.show_grid||!l.config.grid_width||t===0;if(r&&!e&&t!==!1&&(l.config.grid_width=t),n.$config.hidden=n.$parent.$config.hidden=e,!n.$config.hidden){var a=n._getGridWidthLimits();if(a[0]&&l.config.grid_width<a[0]&&(l.config.grid_width=a[0]),a[1]&&l.config.grid_width>a[1]&&(l.config.grid_width=a[1]),o&&l.config.show_chart){if(n.$config.width=l.config.grid_width-1,!n.$config.scrollable&&n.$config.scrollY&&l.$root.offsetWidth){var i=n.$gantt.$layout.$container.offsetWidth,s=l.$ui.getView(n.$config.scrollY).$config.width,d=i-(n.$config.width+s);d<0&&(n.$config.width+=d,l.config.grid_width+=d)}if(r)n.$parent.$config.width=l.config.grid_width,n.$parent.$config.group&&l.$layout._syncCellSizes(n.$parent.$config.group,{value:n.$parent.$config.width,isGravity:!1});else if(o&&!g.isChildOf(o.$task,c.$view)){if(!n.$config.original_grid_width){var f=l.skins[l.skin];f&&f.config&&f.config.grid_width?n.$config.original_grid_width=f.config.grid_width:n.$config.original_grid_width=0}l.config.grid_width=n.$config.original_grid_width,n.$parent.$config.width=l.config.grid_width}else n.$parent._setContentSize(n.$config.width,null),l.$layout._syncCellSizes(n.$parent.$config.group,{value:l.config.grid_width,isGravity:!1})}else o&&g.isChildOf(o.$task,c.$view)&&(n.$config.original_grid_width=l.config.grid_width),r||(n.$parent.$config.width=0)}r=!1}}),this._initScrollStateEvents(c)},_initScrollStateEvents:function(c){l._getVerticalScrollbar=this.getVerticalScrollbar,l._getHorizontalScrollbar=this.getHorizontalScrollbar;var r=this.getVerticalScrollbar(),o=this.getHorizontalScrollbar();r&&r.attachEvent("onScroll",function(n,t,e){var a=l.getScrollState();l.callEvent("onGanttScroll",[a.x,n,a.x,t])}),o&&o.attachEvent("onScroll",function(n,t,e){var a=l.getScrollState();l.callEvent("onGanttScroll",[n,a.y,t,a.y]);var i=l.$ui.getView("grid");i&&i.$grid_data&&!i.$config.scrollable&&(i.$grid_data.style.left=i.$grid.scrollLeft+"px",i.$grid_data.scrollLeft=i.$grid.scrollLeft)}),c.attachEvent("onResize",function(){r&&!l.$scroll_ver&&(l.$scroll_ver=r.$scroll_ver),o&&!l.$scroll_hor&&(l.$scroll_hor=o.$scroll_hor)})},_findGridResizer:function(c,r){for(var o,n=c.getCellsByType("resizer"),t=!0,e=0;e<n.length;e++){var a=n[e];a._getSiblings();var i=a._behind,s=a._front;if(i&&i.$content===r||i.isChild&&i.isChild(r)){o=a,t=!0;break}if(s&&s.$content===r||s.isChild&&s.isChild(r)){o=a,t=!1;break}}return{resizer:o,gridFirst:t}},onInitialized:function(c){var r=l.$ui.getView("grid"),o=this._findGridResizer(c,r);if(o.resizer){var n,t=o.gridFirst,e=o.resizer;if(e.$config.mode!=="x")return;e.attachEvent("onResizeStart",function(a,i){var s=l.$ui.getView("grid"),d=s?s.$parent:null;if(d){var f=s._getGridWidthLimits();s.$config.scrollable||(d.$config.minWidth=f[0]),d.$config.maxWidth=f[1]}return n=t?a:i,l.callEvent("onGridResizeStart",[n])}),e.attachEvent("onResize",function(a,i){var s=t?a:i;return l.callEvent("onGridResize",[n,s])}),e.attachEvent("onResizeEnd",function(a,i,s,d){var f=t?a:i,_=t?s:d,p=l.$ui.getView("grid"),v=p?p.$parent:null;v&&(v.$config.minWidth=void 0);var y=l.callEvent("onGridResizeEnd",[f,_]);return y&&_!==0&&(l.config.grid_width=_),y})}},onDestroyed:function(c){}}};T.exports=h},function(T,C,u){var g=u(1),h=function(l,c){var r,o,n,t,e,a=10,i=18;function s(){return{link_source_id:t,link_target_id:o,link_from_start:e,link_to_start:n,link_landing_area:r}}var d=c.$services,f=d.getService("state"),_=d.getService("dnd");f.registerProvider("linksDnD",s);var p=new _(l.$task_bars,{sensitivity:0,updates_per_second:60,mousemoveContainer:c.$root,selector:".gantt_link_point",preventDefault:!0});function v(x,$,S,E,M){var D=function(P,H,O){var V=H(P),j={x:V.left,y:V.top,width:V.width,height:V.height};if(O.rtl?(j.xEnd=j.x,j.x=j.xEnd+j.width):j.xEnd=j.x+j.width,j.yEnd=j.y+j.height,c.getTaskType(P.type)==c.config.types.milestone){var Y=function(N){var X=l.getBarHeight(N,!0);return Math.round(Math.sqrt(2*X*X))-2}(P.id);j.x+=(O.rtl?1:-1)*(Y/2),j.xEnd+=(O.rtl?-1:1)*(Y/2),j.width=V.xEnd-V.x}return j}(x,function(P){return c.getTaskPosition(P)},E),A={x:D.x,y:D.y};$||(A.x=D.xEnd),A.y+=c.getTaskHeight(x.id)/2;var I=function(P){return c.getTaskType(P.type)==c.config.types.milestone}(x)&&M?2:0;return S=S||0,E.rtl&&(S*=-1),A.x+=($?-1:1)*S-I,A}function y(x,$){var S=p.getPosition(x),E=function(O){var V=0,j=0;return O&&(V=O.offsetWidth||0,j=O.offsetHeight||0),{width:V,height:j}}($),M=function(){var O=c.$root;return{right:O.offsetWidth,bottom:O.offsetHeight}}(),D=c.config.tooltip_offset_x||a,A=c.config.tooltip_offset_y||a,I=c.config.scroll_size||i,P=c.$container.getBoundingClientRect().y+window.scrollY,H={y:S.y+A,x:S.x+D,bottom:S.y+E.height+A+I,right:S.x+E.width+D+I};return H.bottom>M.bottom+P&&(H.y=M.bottom+P-E.height-A),H.right>M.right&&(H.x=M.right-E.width-D),H}function m(x){var $=s(),S=["gantt_link_tooltip"];$.link_source_id&&$.link_target_id&&(c.isLinkAllowed($.link_source_id,$.link_target_id,$.link_from_start,$.link_to_start)?S.push("gantt_allowed_link"):S.push("gantt_invalid_link"));var E=c.templates.drag_link_class($.link_source_id,$.link_from_start,$.link_target_id,$.link_to_start);E&&S.push(E);var M="<div class='"+E+"'>"+c.templates.drag_link($.link_source_id,$.link_from_start,$.link_target_id,$.link_to_start)+"</div>";x.innerHTML=M}function k(){t=e=o=null,n=!0}function b(x,$,S,E){var M=function(){return p._direction&&p._direction.parentNode||(p._direction=document.createElement("div"),l.$task_links.appendChild(p._direction)),p._direction}(),D=s(),A=["gantt_link_direction"];c.templates.link_direction_class&&A.push(c.templates.link_direction_class(D.link_source_id,D.link_from_start,D.link_target_id,D.link_to_start));var I=Math.sqrt(Math.pow(S-x,2)+Math.pow(E-$,2));if(I=Math.max(0,I-3)){M.className=A.join(" ");var P=(E-$)/(S-x),H=Math.atan(P);w(x,S,$,E)==2?H+=Math.PI:w(x,S,$,E)==3&&(H-=Math.PI);var O=Math.sin(H),V=Math.cos(H),j=Math.round($),Y=Math.round(x),N=["-webkit-transform: rotate("+H+"rad)","-moz-transform: rotate("+H+"rad)","-ms-transform: rotate("+H+"rad)","-o-transform: rotate("+H+"rad)","transform: rotate("+H+"rad)","width:"+Math.round(I)+"px"];if(window.navigator.userAgent.indexOf("MSIE 8.0")!=-1){N.push('-ms-filter: "'+function(Z,L){return"progid:DXImageTransform.Microsoft.Matrix(M11 = "+L+",M12 = -"+Z+",M21 = "+Z+",M22 = "+L+",SizingMethod = 'auto expand')"}(O,V)+'"');var X=Math.abs(Math.round(x-S)),Q=Math.abs(Math.round(E-$));switch(w(x,S,$,E)){case 1:j-=Q;break;case 2:Y-=X,j-=Q;break;case 3:Y-=X}}N.push("top:"+j+"px"),N.push("left:"+Y+"px"),M.style.cssText=N.join(";")}}function w(x,$,S,E){return $>=x?E<=S?1:4:E<=S?2:3}p.attachEvent("onBeforeDragStart",c.bind(function(x,$){var S=$.target||$.srcElement;if(k(),c.getState("tasksDnd").drag_id)return!1;if(g.locateClassName(S,"gantt_link_point")){g.locateClassName(S,"task_start_date")&&(e=!0);var E=c.locate($);t=E;var M=c.getTask(E);return c.isReadonly(M)?(k(),!1):(this._dir_start=v(M,!!e,0,l.$getConfig(),!0),!0)}return!1},this)),p.attachEvent("onAfterDragStart",c.bind(function(x,$){c.config.touch&&c.refreshData(),m(p.config.marker)},this)),p.attachEvent("onDragMove",c.bind(function(x,$){var S=p.config,E=y($,S.marker);(function(Q,Z){Q.style.left=Z.x+"px",Q.style.top=Z.y+"px"})(S.marker,E);var M=!!g.locateClassName($,"gantt_link_control"),D=o,A=r,I=n,P=c.locate($),H=!0,O=g.getTargetNode($);if(g.isChildOf(O,c.$root)||(M=!1,P=null),M&&(H=!g.locateClassName($,"task_end_date"),M=!!P),o=P,r=M,n=H,M){var V=c.getTask(P),j=l.$getConfig(),Y=g.locateClassName($,"gantt_link_control"),N=0;Y&&(N=Math.floor(Y.offsetWidth/2)),this._dir_end=v(V,!!n,N,j)}else this._dir_end=g.getRelativeEventPosition($,l.$task_data),c.env.isEdge&&(this._dir_end.y+=window.scrollY);var X=!(A==M&&D==P&&I==H);return X&&(D&&c.refreshTask(D,!1),P&&c.refreshTask(P,!1)),X&&m(S.marker),b(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y),!0},this)),p.attachEvent("onDragEnd",c.bind(function(){var x=s();if(x.link_source_id&&x.link_target_id&&x.link_source_id!=x.link_target_id){var $=c._get_link_type(x.link_from_start,x.link_to_start),S={source:x.link_source_id,target:x.link_target_id,type:$};S.type&&c.isLinkAllowed(S)&&c.callEvent("onLinkCreated",[S])&&c.addLink(S)}k(),c.config.touch?c.refreshData():(x.link_source_id&&c.refreshTask(x.link_source_id,!1),x.link_target_id&&c.refreshTask(x.link_target_id,!1)),p._direction&&(p._direction.parentNode&&p._direction.parentNode.removeChild(p._direction),p._direction=null)},this)),c.attachEvent("onGanttRender",c.bind(function(){p._direction&&b(this._dir_start.x,this._dir_start.y,this._dir_end.x,this._dir_end.y)},this))};T.exports={createLinkDND:function(){return{init:h}}}},function(T,C,u){var g=u(1),h=u(0),l=u(44),c=u(2);T.exports={createTaskDND:function(){var r;return{extend:function(o){o.roundTaskDates=function(n){r.round_task_dates(n)}},init:function(o,n){return r=function(t,e){var a=e.$services;return{drag:null,dragMultiple:{},_events:{before_start:{},before_finish:{},after_finish:{}},_handlers:{},init:function(){this._domEvents=e._createDomEventScope(),this.clear_drag_state();var i=e.config.drag_mode;this.set_actions(),a.getService("state").registerProvider("tasksDnd",h.bind(function(){return{drag_id:this.drag?this.drag.id:void 0,drag_mode:this.drag?this.drag.mode:void 0,drag_from_start:this.drag?this.drag.left:void 0}},this));var s={before_start:"onBeforeTaskDrag",before_finish:"onBeforeTaskChanged",after_finish:"onAfterTaskDrag"};for(var d in this._events)for(var f in i)this._events[d][f]=s[d];this._handlers[i.move]=this._move,this._handlers[i.resize]=this._resize,this._handlers[i.progress]=this._resize_progress},set_actions:function(){var i=t.$task_data;this._domEvents.attach(i,"mousemove",e.bind(function(s){this.on_mouse_move(s)},this)),this._domEvents.attach(i,"mousedown",e.bind(function(s){this.on_mouse_down(s)},this)),this._domEvents.attach(document.body,"mouseup",e.bind(function(s){this.on_mouse_up(s)},this))},clear_drag_state:function(){this.drag={id:null,mode:null,pos:null,start_x:null,start_y:null,obj:null,left:null},this.dragMultiple={}},_resize:function(i,s,d){var f=t.$getConfig(),_=this._drag_task_coords(i,d);d.left?(i.start_date=e.dateFromPos(_.start+s),i.start_date||(i.start_date=new Date(e.getState().min_date))):(i.end_date=e.dateFromPos(_.end+s),i.end_date||(i.end_date=new Date(e.getState().max_date)));var p=this._calculateMinDuration(f.min_duration,f.duration_unit);i.end_date-i.start_date<f.min_duration&&(d.left?i.start_date=e.calculateEndDate(i.end_date,-p,f.duration_unit,i):i.end_date=e.calculateEndDate(i.start_date,p,f.duration_unit,i)),e._init_task_timing(i)},_calculateMinDuration:function(i,s){return Math.ceil(i/{minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:31356e6}[s])},_resize_progress:function(i,s,d){var f=this._drag_task_coords(i,d),_=t.$getConfig().rtl?f.start-d.pos.x:d.pos.x-f.start,p=Math.max(0,_);i.progress=Math.min(1,p/Math.abs(f.end-f.start))},_find_max_shift:function(i,s){var d;for(var f in i){var _=i[f],p=e.getTask(_.id),v=this._drag_task_coords(p,_),y=e.posFromDate(new Date(e.getState().min_date)),m=e.posFromDate(new Date(e.getState().max_date));if(v.end+s>m){var k=m-v.end;(k<d||d===void 0)&&(d=k)}else if(v.start+s<y){var b=y-v.start;(b>d||d===void 0)&&(d=b)}}return d},_move:function(i,s,d,f){var _=this._drag_task_coords(i,d),p=null,v=null;f?(p=new Date(+d.obj.start_date+f),v=new Date(+d.obj.end_date+f)):(p=e.dateFromPos(_.start+s),v=e.dateFromPos(_.end+s)),p?v?(i.start_date=p,i.end_date=v):(i.end_date=new Date(e.getState().max_date),i.start_date=e.dateFromPos(e.posFromDate(i.end_date)-(_.end-_.start))):(i.start_date=new Date(e.getState().min_date),i.end_date=e.dateFromPos(e.posFromDate(i.start_date)+(_.end-_.start)))},_drag_task_coords:function(i,s){return{start:s.obj_s_x=s.obj_s_x||e.posFromDate(i.start_date),end:s.obj_e_x=s.obj_e_x||e.posFromDate(i.end_date)}},_mouse_position_change:function(i,s){var d=i.x-s.x,f=i.y-s.y;return Math.sqrt(d*d+f*f)},_is_number:function(i){return!isNaN(parseFloat(i))&&isFinite(i)},on_mouse_move:function(i){if(this.drag.start_drag){var s=g.getRelativeEventPosition(i,e.$task_data),d=this.drag.start_drag.start_x,f=this.drag.start_drag.start_y;(Date.now()-this.drag.timestamp>50||this._is_number(d)&&this._is_number(f)&&this._mouse_position_change({x:d,y:f},s)>20)&&this._start_dnd(i)}if(this.drag.mode){if(!l(this,40))return;this._update_on_move(i)}},_update_item_on_move:function(i,s,d,f,_,p){var v=e.getTask(s),y=e.mixin({},v),m=e.mixin({},v);this._handlers[d].apply(this,[m,i,f,p]),e.mixin(v,m,!0),e.callEvent("onTaskDrag",[v.id,d,m,y,_]),e.mixin(v,m,!0),e.refreshTask(s)},_update_on_move:function(i){var s=this.drag,d=t.$getConfig();if(s.mode){var f=g.getRelativeEventPosition(i,t.$task_data);if(s.pos&&s.pos.x==f.x)return;s.pos=f;var _=e.dateFromPos(f.x);if(!_||isNaN(_.getTime()))return;var p=f.x-s.start_x,v=e.getTask(s.id);if(this._handlers[s.mode]){if(s.mode===d.drag_mode.move){var y={};this._isMultiselect()&&e.getSelectedTasks().indexOf(s.id)>=0&&(y=this.dragMultiple);var m=!1;if(e.isSummaryTask(v)&&e.config.drag_project){var k={};k[s.id]=h.copy(s),m=!0,y=h.mixin(k,this.dragMultiple)}var b=this._find_max_shift(y,p);for(var w in b!==void 0&&(p=b),this._update_item_on_move(p,s.id,s.mode,s,i),y){var x=y[w];if(m&&x.id!=s.id&&(e._bulk_dnd=!0),b===void 0&&(m||Object.keys(y).length>1))var $=_-e.dateFromPos(s.start_x);this._update_item_on_move(p,x.id,x.mode,x,i,$)}e._bulk_dnd=!1}else this._update_item_on_move(p,s.id,s.mode,s,i);e._update_parents(s.id)}}},on_mouse_down:function(i,s){if(i.button!=2||i.button===void 0){var d=t.$getConfig(),f=e.locate(i),_=null;if(e.isTaskExists(f)&&(_=e.getTask(f)),!e.isReadonly(_)&&!this.drag.mode){this.clear_drag_state(),s=s||i.target||i.srcElement;var p=g.getClassName(s),v=this._get_drag_mode(p,s);if(!p||!v)return s.parentNode?this.on_mouse_down(i,s.parentNode):void 0;if(v)if(v.mode&&v.mode!=d.drag_mode.ignore&&d["drag_"+v.mode]){if(f=e.locate(s),_=e.copy(e.getTask(f)||{}),e.isReadonly(_))return this.clear_drag_state(),!1;if(e.isSummaryTask(_)&&!d.drag_project&&v.mode!=d.drag_mode.progress)return void this.clear_drag_state();v.id=f;var y=g.getRelativeEventPosition(i,e.$task_data);v.start_x=y.x,v.start_y=y.y,v.obj=_,this.drag.start_drag=v,this.drag.timestamp=Date.now()}else this.clear_drag_state();else if(e.checkEvent("onMouseDown")&&e.callEvent("onMouseDown",[p.split(" ")[0]])&&s.parentNode)return this.on_mouse_down(i,s.parentNode)}}},_fix_dnd_scale_time:function(i,s){var d=t.$getConfig(),f=e.getScale().unit,_=e.getScale().step;function p(v){if(e.config.correct_work_time){var y=t.$getConfig();e.isWorkTime(v.start_date,void 0,v)||(v.start_date=e.calculateEndDate({start_date:v.start_date,duration:-1,unit:y.duration_unit,task:v}))}}d.round_dnd_dates||(f="minute",_=d.time_step),s.mode==d.drag_mode.resize?s.left?(i.start_date=e.roundDate({date:i.start_date,unit:f,step:_}),p(i)):(i.end_date=e.roundDate({date:i.end_date,unit:f,step:_}),function(v){if(e.config.correct_work_time){var y=t.$getConfig();e.isWorkTime(new Date(v.end_date-1),void 0,v)||(v.end_date=e.calculateEndDate({start_date:v.end_date,duration:1,unit:y.duration_unit,task:v}))}}(i)):s.mode==d.drag_mode.move&&(i.start_date=e.roundDate({date:i.start_date,unit:f,step:_}),p(i),i.end_date=e.calculateEndDate(i))},_fix_working_times:function(i,s){var d=t.$getConfig();(s=s||{mode:d.drag_mode.move}).mode==d.drag_mode.resize?s.left?i.start_date=e.getClosestWorkTime({date:i.start_date,dir:"future",task:i}):i.end_date=e.getClosestWorkTime({date:i.end_date,dir:"past",task:i}):s.mode==d.drag_mode.move&&e.correctTaskWorkTime(i)},_finalize_mouse_up:function(i,s,d,f){var _=e.getTask(i);if(s.work_time&&s.correct_work_time&&this._fix_working_times(_,d),this._fix_dnd_scale_time(_,d),this._fireEvent("before_finish",d.mode,[i,d.mode,e.copy(d.obj),f])){var p=i;e._init_task_timing(_),this.clear_drag_state(),e.updateTask(_.id),this._fireEvent("after_finish",d.mode,[p,d.mode,f])}else this.clear_drag_state(),i==d.id&&(d.obj._dhx_changed=!1,e.mixin(_,d.obj,!0)),e.refreshTask(_.id)},on_mouse_up:function(i){var s=this.drag;if(s.mode&&s.id){var d=t.$getConfig(),f=e.getTask(s.id),_=this.dragMultiple,p=!1,v=0;s.mode===d.drag_mode.move&&(e.isSummaryTask(f)&&d.drag_project||this._isMultiselect())&&(p=!0,v=Object.keys(_).length);var y=function(){if(p)for(var m in _)this._finalize_mouse_up(_[m].id,d,_[m],i);this._finalize_mouse_up(s.id,d,s,i)};p&&v>10?e.batchUpdate(function(){y.call(this)}.bind(this)):y.call(this)}this.clear_drag_state()},_get_drag_mode:function(i,s){var d=t.$getConfig().drag_mode,f={mode:null,left:null};switch((i||"").split(" ")[0]){case"gantt_task_line":case"gantt_task_content":f.mode=d.move;break;case"gantt_task_drag":f.mode=d.resize;var _=s.getAttribute("data-bind-property");f.left=_=="start_date";break;case"gantt_task_progress_drag":f.mode=d.progress;break;case"gantt_link_control":case"gantt_link_point":f.mode=d.ignore;break;default:f=null}return f},_start_dnd:function(i){var s=this.drag=this.drag.start_drag;delete s.start_drag;var d=t.$getConfig(),f=s.id;if(d["drag_"+s.mode]&&e.callEvent("onBeforeDrag",[f,s.mode,i])&&this._fireEvent("before_start",s.mode,[f,s.mode,i])){delete s.start_drag;var _=e.getTask(f);if(e.isReadonly(_))return void this.clear_drag_state();if(this._isMultiselect()){var p=e.getSelectedTasks();p.indexOf(s.id)>=0&&c.forEach(p,e.bind(function(v){var y=e.getTask(v);e.isSummaryTask(y)&&e.config.drag_project&&s.mode==d.drag_mode.move&&this._addSubtasksToDragMultiple(y.id),this.dragMultiple[v]=e.mixin({id:y.id,obj:e.copy(y)},this.drag)},this))}e.isSummaryTask(_)&&e.config.drag_project&&s.mode==d.drag_mode.move&&this._addSubtasksToDragMultiple(_.id),e.callEvent("onTaskDragStart",[])}else this.clear_drag_state()},_fireEvent:function(i,s,d){e.assert(this._events[i],"Invalid stage:{"+i+"}");var f=this._events[i][s];return e.assert(f,"Unknown after drop mode:{"+s+"}"),e.assert(d,"Invalid event arguments"),!e.checkEvent(f)||e.callEvent(f,d)},round_task_dates:function(i){var s=this.drag,d=t.$getConfig();s||(s={mode:d.drag_mode.move}),this._fix_dnd_scale_time(i,s)},destructor:function(){this._domEvents.detachAll()},_isMultiselect:function(){return e.config.drag_multiple&&!!(e.getSelectedTasks&&e.getSelectedTasks().length>0)},_addSubtasksToDragMultiple:function(i){e.eachTask(function(s){this.dragMultiple[s.id]=e.mixin({id:s.id,obj:e.copy(s)},this.drag)},i,this)}}}(o,n),o._tasks_dnd=r,r.init(n)},destructor:function(){r&&(r.destructor(),r=null)}}}}},function(T,C,u){var g=u(0),h=u(76),l=u(75),c=u(1),r=function(o){var n=o.$services;return{onCreated:function(t){var e=t.$config;e.bind=g.defined(e.bind)?e.bind:"task",e.bindLinks=g.defined(e.bindLinks)?e.bindLinks:"link",t._linksDnD=l.createLinkDND(),t._tasksDnD=h.createTaskDND(),t._tasksDnD.extend(t),this._mouseDelegates=u(24)(o)},onInitialized:function(t){this._attachDomEvents(o),this._attachStateProvider(o,t),t._tasksDnD.init(t,o),t._linksDnD.init(t,o),t.$config.id=="timeline"&&this.extendDom(t)},onDestroyed:function(t){this._clearDomEvents(o),this._clearStateProvider(o),t._tasksDnD&&t._tasksDnD.destructor()},extendDom:function(t){o.$task=t.$task,o.$task_scale=t.$task_scale,o.$task_data=t.$task_data,o.$task_bg=t.$task_bg,o.$task_links=t.$task_links,o.$task_bars=t.$task_bars},_clearDomEvents:function(){this._mouseDelegates.destructor(),this._mouseDelegates=null},_attachDomEvents:function(t){function e(a,i){if(a&&this.callEvent("onLinkDblClick",[a,i])){var s=this.getLink(a);if(this.isReadonly(s))return;var d=this.locale.labels.link+" "+this.templates.link_description(this.getLink(a))+" "+this.locale.labels.confirm_link_deleting;window.setTimeout(function(){t._simple_confirm(d,"",function(){t.deleteLink(a)})},this.config.touch?300:1)}}this._mouseDelegates.delegate("click","gantt_task_link",t.bind(function(a,i){var s=this.locate(a,this.config.link_attribute);s&&this.callEvent("onLinkClick",[s,a])},t),this.$task),this._mouseDelegates.delegate("click","gantt_scale_cell",t.bind(function(a,i){var s=c.getRelativeEventPosition(a,t.$task_data),d=t.dateFromPos(s.x),f=Math.floor(t.columnIndexByDate(d)),_=t.getScale().trace_x[f];t.callEvent("onScaleClick",[a,_])},t),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_task_link",t.bind(function(a,i,s){i=this.locate(a,t.config.link_attribute),e.call(this,i,a)},t),this.$task),this._mouseDelegates.delegate("doubleclick","gantt_link_point",t.bind(function(a,i,s){i=this.locate(a);var d=this.getTask(i),f=null;return s.parentNode&&c.getClassName(s.parentNode)&&(f=c.getClassName(s.parentNode).indexOf("_left")>-1?d.$target[0]:d.$source[0]),f&&e.call(this,f,a),!1},t),this.$task)},_attachStateProvider:function(t,e){var a=e;n.getService("state").registerProvider("tasksTimeline",function(){return{scale_unit:a._tasks?a._tasks.unit:void 0,scale_step:a._tasks?a._tasks.step:void 0}})},_clearStateProvider:function(){n.getService("state").unregisterProvider("tasksTimeline")}}};T.exports=r},function(T,C,u){var g=u(1);function h(c,r){var o=g.getNodePosition(r.$grid_data);return c.x+=o.x+r.$grid.scrollLeft,c.y+=o.y-r.$grid_data.scrollTop,c}function l(c,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=g.getNodePosition(c.$root);return r>n.width&&(r=n.width-o-2),r}T.exports={removeLineHighlight:function(c){c.markerLine&&c.markerLine.parentNode&&c.markerLine.parentNode.removeChild(c.markerLine),c.markerLine=null},highlightPosition:function(c,r,o){var n=function(e,a){var i=g.getNodePosition(a.$grid_data),s=g.getRelativeEventPosition(e,a.$grid_data),d=i.x+a.$grid.scrollLeft,f=s.y-10,_=a.getItemHeight(e.targetId);f<i.y&&(f=i.y);var p=a.getTotalHeight();return f>i.y+p-_&&(f=i.y+p-_),i.x=d,i.y=f,i.width=l(a.$gantt,i.width,9),i}(c,o);r.marker.style.left=n.x+9+"px",r.marker.style.width=n.width+"px",r.marker.style.overflow="hidden";var t=r.markerLine;t||((t=document.createElement("div")).className="gantt_drag_marker gantt_grid_dnd_marker",t.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",t.style.pointerEvents="none"),c.child?function(e,a,i){var s=e.targetParent,d=h({x:0,y:i.getItemTop(s)},i),f=i.$grid_data.getBoundingClientRect().bottom+window.scrollY,_=l(i.$gantt,i.$grid_data.offsetWidth);a.innerHTML="<div class='gantt_grid_dnd_marker_folder'></div>",a.style.width=_+"px",a.style.top=d.y+"px",a.style.left=d.x+"px",a.style.height=i.getItemHeight(s)+"px",d.y>f&&(a.style.top=f+"px")}(c,t,o):function(e,a,i){var s=function(_,p){var v=p.$config.rowStore,y={x:0,y:0},m=p.$grid_data.querySelector(".gantt_tree_indent"),k=15,b=0;if(m&&(k=m.offsetWidth),_.targetId!==v.$getRootId()){var w=p.getItemTop(_.targetId),x=p.getItemHeight(_.targetId);if(b=v.exists(_.targetId)?v.calculateItemLevel(v.getItem(_.targetId)):0,_.prevSibling)y.y=w;else if(_.nextSibling){var $=0;v.eachItem(function(S){v.getIndexById(S.id)!==-1&&$++},_.targetId),y.y=w+x+$*x}else y.y=w+x,b+=1}return y.x=40+b*k,y.width=l(p.$gantt,Math.max(p.$grid_data.offsetWidth-y.x,0),y.x),h(y,p)}(e,i),d=i.$grid_data.getBoundingClientRect().bottom+window.scrollY;a.innerHTML="<div class='gantt_grid_dnd_marker_line'></div>",a.style.left=s.x+"px",a.style.height="4px";var f=s.y-2;a.style.top=f+"px",a.style.width=s.width+"px",f>d&&(a.style.top=d+"px")}(c,t,o),r.markerLine||(document.body.appendChild(t),r.markerLine=t)}}},function(T,C,u){var g=u(17);T.exports=function(h,l,c,r,o){var n;if(l!==o.$getRootId())n=c<.25?g.prevSiblingTarget(h,l,o):!(c>.6)||o.hasChild(l)&&o.getItem(l).$open?g.firstChildTarget(h,l,o):g.nextSiblingTarget(h,l,o);else{var t=o.$getRootId();n=o.hasChild(t)&&r>=0?g.lastChildTarget(h,t,o):g.firstChildTarget(h,t,o)}return n}},function(T,C,u){var g=u(17);function h(r,o,n,t,e){for(var a=o;t.exists(a);){var i=t.calculateItemLevel(t.getItem(a));if((i===n||i===n-1)&&t.getBranchIndex(a)>-1)break;a=e?t.getPrev(a):t.getNext(a)}return t.exists(a)?t.calculateItemLevel(t.getItem(a))===n?e?g.nextSiblingTarget(r,a,t):g.prevSiblingTarget(r,a,t):g.firstChildTarget(r,a,t):null}function l(r,o,n,t){return h(r,o,n,t,!0)}function c(r,o,n,t){return h(r,o,n,t,!1)}T.exports=function(r,o,n,t,e,a){var i;if(o!==e.$getRootId()){var s=e.getItem(o),d=e.calculateItemLevel(s);if(d===a){var f=e.getPrevSibling(o);n<.5&&!f?i=g.prevSiblingTarget(r,o,e):(n<.5&&(o=f),i=g.nextSiblingTarget(r,o,e))}else if(d>a)e.eachParent(function(m){e.calculateItemLevel(m)===a&&(o=m.id)},s),i=l(r,o,a,e);else{var _=l(r,o,a,e),p=c(r,o,a,e);i=n<.5?_:p}}else{var v=e.$getRootId(),y=e.getChildren(v);i=g.createDropTargetObject(),i=y.length&&t>=0?l(r,function(m){for(var k=m.getNext();m.exists(k);){var b=m.getNext(k);if(!m.exists(b))return k;k=b}return null}(e),a,e):c(r,v,a,e)}return i}},function(T,C,u){var g=u(1),h=u(17),l=u(80),c=u(79),r=u(78),o=u(11);T.exports={init:function(n,t){var e=n.$services.getService("dnd");if(t.$config.bind&&n.getDatastore(t.$config.bind)){var a=new e(t.$grid_data,{updates_per_second:60});n.defined(t.$getConfig().dnd_sensitivity)&&(a.config.sensitivity=t.$getConfig().dnd_sensitivity),a.attachEvent("onBeforeDragStart",n.bind(function(f,_){var p=i(_);if(!p||(n.hideQuickInfo&&n._hideQuickInfo(),g.closest(_.target,".gantt_grid_editor_placeholder")))return!1;var v=p.getAttribute(t.$config.item_attribute),y=t.$config.rowStore.getItem(v);return!n.isReadonly(y)&&!s(v)&&(a.config.initial_open_state=y.$open,!!n.callEvent("onRowDragStart",[v,_.target||_.srcElement,_])&&void 0)},n)),a.attachEvent("onAfterDragStart",n.bind(function(f,_){var p=i(_);a.config.marker.innerHTML=p.outerHTML;var v=a.config.marker.firstChild;v&&(a.config.marker.style.opacity=.4,v.style.position="static",v.style.pointerEvents="none"),a.config.id=p.getAttribute(t.$config.item_attribute);var y=t.$config.rowStore,m=y.getItem(a.config.id);a.config.level=y.calculateItemLevel(m),a.config.drop_target=h.createDropTargetObject({targetParent:y.getParent(m.id),targetIndex:y.getBranchIndex(m.id),targetId:m.id,nextSibling:!0}),m.$open=!1,m.$transparent=!0,this.refreshData()},n)),a.attachEvent("onDragMove",n.bind(function(f,_){var p=d(_);return p&&n.callEvent("onBeforeRowDragMove",[a.config.id,p.targetParent,p.targetIndex])!==!1||(p=h.createDropTargetObject(a.config.drop_target)),r.highlightPosition(p,a.config,t),a.config.drop_target=p,this.callEvent("onRowDragMove",[a.config.id,p.targetParent,p.targetIndex]),!0},n)),a.attachEvent("onDragEnd",n.bind(function(){var f=t.$config.rowStore,_=f.getItem(a.config.id);r.removeLineHighlight(a.config),_.$transparent=!1,_.$open=a.config.initial_open_state;var p=a.config.drop_target;this.callEvent("onBeforeRowDragEnd",[a.config.id,p.targetParent,p.targetIndex])===!1?_.$drop_target=null:(f.move(a.config.id,p.targetIndex,p.targetParent),n.render(),this.callEvent("onRowDragEnd",[a.config.id,p.targetParent,p.targetIndex])),f.refresh(_.id)},n))}function i(f){return g.locateAttribute(f,t.$config.item_attribute)}function s(f){return o(f,n,n.getDatastore(t.$config.bind))}function d(f){var _,p=function(b){var w=g.getRelativeEventPosition(b,t.$grid_data).y,x=t.$config.rowStore;document.doctype||(w+=window.scrollY),w=w||0;var $=t.$state.scrollTop||0,S=n.$grid_data.getBoundingClientRect().height+$+window.scrollY,E=$,M=t.getItemIndexByTopPosition(t.$state.scrollTop);if(x.exists(M)||(M=x.countVisible()-1),M<0)return x.$getRootId();var D=x.getIdByIndex(M),A=t.$state.scrollTop/t.getItemHeight(D),I=A-Math.floor(A);I>.1&&I<.9&&(S-=t.getItemHeight(D)*I,E+=t.getItemHeight(D)*(1-I));var P=g.getNodePosition(t.$grid_data),H=P.y+P.height,O=a.config.marker.offsetHeight;w+O+window.scrollY>=S&&(a.config.marker.style.top=H-O+"px"),w>=S?w=S:w<=E&&(w=E,a.config.marker.style.top=P.y+"px");var V=t.getItemIndexByTopPosition(w);if(V>x.countVisible()-1||V<0)return x.$getRootId();var j=x.getIdByIndex(V);return s(j)?x.getPrevSibling(j):x.getIdByIndex(V)}(f),v=null,y=t.$config.rowStore,m=!t.$getConfig().order_branch_free,k=g.getRelativeEventPosition(f,t.$grid_data).y;return document.doctype||(k+=window.scrollY),p!==y.$getRootId()&&(v=(k-t.getItemTop(p))/t.getItemHeight(p)),m?(_=l(a.config.id,p,v,k,y,a.config.level))&&_.targetParent&&s(_.targetParent)&&(p=y.getPrevSibling(_.targetParent),_=l(a.config.id,p,v,k,y,a.config.level)):_=c(a.config.id,p,v,k,y),_}}}},function(T,C,u){var g=u(1),h=u(11);T.exports={init:function(l,c){var r=l.$services.getService("dnd");if(c.$config.bind&&l.getDatastore(c.$config.bind)){var o=new r(c.$grid_data,{updates_per_second:60});l.defined(c.$getConfig().dnd_sensitivity)&&(o.config.sensitivity=c.$getConfig().dnd_sensitivity),o.attachEvent("onBeforeDragStart",l.bind(function(a,i){var s=n(i);if(!s||(l.hideQuickInfo&&l._hideQuickInfo(),g.closest(i.target,".gantt_grid_editor_placeholder")))return!1;var d=s.getAttribute(c.$config.item_attribute);if(e(d))return!1;var f=t().getItem(d);return!l.isReadonly(f)&&(o.config.initial_open_state=f.$open,!!l.callEvent("onRowDragStart",[d,i.target||i.srcElement,i])&&void 0)},l)),o.attachEvent("onAfterDragStart",l.bind(function(a,i){var s=n(i);o.config.marker.innerHTML=s.outerHTML;var d=o.config.marker.firstChild;d&&(d.style.position="static"),o.config.id=s.getAttribute(c.$config.item_attribute);var f=t(),_=f.getItem(o.config.id);o.config.index=f.getBranchIndex(o.config.id),o.config.parent=_.parent,_.$open=!1,_.$transparent=!0,this.refreshData()},l)),o.lastTaskOfLevel=function(a){for(var i=null,s=t().getItems(),d=0,f=s.length;d<f;d++)s[d].$level==a&&(i=s[d]);return i?i.id:null},o._getGridPos=l.bind(function(a){var i=g.getNodePosition(c.$grid_data),s=i.x+c.$grid.scrollLeft,d=a.pos.y-10,f=c.getItemHeight(o.config.id);d<i.y&&(d=i.y);var _=c.getTotalHeight();d>i.y+_-f&&(d=i.y+_-f);var p=i.y+i.height;return d>p-f&&(d=p-f),i.x=s,i.y=d,i},l),o._getTargetY=l.bind(function(a){var i=g.getNodePosition(c.$grid_data),s=c.$state.scrollTop||0,d=l.$grid_data.getBoundingClientRect().height+s,f=a.pageY-i.y+s;return f>d?f=d:f<s&&(f=s),f},l),o._getTaskByY=l.bind(function(a,i){var s=t();a=a||0;var d=c.getItemIndexByTopPosition(a);return(d=i<d?d-1:d)>s.countVisible()-1?null:s.getIdByIndex(d)},l),o.attachEvent("onDragMove",l.bind(function(a,i){var s=l.$grid_data.getBoundingClientRect(),d=s.height+s.y+(c.$state.scrollTop||0)+window.scrollY,f=o.config,_=o._getGridPos(i),p=c.$getConfig(),v=t();_.y<d?f.marker.style.top=_.y+"px":f.marker.style.top=d+"px",f.marker.style.left=_.x+10+"px";var y=g.getNodePosition(l.$root);_.width>y.width&&(f.marker.style.width=y.width-10-2+"px",f.marker.style.overflow="hidden");var m=v.getItem(o.config.id),k=o._getTargetY(i),b=o._getTaskByY(k,v.getIndexById(m.id));function w(H,O){return!v.isChildOf(x.id,O.id)&&(H.$level==O.$level||p.order_branch_free)}if(v.exists(b)||(b=o.lastTaskOfLevel(p.order_branch_free?m.$level:0))==o.config.id&&(b=null),v.exists(b)){var x=v.getItem(b),$=c.getItemTop(x.id),S=c.getItemHeight(x.id);if($+S/2<k){var E=v.getIndexById(x.id),M=v.getNext(x.id),D=v.getItem(M);if(e(M)){var A=v.getPrev(D.id);D=v.getItem(A)}if(D){if(D.id==m.id)return p.order_branch_free&&v.isChildOf(m.id,x.id)&&v.getChildren(x.id).length==1?void v.move(m.id,v.getBranchIndex(x.id)+1,v.getParent(x.id)):void 0;x=D}else if(M=v.getIdByIndex(E),D=v.getItem(M),e(M)&&(A=v.getPrev(D.id),D=v.getItem(A)),w(D,m)&&D.id!=m.id)return void v.move(m.id,-1,v.getParent(D.id))}else if(p.order_branch_free&&x.id!=m.id&&w(x,m)&&!e(x.id)){if(!v.hasChild(x.id))return x.$open=!0,void v.move(m.id,-1,x.id);if(v.getIndexById(x.id)||S/3<k)return}E=v.getIndexById(x.id),A=v.getIdByIndex(E-1);for(var I=v.getItem(A),P=1;(!I||I.id==x.id)&&E-P>=0;)A=v.getIdByIndex(E-P),I=v.getItem(A),P++;if(m.id==x.id||e(x.id))return;w(x,m)&&m.id!=x.id?v.move(m.id,0,0,x.id):x.$level!=m.$level-1||v.getChildren(x.id).length?I&&w(I,m)&&m.id!=I.id&&v.move(m.id,-1,v.getParent(I.id)):v.move(m.id,0,x.id)}return!0},l)),o.attachEvent("onDragEnd",l.bind(function(){var a=t(),i=a.getItem(o.config.id);i.$transparent=!1,i.$open=o.config.initial_open_state,this.callEvent("onBeforeRowDragEnd",[o.config.id,o.config.parent,o.config.index])===!1?(a.move(o.config.id,o.config.index,o.config.parent),i.$drop_target=null):this.callEvent("onRowDragEnd",[o.config.id,i.$drop_target]),l.render(),this.refreshData()},l))}function n(a){return g.locateAttribute(a,c.$config.item_attribute)}function t(){return l.getDatastore(c.$config.bind)}function e(a){return h(a,l,t())}}}},function(T,C,u){var g=u(0),h=u(82),l=u(81),c=function(r){return{onCreated:function(o){o.$config=g.mixin(o.$config,{bind:"task"}),o.$config.id=="grid"&&(this.extendGantt(o),r.ext.inlineEditors=r.ext._inlineEditors.createEditors(o),r.ext.inlineEditors.init()),this._mouseDelegates=u(24)(r)},onInitialized:function(o){var n=o.$getConfig();n.order_branch&&(n.order_branch=="marker"?l.init(o.$gantt,o):h.init(o.$gantt,o)),this.initEvents(o,r),o.$config.id=="grid"&&this.extendDom(o)},onDestroyed:function(o){o.$config.id=="grid"&&r.ext.inlineEditors.destructor(),this.clearEvents(o,r)},initEvents:function(o,n){this._mouseDelegates.delegate("click","gantt_row",n.bind(function(t,e,a){var i=o.$getConfig();if(e!==null){var s=this.getTask(e);i.scroll_on_click&&!n._is_icon_open_click(t)&&this.showDate(s.start_date),n.callEvent("onTaskRowClick",[e,a])}},n),o.$grid),this._mouseDelegates.delegate("click","gantt_grid_head_cell",n.bind(function(t,e,a){var i=a.getAttribute("data-column-id");if(n.callEvent("onGridHeaderClick",[i,t])){var s=o.$getConfig();if(i!="add"){if(s.sort&&i){for(var d,f=i,_=0;_<s.columns.length;_++)if(s.columns[_].name==i){d=s.columns[_];break}if(d&&d.sort!==void 0&&d.sort!==!0&&!(f=d.sort))return;var p=this._sort&&this._sort.direction&&this._sort.name==i?this._sort.direction:"desc";p=p=="desc"?"asc":"desc",this._sort={name:i,direction:p},this.sort(f,p=="desc")}}else n.$services.getService("mouseEvents").callHandler("click","gantt_add",o.$grid,[t,s.root_id])}},n),o.$grid),this._mouseDelegates.delegate("click","gantt_add",n.bind(function(t,e,a){if(!o.$getConfig().readonly)return this.createTask({},e||n.config.root_id),!1},n),o.$grid)},clearEvents:function(o,n){this._mouseDelegates.destructor(),this._mouseDelegates=null},extendDom:function(o){r.$grid=o.$grid,r.$grid_scale=o.$grid_scale,r.$grid_data=o.$grid_data},extendGantt:function(o){r.getGridColumns=r.bind(o.getGridColumns,o),o.attachEvent("onColumnResizeStart",function(){return r.callEvent("onColumnResizeStart",arguments)}),o.attachEvent("onColumnResize",function(){return r.callEvent("onColumnResize",arguments)}),o.attachEvent("onColumnResizeEnd",function(){return r.callEvent("onColumnResizeEnd",arguments)}),o.attachEvent("onColumnResizeComplete",function(n,t){r.config.grid_width=t}),o.attachEvent("onBeforeRowResize",function(){return r.callEvent("onBeforeRowResize",arguments)}),o.attachEvent("onRowResize",function(){return r.callEvent("onRowResize",arguments)}),o.attachEvent("onBeforeRowResizeEnd",function(){return r.callEvent("onBeforeRowResizeEnd",arguments)}),o.attachEvent("onAfterRowResize",function(){return r.callEvent("onAfterRowResize",arguments)})}}};T.exports=c},function(T,C,u){var g=u(23),h=u(5);T.exports=function(l){return{render:function(c,r,o){var n=r.$getConfig(),t=document.createElement("div");return t.className="gantt_task_grid_row_resize_wrap",t.style.top=r.getItemTop(c.id)+r.getItemHeight(c.id)+"px",t.innerHTML="<div class='gantt_task_grid_row_resize'></div>",t.setAttribute(n.task_grid_row_resizer_attribute,c.id),l._waiAria.gridSeparatorAttr(t),t},update:null,getRectangle:g,getVisibleRange:h}}},function(T,C,u){var g=u(20),h=u(5),l=u(19),c=u(18),r=u(30);function o(t,e,a,i){var s=100*(1-(1*t||0)),d=i.posFromDate(e),f=i.posFromDate(a),_=document.createElement("div");return _.className="gantt_histogram_hor_bar",_.style.top=s+"%",_.style.left=d+"px",_.style.width=f-d+1+"px",_}function n(t,e,a){if(t===e)return null;var i=1-Math.max(t,e),s=Math.abs(t-e),d=document.createElement("div");return d.className="gantt_histogram_vert_bar",d.style.top=100*i+"%",d.style.height=100*s+"%",d.style.left=a+"px",d}T.exports=function(t){var e=r(t),a={},i={},s={};function d(p,v){var y=a[p];y&&y[v]&&y[v].parentNode&&y[v].parentNode.removeChild(y[v])}function f(p,v,y,m,k,b,w){var x=s[p.id];x&&x.parentNode&&x.parentNode.removeChild(x);var $=function(S,E,M,D){for(var A=E.getScale(),I=document.createElement("div"),P=l(A,D),H=P.start;H<=P.end;H++){var O=A.trace_x[H],V=A.trace_x[H+1]||t.date.add(O,A.step,A.unit),j=A.trace_x[H].valueOf(),Y=Math.min(S[j]/M,1)||0;if(Y<0)return null;var N=Math.min(S[V.valueOf()]/M,1)||0,X=o(Y,O,V,E);X&&I.appendChild(X);var Q=n(Y,N,E.posFromDate(V));Q&&I.appendChild(Q)}return I}(y,k,b,w);return $&&v&&($.setAttribute("data-resource-id",p.id),$.setAttribute(k.$config.item_attribute,p.id),$.style.position="absolute",$.style.top=v.top+1+"px",$.style.height=k.getItemHeight(p.id)-1+"px",$.style.left=0),$}function _(p,v,y,m,k,b,w){var x=k.histogram_cell_class(b.start_date,b.end_date,p,b.tasks,b.assignments),$=k.histogram_cell_label(b.start_date,b.end_date,p,b.tasks,b.assignments),S=k.histogram_cell_allocated(b.start_date,b.end_date,p,b.tasks,b.assignments),E=w.getItemHeight(p.id)-1;if(x||$){var M=document.createElement("div");return M.className=["gantt_histogram_cell",x].join(" "),M.setAttribute(w.$config.item_attribute,p.id),M.style.cssText=["left:"+v.left+"px","width:"+v.width+"px","height:"+E+"px","line-height:"+E+"px","top:"+(v.top+1)+"px"].join(";"),$&&($="<div class='gantt_histogram_label'>"+$+"</div>"),S&&($="<div class='gantt_histogram_fill' style='height:"+100*Math.min(S/y||0,1)+"%;'></div>"+$),$&&(M.innerHTML=$),M}return null}return{render:function(p,v,y,m){var k=v.$getTemplates(),b=v.getScale(),w=e(p,y.resource_property,b,v),x=[],$={},S=p.capacity||v.$config.capacity||24;a[p.id]={},i[p.id]=null,s[p.id]=null;for(var E=!!m,M=l(b,m),D=M.start;D<=M.end;D++){var A=w[D];if(A&&(!E||c(D,b,m,t))){var I=k.histogram_cell_capacity(A.start_date,A.end_date,p,A.tasks,A.assignments);$[A.start_date.valueOf()]=I||0;var P=v.getItemPosition(p,A.start_date,A.end_date),H=_(p,P,S,0,k,A,v);H&&(x.push(H),a[p.id][D]=H)}}var O=null;if(x.length){O=document.createElement("div");for(var V=0;V<x.length;V++)O.appendChild(x[V]);var j=f(p,P,$,0,v,S,m);j&&(O.appendChild(j),s[p.id]=j),i[p.id]=O}return O},update:function(p,v,y,m,k){var b=y.$getTemplates(),w=y.getScale(),x=e(p,m.resource_property,w,y),$=p.capacity||y.$config.capacity||24,S={},E=!!k,M=l(w,k),D={};if(a&&a[p.id])for(var A in a[p.id])D[A]=A;for(var I=M.start;I<=M.end;I++){var P=x[I];if(D[I]=!1,P){var H=b.histogram_cell_capacity(P.start_date,P.end_date,p,P.tasks,P.assignments);S[P.start_date.valueOf()]=H||0;var O=y.getItemPosition(p,P.start_date,P.end_date);if(!E||c(I,w,k,t)){var V=a[p.id];if(V&&V[I])V&&V[I]&&!V[I].parentNode&&v.appendChild(V[I]);else{var j=_(p,O,$,0,b,P,y);j&&(v.appendChild(j),a[p.id][I]=j)}}else d(p.id,I)}}for(var A in D)D[A]!==!1&&d(p.id,A);var Y=f(p,O,S,0,y,$,k);Y&&(v.appendChild(Y),s[p.id]=Y)},getRectangle:g,getVisibleRange:h}}},function(T,C,u){var g=u(20),h=u(5),l=u(19),c=u(18),r=u(30);T.exports=function(o){var n=r(o),t={};function e(i,s,d,f,_){var p=d.resource_cell_class(s.start_date,s.end_date,i,s.tasks,s.assignments),v=d.resource_cell_value(s.start_date,s.end_date,i,s.tasks,s.assignments),y=_.getItemHeight(i.id)-1;if(p||v){var m=_.getItemPosition(i,s.start_date,s.end_date),k=document.createElement("div");return k.setAttribute(_.$config.item_attribute,i.id),k.className=["gantt_resource_marker",p].join(" "),k.style.cssText=["left:"+m.left+"px","width:"+m.width+"px","height:"+y+"px","line-height:"+y+"px","top:"+m.top+"px"].join(";"),v&&(k.innerHTML=v),k}return null}function a(i,s){t[i]&&t[i][s]&&t[i][s].parentNode&&t[i][s].parentNode.removeChild(t[i][s])}return{render:function(i,s,d,f){var _=s.$getTemplates(),p=s.getScale(),v=n(i,d.resource_property,s.getScale(),s),y=!!f,m=[];t[i.id]={};for(var k=l(p,f),b=k.start;b<=k.end;b++){var w=v[b];if(w&&(!y||c(b,p,f,o))){var x=e(i,w,_,0,s);x&&(m.push(x),t[i.id][b]=x)}}var $=null;if(m.length){$=document.createElement("div");for(var S=0;S<m.length;S++)$.appendChild(m[S])}return $},update:function(i,s,d,f,_){var p=d.$getTemplates(),v=d.getScale(),y=n(i,f.resource_property,d.getScale(),d),m=l(v,_),k={};if(t&&t[i.id])for(var b in t[i.id])k[b]=b;for(var w=m.start;w<=m.end;w++){var x=y[w];if(k[w]=!1,x)if(c(w,v,_,o))if(t[i.id]&&t[i.id][w])t[i.id]&&t[i.id][w]&&!t[i.id][w].parentNode&&s.appendChild(t[i.id][w]);else{var $=e(i,x,p,0,d);$&&(s.appendChild($),t[i.id][w]=$)}else a(i.id,w)}for(var b in k)k[b]!==!1&&a(i.id,b)},getRectangle:g,getVisibleRange:h}}},function(T,C,u){function g(r){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(r)}var h=u(2),l=u(23),c=u(5);T.exports=function(r){return{render:function(o,n,t,e){for(var a=n.getGridColumns(),i=n.$getTemplates(),s=n.$config.rowStore,d=[],f=0;f<a.length;f++){var _,p,v,y=f==a.length-1,m=a[f];m.name=="add"?(p="<div "+(S=r._waiAria.gridAddButtonAttrString(m))+" class='gantt_add'></div>",v=""):(p=m.template?m.template(o):o[m.name],h.isDate(p)&&(p=i.date_grid(p,o,m.name)),p!=null||(p=""),v=p,p="<div class='gantt_tree_content'>"+p+"</div>");var k="gantt_cell"+(y?" gantt_last_cell":""),b=[];if(m.tree){k+=" gantt_cell_tree";for(var w=0;w<o.$level;w++)b.push(i.grid_indent(o));!s.hasChild(o.id)||r.isSplitTask(o)&&!r.config.open_split_tasks?(b.push(i.grid_blank(o)),b.push(i.grid_file(o))):(b.push(i.grid_open(o)),b.push(i.grid_folder(o)))}var x="width:"+(m.width-(y?1:0))+"px;";if(this.defined(m.align)){var $={right:"flex-end",left:"flex-start",center:"center"}[m.align];x+="text-align:"+m.align+";justify-content:"+$+";"}var S=r._waiAria.gridCellAttrString(m,v,o);b.push(p),_="<div class='"+k+"' data-column-index='"+f+"' data-column-name='"+m.name+"' style='"+x+"' "+S+">"+b.join("")+"</div>",d.push(_)}switch(k="",s.$config.name){case"task":k=r.getGlobalTaskIndex(o.id)%2==0?"":" odd";break;case"resource":k=s.visibleOrder.indexOf(o.id)%2==0?"":" odd"}if(k+=o.$transparent?" gantt_transparent":"",k+=o.$dataprocessor_class?" "+o.$dataprocessor_class:"",i.grid_row_class){var E=i.grid_row_class.call(r,o.start_date,o.end_date,o);E&&(k+=" "+E)}s.isSelected(o.id)&&(k+=" gantt_selected");var M=document.createElement("div");M.className="gantt_row"+k+" gantt_row_"+r.getTaskType(o.type);var D=n.getItemHeight(o.id);return M.style.height=D+"px",M.style.lineHeight=D+"px",t.smart_rendering&&(M.style.position="absolute",M.style.left="0px",M.style.top=n.getItemTop(o.id)+"px"),n.$config.item_attribute&&(M.setAttribute(n.$config.item_attribute,o.id),M.setAttribute(n.$config.bind+"_id",o.id)),r._waiAria.taskRowAttr(o,M),M.innerHTML=d.join(""),M},update:null,getRectangle:l,getVisibleRange:c,onrender:function(o,n,t){for(var e=t.getGridColumns(),a=0;a<e.length;a++){var i=e[a];if(i.onrender){var s=n.querySelector("[data-column-name="+i.name+"]");if(s){var d=i.onrender(o,s);if(d&&typeof d=="string")s.innerHTML=d;else if(d&&g(d)==="object"&&r.config.external_render){var f=r.config.external_render;f.isElement(d)&&f.renderElement(d,s)}}}}}}}},function(T,C,u){var g=u(32),h=u(33);T.exports=function(l){var c={current_pos:null,dirs:{left:"left",right:"right",up:"up",down:"down"},path:[],clear:function(){this.current_pos=null,this.path=[]},point:function(n){this.current_pos=l.copy(n)},get_lines:function(n){this.clear(),this.point(n[0]);for(var t=1;t<n.length;t++)this.line_to(n[t]);return this.get_path()},line_to:function(n){var t=l.copy(n),e=this.current_pos,a=this._get_line(e,t);this.path.push(a),this.current_pos=t},get_path:function(){return this.path},get_wrapper_sizes:function(n,t,e){var a,i=t.$getConfig().link_wrapper_width,s=n.y-i/2;switch(n.direction){case this.dirs.left:a={top:s,height:i,lineHeight:i,left:n.x-n.size-i/2,width:n.size+i};break;case this.dirs.right:a={top:s,lineHeight:i,height:i,left:n.x-i/2,width:n.size+i};break;case this.dirs.up:a={top:s-n.size,lineHeight:n.size+i,height:n.size+i,left:n.x-i/2,width:i};break;case this.dirs.down:a={top:s,lineHeight:n.size+i,height:n.size+i,left:n.x-i/2,width:i}}return a},get_line_sizes:function(n,t){var e,a=t.$getConfig(),i=a.link_line_width,s=a.link_wrapper_width,d=n.size+i;switch(n.direction){case this.dirs.left:case this.dirs.right:e={height:i,width:d,marginTop:(s-i)/2,marginLeft:(s-i)/2};break;case this.dirs.up:case this.dirs.down:e={height:d,width:i,marginTop:(s-i)/2,marginLeft:(s-i)/2}}return e},render_line:function(n,t,e,a){var i=this.get_wrapper_sizes(n,e,a),s=document.createElement("div");s.style.cssText=["top:"+i.top+"px","left:"+i.left+"px","height:"+i.height+"px","width:"+i.width+"px"].join(";"),s.className="gantt_line_wrapper";var d=this.get_line_sizes(n,e),f=document.createElement("div");return f.style.cssText=["height:"+d.height+"px","width:"+d.width+"px","margin-top:"+d.marginTop+"px","margin-left:"+d.marginLeft+"px"].join(";"),f.className="gantt_link_line_"+n.direction,s.appendChild(f),s},_get_line:function(n,t){var e=this.get_direction(n,t),a={x:n.x,y:n.y,direction:this.get_direction(n,t)};return e==this.dirs.left||e==this.dirs.right?a.size=Math.abs(n.x-t.x):a.size=Math.abs(n.y-t.y),a},get_direction:function(n,t){return t.x<n.x?this.dirs.left:t.x>n.x?this.dirs.right:t.y>n.y?this.dirs.down:this.dirs.up}},r={path:[],clear:function(){this.path=[]},current:function(){return this.path[this.path.length-1]},point:function(n){return n?(this.path.push(l.copy(n)),n):this.current()},point_to:function(n,t,e){e=e?{x:e.x,y:e.y}:l.copy(this.point());var a=c.dirs;switch(n){case a.left:e.x-=t;break;case a.right:e.x+=t;break;case a.up:e.y-=t;break;case a.down:e.y+=t}return this.point(e)},get_points:function(n,t,e,a){var i=this.get_endpoint(n,t,e,a),s=l.config,d=i.e_y-i.y,f=i.e_x-i.x,_=c.dirs,p=t.getItemHeight(n.source);this.clear(),this.point({x:i.x,y:i.y});var v=2*s.link_arrow_size,y=this.get_line_type(n,t.$getConfig()),m=i.e_x>i.x;if(y.from_start&&y.to_start)this.point_to(_.left,v),m?(this.point_to(_.down,d),this.point_to(_.right,f)):(this.point_to(_.right,f),this.point_to(_.down,d)),this.point_to(_.right,v);else if(!y.from_start&&y.to_start)if(m=i.e_x>i.x+2*v,this.point_to(_.right,v),m)f-=v,this.point_to(_.down,d),this.point_to(_.right,f);else{f-=2*v;var k=d>0?1:-1;this.point_to(_.down,k*(p/2)),this.point_to(_.right,f),this.point_to(_.down,k*(Math.abs(d)-p/2)),this.point_to(_.right,v)}else y.from_start||y.to_start?y.from_start&&!y.to_start&&(m=i.e_x>i.x-2*v,this.point_to(_.left,v),m?(f+=2*v,k=d>0?1:-1,this.point_to(_.down,k*(p/2)),this.point_to(_.right,f),this.point_to(_.down,k*(Math.abs(d)-p/2)),this.point_to(_.left,v)):(f+=v,this.point_to(_.down,d),this.point_to(_.right,f))):(this.point_to(_.right,v),m?(this.point_to(_.right,f),this.point_to(_.down,d)):(this.point_to(_.down,d),this.point_to(_.right,f)),this.point_to(_.left,v));return this.path},get_line_type:function(n,t){var e=t.links,a=!1,i=!1;return n.type==e.start_to_start?a=i=!0:n.type==e.finish_to_finish?a=i=!1:n.type==e.finish_to_start?(a=!1,i=!0):n.type==e.start_to_finish?(a=!0,i=!1):l.assert(!1,"Invalid link type"),t.rtl&&(a=!a,i=!i),{from_start:a,to_start:i}},get_endpoint:function(n,t,e,a){var i=t.$getConfig(),s=this.get_line_type(n,i),d=s.from_start,f=s.to_start,_=o(e,t,i),p=o(a,t,i);return{x:d?_.left:_.left+_.width,e_x:f?p.left:p.left+p.width,y:_.top+_.rowHeight/2-1,e_y:p.top+p.rowHeight/2-1}}};function o(n,t,e){var a=t.getItemPosition(n);if(l.getTaskType(n.type)==e.types.milestone){var i=t.getBarHeight(n.id,!0),s=Math.sqrt(2*i*i);a.left-=s/2,a.width=s}return a}return{render:function(n,t,e){var a=l.getTask(n.source);if(!a.hide_bar){var i=l.getTask(n.target);if(!i.hide_bar){var s=r.get_endpoint(n,t,a,i),d=s.e_y-s.y;if(!(s.e_x-s.x||d))return null;var f=r.get_points(n,t,a,i),_=c.get_lines(f,t),p=document.createElement("div"),v="gantt_task_link";n.color&&(v+=" gantt_link_inline_color");var y=l.templates.link_class?l.templates.link_class(n):"";y&&(v+=" "+y),e.highlight_critical_path&&l.isCriticalLink&&l.isCriticalLink(n)&&(v+=" gantt_critical_link"),p.className=v,t.$config.link_attribute&&(p.setAttribute(t.$config.link_attribute,n.id),p.setAttribute("link_id",n.id));for(var m=0;m<_.length;m++){m==_.length-1&&(_[m].size-=e.link_arrow_size);var k=c.render_line(_[m],_[m+1],t,n.source);n.color&&(k.firstChild.style.backgroundColor=n.color),p.appendChild(k)}var b=_[_.length-1].direction,w=function(x,$,S,E){var M=S.$getConfig(),D=document.createElement("div"),A=x.y,I=x.x,P=M.link_arrow_size,H="gantt_link_arrow gantt_link_arrow_"+$;switch($){case c.dirs.right:A-=P/2,I-=P;break;case c.dirs.left:A-=P/2;break;case c.dirs.up:I-=P;break;case c.dirs.down:A+=2*P,I-=P}return D.style.cssText=["top:"+A+"px","left:"+I+"px"].join(";"),D.className=H,D}(f[f.length-1],b,t,n.source);return n.color&&(w.style.borderColor=n.color),p.appendChild(w),l._waiAria.linkAttr(n,p),p}}},update:null,isInViewPort:g,getVisibleRange:h()}}},function(T,C){T.exports=function(u,g){var h=g.config.timeline_placeholder;if(u=u||[],h&&u.filter(function(t){return t.id==="timeline_placeholder_task"}).length===0){var l=g.getState(),c=null,r=l.min_date,o=l.max_date;u.length&&(c=u[u.length-1].id);var n={start_date:r,end_date:o,row_height:h.height||0,id:"timeline_placeholder_task",unscheduled:!0,lastTaskId:c,calendar_id:h.calendar||"global",$source:[],$target:[]};u.push(n)}}},function(T,C,u){var g=u(20),h=u(14),l=u(5),c=u(19),r=u(18),o=u(89);T.exports=function(n){var t={},e={};function a(_,p){return!(!t[_.id][p]||!t[_.id][p].parentNode)}function i(_,p){t[_]&&t[_][p]&&t[_][p].parentNode&&t[_][p].parentNode.removeChild(t[_][p])}function s(_){var p,v=_.$getTemplates();return v.task_cell_class!==void 0?(p=v.task_cell_class,(console.warn||console.log)("gantt.templates.task_cell_class template is deprecated and will be removed soon. Please use gantt.templates.timeline_cell_class instead.")):p=v.timeline_cell_class,p}function d(_){return _.$getTemplates().timeline_cell_content}function f(_,p,v,y,m,k,b,w){var x=_.width[p],$="";if(r(p,_,y,n)){var S=k(v,_.trace_x[p]),E="";if(b&&(E=b(v,_.trace_x[p])),w.static_background){var M=!(!S&&!E);if(!w.static_background_cells||!M)return null}if(t[v.id][p])return e[v.id][p]=p,t[v.id][p];var D=document.createElement("div");return D.style.width=x+"px",$="gantt_task_cell"+(p==m-1?" gantt_last_cell":""),S&&($+=" "+S),D.className=$,E&&(D.innerHTML=E),D.style.position="absolute",D.style.left=_.left[p]+"px",t[v.id][p]=D,e[v.id][p]=p,D}return null}return{render:function(_,p,v,y){var m=p.$getTemplates(),k=p.getScale(),b=k.count;if(v.static_background&&!v.static_background_cells)return null;var w,x=document.createElement("div"),$=s(p),S=d(p);if(w=y&&v.smart_rendering&&!h(n)?c(k,y.x):{start:0,end:b-1},v.show_task_cells){t[_.id]={},e[_.id]={};for(var E=w.start;E<=w.end;E++){var M=f(k,E,_,y,b,$,S,v);M&&x.appendChild(M)}}var D=p.$config.rowStore,A=D.getIndexById(_.id)%2!=0,I=m.task_row_class(_.start_date,_.end_date,_),P="gantt_task_row"+(A?" odd":"")+(I?" "+I:"");if(D.isSelected(_.id)&&(P+=" gantt_selected"),x.className=P,v.smart_rendering?(x.style.position="absolute",x.style.top=p.getItemTop(_.id)+"px",x.style.width="100%"):x.style.position="relative",x.style.height=p.getItemHeight(_.id)+"px",_.id=="timeline_placeholder_task"){var H=0;_.lastTaskId&&(H=p.getItemTop(_.lastTaskId)+p.getItemHeight(_.lastTaskId));var O=(_.row_height||p.$task_data.offsetHeight)-H;O<0&&(O=0),v.smart_rendering&&(x.style.top=H+"px"),x.style.height=O+"px"}return p.$config.item_attribute&&(x.setAttribute(p.$config.item_attribute,_.id),x.setAttribute(p.$config.bind+"_id",_.id)),x},update:function(_,p,v,y,m){var k=v.getScale(),b=k.count,w=s(v),x=d(v);if(y.show_task_cells){t[_.id]||(t[_.id]={}),e[_.id]||(e[_.id]={});var $=c(k,m);for(var S in e[_.id]){var E=e[_.id][S];(Number(E)<$.start||Number(E)>$.end)&&i(_.id,E)}e[_.id]={};for(var M=$.start;M<=$.end;M++){var D=f(k,M,_,m,b,w,x,y);!D&&a(_,M)?i(_.id,M):D&&!D.parentNode&&p.appendChild(D)}}},getRectangle:g,getVisibleRange:l,prepareData:o}}},function(T,C,u){var g=u(21),h=u(13),l=u(5);T.exports=function(c){var r=g(c);return{render:function(o,n){if(o.rollup!==!1&&o.$rollup&&o.$rollup.length){var t=document.createElement("div"),e=c.getTaskPosition(o);return o.$rollup.forEach(function(a){var i=c.copy(c.getTask(a));if(i.$rendered_at=o.id,c.callEvent("onBeforeRollupTaskDisplay",[i.id,i,o.id])!==!1){var s=r(i,n);if(s){var d=n.getBarHeight(o.id,i.type==c.config.types.milestone),f=Math.floor((n.getItemHeight(o.id)-d)/2);s.style.top=e.top+f+"px",s.classList.add("gantt_rollup_child"),s.setAttribute("data-rollup-parent-id",o.id),t.appendChild(s)}}}),t}return!1},update:null,isInViewPort:h,getVisibleRange:l}}},function(T,C,u){var g=u(13);T.exports=function(h,l,c,r,o){if(!o.isSplitTask(h))return!1;var n=o.getSubtaskDates(h.id);return g({id:h.id,start_date:n.start_date,end_date:n.end_date,parent:h.parent},l,c,o)}},function(T,C,u){var g=u(21),h=u(5),l=u(92),c=u(13);T.exports=function(r){var o=g(r),n={};function t(s,d,f,_,p){var v=!s.hide_bar;return _.smart_rendering&&v&&(v=c(s,d,f,_,p)),v}function e(s,d,f,_){if(!d.hide_bar){var p=r.isSummaryTask(d);p&&r.resetProjectDates(d);var v=r.copy(r.getTask(d.id));if(v.$rendered_at=s.id,r.callEvent("onBeforeSplitTaskDisplay",[v.id,v,s.id])!==!1){var y=o(v,f);if(y){var m=f.getBarHeight(s.id,d.type==r.config.types.milestone),k=Math.floor((f.getItemHeight(s.id)-m)/2);return y.style.top=_.top+k+"px",y.classList.add("gantt_split_child"),p&&y.classList.add("gantt_split_subproject"),y}}}}function a(s,d){return s+"_"+d}function i(s,d){return r.isSplitTask(s)&&(d.open_split_tasks&&!s.$open||!d.open_split_tasks)&&r.hasChild(s.id)}return{render:function(s,d,f,_){if(i(s,f)){var p=document.createElement("div"),v=r.getTaskPosition(s);return r.hasChild(s.id)&&r.eachTask(function(y){if(t(y,_,d,f,r)){var m=e(s,y,d,v);m?(n[a(y.id,s.id)]=m,p.appendChild(m)):n[a(y.id,s.id)]=!1}},s.id),p}return!1},update:function(s,d,f,_,p){if(i(s,_)){var v=document.createElement("div"),y=r.getTaskPosition(s);r.eachTask(function(m){var k=a(m.id,s.id),b=t(m,p,f,_,r);if(b!==!!n[k])if(b){var w=e(s,m,f,y);n[k]=w||!1}else n[k]=!1;n[k]&&v.appendChild(n[k]),d.innerHTML=v.innerHTML},s.id)}},isInViewPort:l,getVisibleRange:h}}},function(T,C,u){var g=u(13),h=u(5),l=u(21);T.exports=function(c){return{render:l(c),update:null,isInViewPort:g,getVisibleRange:h}}},function(T,C){T.exports=function(u){return function(h,l,c){c=="keepDates"?function(r,o){o=="duration"?r.end_date=u.calculateEndDate(r):o!="end_date"&&o!="start_date"||(r.duration=u.calculateDuration(r))}(h,l):c=="keepDuration"?function(r,o){o=="end_date"?r.start_date=g(r):o!="start_date"&&o!="duration"||(r.end_date=u.calculateEndDate(r))}(h,l):function(r,o){u.config.schedule_from_end?o=="end_date"||o=="duration"?r.start_date=g(r):o=="start_date"&&(r.duration=u.calculateDuration(r)):o=="start_date"||o=="duration"?r.end_date=u.calculateEndDate(r):o=="end_date"&&(r.duration=u.calculateDuration(r))}(h,l)};function g(h){return u.calculateEndDate({start_date:h.end_date,duration:-h.duration,task:h})}}},function(T,C,u){T.exports=function(g){var h=u(7)(g),l=u(0);function c(){return h.apply(this,arguments)||this}function r(o){return o.formatter||g.ext.formatters.durationFormatter()}return u(3)(c,h),l.mixin(c.prototype,{show:function(o,n,t,e){var a="<div><input type='text' name='"+n.name+"'></div>";e.innerHTML=a},set_value:function(o,n,t,e){this.get_input(e).value=r(t.editor).format(o)},get_value:function(o,n,t){return r(n.editor).parse(this.get_input(t).value||"")}},!0),c}},function(T,C,u){T.exports=function(g){var h=u(7)(g),l=u(0);function c(){return h.apply(this,arguments)||this}function r(a){return a.formatter||g.ext.formatters.linkFormatter()}function o(a,i){for(var s=(a||"").split(i.delimiter||","),d=0;d<s.length;d++){var f=s[d].trim();f?s[d]=f:(s.splice(d,1),d--)}return s.sort(),s}function n(a,i,s){for(var d=a.$target,f=[],_=0;_<d.length;_++){var p=s.getLink(d[_]);f.push(r(i).format(p))}return f.join((i.delimiter||",")+" ")}function t(a){return a.source+"_"+a.target+"_"+a.type+"_"+(a.lag||0)}function e(a,i,s){var d=function(y,m,k){var b=[];return m.forEach(function(w){var x=r(k).parse(w);x&&(x.target=y,x.id="predecessor_generated",g.isLinkAllowed(x)&&(x.id=void 0,b.push(x)))}),b}(a.id,i,s),f={};a.$target.forEach(function(y){var m=g.getLink(y);f[t(m)]=m.id});var _=[];d.forEach(function(y){var m=t(y);f[m]?delete f[m]:_.push(y)});var p=[];for(var v in f)p.push(f[v]);return{add:_,remove:p}}return u(3)(c,h),l.mixin(c.prototype,{show:function(a,i,s,d){var f="<div><input type='text' name='"+i.name+"'></div>";d.innerHTML=f},hide:function(){},set_value:function(a,i,s,d){this.get_input(d).value=n(a,s.editor,g)},get_value:function(a,i,s){return o(this.get_input(s).value||"",i.editor)},save:function(a,i,s){var d=e(g.getTask(a),this.get_value(a,i,s),i.editor);(d.add.length||d.remove.length)&&g.batchUpdate(function(){d.add.forEach(function(f){g.addLink(f)}),d.remove.forEach(function(f){g.deleteLink(f)}),g.autoSchedule&&g.autoSchedule()})},is_changed:function(a,i,s,d){var f=this.get_value(i,s,d),_=o(n(a,s.editor,g),s.editor);return f.join()!==_.join()}},!0),c}},function(T,C,u){T.exports=function(g){var h=u(7)(g),l=u(0),c="%Y-%m-%d",r=null,o=null;function n(){return h.apply(this,arguments)||this}return u(3)(n,h),l.mixin(n.prototype,{show:function(t,e,a,i){r||(r=g.date.date_to_str(c)),o||(o=g.date.str_to_date(c));var s=null,d=null;s=typeof a.min=="function"?a.min(t,e):a.min,d=typeof a.max=="function"?a.max(t,e):a.max;var f="<div style='width:140px'><input type='date' "+(s?" min='"+r(s)+"' ":"")+(d?" max='"+r(d)+"' ":"")+" name='"+e.name+"'></div>";i.innerHTML=f},set_value:function(t,e,a,i){t&&t.getFullYear?this.get_input(i).value=r(t):this.get_input(i).value=t},is_valid:function(t,e,a,i){return!(!t||isNaN(t.getTime()))},get_value:function(t,e,a){var i;try{i=o(this.get_input(a).value||"")}catch{i=null}return i}},!0),n}},function(T,C,u){T.exports=function(g){var h=u(7)(g),l=u(0);function c(){return h.apply(this,arguments)||this}return u(3)(c,h),l.mixin(c.prototype,{show:function(r,o,n,t){for(var e="<div><select name='"+o.name+"'>",a=[],i=n.options||[],s=0;s<i.length;s++)a.push("<option value='"+n.options[s].key+"'>"+i[s].label+"</option>");e+=a.join("")+"</select></div>",t.innerHTML=e},get_input:function(r){return r.querySelector("select")}},!0),c}},function(T,C,u){T.exports=function(g){var h=u(7)(g),l=u(0);function c(){return h.apply(this,arguments)||this}return u(3)(c,h),l.mixin(c.prototype,{show:function(r,o,n,t){var e="<div><input type='number' min='"+(n.min||0)+"' max='"+(n.max||100)+"' name='"+o.name+"'></div>";t.innerHTML=e},get_value:function(r,o,n){return this.get_input(n).value||""},is_valid:function(r,o,n,t){return!isNaN(parseInt(r,10))}},!0),c}},function(T,C,u){T.exports=function(g){var h=u(7)(g),l=u(0);function c(){return h.apply(this,arguments)||this}return u(3)(c,h),l.mixin(c.prototype,{show:function(r,o,n,t){var e="<div><input type='text' name='"+o.name+"'></div>";t.innerHTML=e}},!0),c}},function(T,C){T.exports={init:function(u,g){var h=u,l=g.$gantt,c=null,r=l.ext.keyboardNavigation;r.attachEvent("onBeforeFocus",function(o){var n=u.locateCell(o);if(clearTimeout(c),n){var t=n.columnName,e=n.id,a=h.getState();if(h.isVisible()&&a.id==e&&a.columnName===t)return!1}return!0}),r.attachEvent("onFocus",function(o){var n=u.locateCell(o),t=u.getState();return clearTimeout(c),!n||n.id==t.id&&n.columnName==t.columnName||h.isVisible()&&h.save(),!0}),u.attachEvent("onHide",function(){clearTimeout(c)}),r.attachEvent("onBlur",function(){return c=setTimeout(function(){h.save()}),!0}),l.attachEvent("onTaskDblClick",function(o,n){var t=u.getState(),e=u.locateCell(n.target);return!e||!u.isVisible()||e.columnName!=t.columnName}),l.attachEvent("onTaskClick",function(o,n){if(l._is_icon_open_click(n))return!0;var t=u.getState(),e=u.locateCell(n.target);return!e||!u.getEditorConfig(e.columnName)||(u.isVisible()&&t.id==e.id&&t.columnName==e.columnName||u.startEdit(e.id,e.columnName),!1)}),l.attachEvent("onEmptyClick",function(){return h.save(),!0}),r.attachEvent("onKeyDown",function(o,n){var t=u.locateCell(n.target),e=!!t&&u.getEditorConfig(t.columnName),a=u.getState(),i=l.constants.KEY_CODES,s=n.keyCode,d=!1;switch(s){case i.ENTER:u.isVisible()?(u.save(),n.preventDefault(),d=!0):e&&!(n.ctrlKey||n.metaKey||n.shiftKey)&&(h.startEdit(t.id,t.columnName),n.preventDefault(),d=!0);break;case i.ESC:u.isVisible()&&(u.hide(),n.preventDefault(),d=!0);break;case i.UP:case i.DOWN:break;case i.LEFT:case i.RIGHT:(e&&u.isVisible()||a.editorType==="date")&&(d=!0);break;case i.SPACE:u.isVisible()&&(d=!0),e&&!u.isVisible()&&(h.startEdit(t.id,t.columnName),n.preventDefault(),d=!0);break;case i.DELETE:e&&!u.isVisible()?(h.startEdit(t.id,t.columnName),d=!0):e&&u.isVisible()&&(d=!0);break;case i.TAB:if(u.isVisible()){n.shiftKey?u.editPrevCell(!0):u.editNextCell(!0);var f=u.getState();f.id&&r.focus({type:"taskCell",id:f.id,column:f.columnName}),n.preventDefault(),d=!0}break;default:if(u.isVisible())d=!0;else if(s>=48&&s<=57||s>95&&s<112||s>=64&&s<=91||s>185&&s<193||s>218&&s<223){var _=o.modifiers,p=_.alt||_.ctrl||_.meta||_.shift;_.alt||p&&r.getCommandHandler(o,"taskCell")||e&&!u.isVisible()&&(h.startEdit(t.id,t.columnName),d=!0)}}return!d})},onShow:function(u,g,h){},onHide:function(u,g,h){h.$gantt.focus()},destroy:function(){}}},function(T,C){T.exports={init:function(u,g){var h=g.$gantt;h.attachEvent("onTaskClick",function(l,c){if(h._is_icon_open_click(c))return!0;var r=u.getState(),o=u.locateCell(c.target);return!o||!u.getEditorConfig(o.columnName)||(u.isVisible()&&r.id==o.id&&r.columnName==o.columnName||u.startEdit(o.id,o.columnName),!1)}),h.attachEvent("onEmptyClick",function(){return u.isVisible()&&u.isChanged()?u.save():u.hide(),!0}),h.attachEvent("onTaskDblClick",function(l,c){var r=u.getState(),o=u.locateCell(c.target);return!o||!u.isVisible()||o.columnName!=r.columnName})},onShow:function(u,g,h){var l=h.$gantt;l.ext&&l.ext.keyboardNavigation&&l.ext.keyboardNavigation.attachEvent("onKeyDown",function(c,r){var o=l.constants.KEY_CODES,n=!1;switch(r.keyCode){case o.SPACE:u.isVisible()&&(n=!0)}return!n}),g.onkeydown=function(c){c=c||window.event;var r=l.constants.KEY_CODES;if(!(c.defaultPrevented||c.shiftKey&&c.keyCode!=r.TAB)){var o=!0;switch(c.keyCode){case l.keys.edit_save:u.save();break;case l.keys.edit_cancel:u.hide();break;case r.UP:case r.DOWN:u.isVisible()&&(u.hide(),o=!1);break;case r.TAB:c.shiftKey?u.editPrevCell(!0):u.editNextCell(!0);break;default:o=!1}o&&c.preventDefault()}}},onHide:function(){},destroy:function(){}}},function(T,C,u){var g=u(103),h=u(102);T.exports=function(l){var c=null;return{setMapping:function(r){c=r},getMapping:function(){return c||(l.config.keyboard_navigation_cells&&l.ext.keyboardNavigation?h:g)}}}},function(T,C,u){var g=u(104),h=u(101),l=u(100),c=u(99),r=u(98),o=u(97),n=u(96),t=u(0),e=u(1),a=u(4),i=u(95);function s(d){d.config.editor_types={text:new(h(d)),number:new(l(d)),select:new(c(d)),date:new(r(d)),predecessor:new(o(d)),duration:new(n(d))}}T.exports=function(d){var f=g(d),_={};a(_);var p={init:s,createEditors:function(v){function y($,S){var E=v.$getConfig(),M=function(I,P){for(var H=v.$getConfig(),O=v.getItemTop(I),V=v.getItemHeight(I),j=v.getGridColumns(),Y=0,N=0,X=0,Q=0;Q<j.length;Q++){if(j[Q].name==P){X=j[Q].width;break}H.rtl?N+=j[Q].width:Y+=j[Q].width}return H.rtl?{top:O,right:N,height:V,width:X}:{top:O,left:Y,height:V,width:X}}($,S),D=document.createElement("div");D.className="gantt_grid_editor_placeholder",D.setAttribute(v.$config.item_attribute,$),D.setAttribute(v.$config.bind+"_id",$),D.setAttribute("data-column-name",S);var A=function(I,P){for(var H=I.getGridColumns(),O=0;O<H.length;O++)if(H[O].name==P)return O;return 0}(v,S);return D.setAttribute("data-column-index",A),E.rtl?D.style.cssText=["top:"+M.top+"px","right:"+M.right+"px","width:"+M.width+"px","height:"+M.height+"px"].join(";"):D.style.cssText=["top:"+M.top+"px","left:"+M.left+"px","width:"+M.width+"px","height:"+M.height+"px"].join(";"),D}var m=i(d),k=[],b=[],w=null,x={_itemId:null,_columnName:null,_editor:null,_editorType:null,_placeholder:null,locateCell:function($){if(!e.isChildOf($,v.$grid))return null;var S=e.locateAttribute($,v.$config.item_attribute),E=e.locateAttribute($,"data-column-name");if(S&&E){var M=E.getAttribute("data-column-name");return{id:S.getAttribute(v.$config.item_attribute),columnName:M}}return null},getEditorConfig:function($){return v.getColumn($).editor},init:function(){var $=f.getMapping();$.init&&$.init(this,v),w=v.$gantt.getDatastore(v.$config.bind);var S=this;k.push(w.attachEvent("onIdChange",function(E,M){S._itemId==E&&(S._itemId=M)})),k.push(w.attachEvent("onStoreUpdated",function(){v.$gantt.getState("batchUpdate").batch_update||S.isVisible()&&!w.isVisible(S._itemId)&&S.hide()})),b.push(d.attachEvent("onDataRender",function(){S._editor&&S._placeholder&&!e.isChildOf(S._placeholder,d.$root)&&v.$grid_data.appendChild(S._placeholder)})),this.init=function(){}},getState:function(){return{editor:this._editor,editorType:this._editorType,placeholder:this._placeholder,id:this._itemId,columnName:this._columnName}},startEdit:function($,S){if(this.isVisible()&&this.save(),w.exists($)){var E={id:$,columnName:S};d.isReadonly(w.getItem($))?this.callEvent("onEditPrevent",[E]):this.callEvent("onBeforeEditStart",[E])!==!1?(this.show(E.id,E.columnName),this.setValue(),this.callEvent("onEditStart",[E])):this.callEvent("onEditPrevent",[E])}},isVisible:function(){return!(!this._editor||!e.isChildOf(this._placeholder,d.$root))},show:function($,S){this.isVisible()&&this.save();var E={id:$,columnName:S},M=v.getColumn(E.columnName),D=this.getEditorConfig(M.name);if(D){var A=v.$getConfig().editor_types[D.type],I=y(E.id,E.columnName);v.$grid_data.appendChild(I),A.show(E.id,M,D,I),this._editor=A,this._placeholder=I,this._itemId=E.id,this._columnName=E.columnName,this._editorType=D.type;var P=f.getMapping();P.onShow&&P.onShow(this,I,v)}},setValue:function(){var $=this.getState(),S=$.id,E=$.columnName,M=v.getColumn(E),D=w.getItem(S),A=this.getEditorConfig(E);if(A){var I=D[A.map_to];A.map_to=="auto"&&(I=w.getItem(S)),this._editor.set_value(I,S,M,this._placeholder),this.focus()}},focus:function(){this._editor.focus(this._placeholder)},getValue:function(){var $=v.getColumn(this._columnName);return this._editor.get_value(this._itemId,$,this._placeholder)},_getItemValue:function(){var $=this.getEditorConfig(this._columnName);if($){var S=d.getTask(this._itemId)[$.map_to];return $.map_to=="auto"&&(S=w.getItem(this._itemId)),S}},isChanged:function(){var $=v.getColumn(this._columnName),S=this._getItemValue();return this._editor.is_changed(S,this._itemId,$,this._placeholder)},hide:function(){if(this._itemId){var $=this._itemId,S=this._columnName,E=f.getMapping();E.onHide&&E.onHide(this,this._placeholder,v),this._itemId=null,this._columnName=null,this._editorType=null,this._placeholder&&(this._editor&&this._editor.hide&&this._editor.hide(this._placeholder),this._editor=null,this._placeholder.parentNode&&this._placeholder.parentNode.removeChild(this._placeholder),this._placeholder=null,this.callEvent("onEditEnd",[{id:$,columnName:S}]))}},save:function(){if(this.isVisible()&&w.exists(this._itemId)&&this.isChanged()){var $=this._itemId,S=this._columnName;if(w.exists($)){var E=w.getItem($),M=this.getEditorConfig(S),D={id:$,columnName:S,newValue:this.getValue(),oldValue:this._getItemValue()};if(this.callEvent("onBeforeSave",[D])!==!1&&(!this._editor.is_valid||this._editor.is_valid(D.newValue,D.id,v.getColumn(S),this._placeholder))){var A=M.map_to,I=D.newValue;A!="auto"?(E[A]=I,m(E,A,d.config.inline_editors_date_processing),w.updateItem($)):this._editor.save($,v.getColumn(S),this._placeholder),this.callEvent("onSave",[D])}this.hide()}}else this.hide()},_findEditableCell:function($,S){var E=$,M=v.getGridColumns()[E],D=M?M.name:null;if(D){for(;D&&!this.getEditorConfig(D);)D=this._findEditableCell($+S,S);return D}return null},getNextCell:function($){return this._findEditableCell(v.getColumnIndex(this._columnName,!0)+$,$)},getFirstCell:function(){return this._findEditableCell(0,1)},getLastCell:function(){return this._findEditableCell(v.getGridColumns().length-1,-1)},editNextCell:function($){var S=this.getNextCell(1);if(S){var E=this.getNextCell(1);E&&this.getEditorConfig(E)&&this.startEdit(this._itemId,E)}else if($&&this.moveRow(1)){var M=this.moveRow(1);(S=this.getFirstCell())&&this.getEditorConfig(S)&&this.startEdit(M,S)}},editPrevCell:function($){var S=this.getNextCell(-1);if(S){var E=this.getNextCell(-1);E&&this.getEditorConfig(E)&&this.startEdit(this._itemId,E)}else if($&&this.moveRow(-1)){var M=this.moveRow(-1);(S=this.getLastCell())&&this.getEditorConfig(S)&&this.startEdit(M,S)}},moveRow:function($){for(var S=$>0?d.getNext:d.getPrev,E=(S=d.bind(S,d))(this._itemId);d.isTaskExists(E)&&d.isReadonly(d.getTask(E));)E=S(E);return E},editNextRow:function($){var S=this.getState().id;if(d.isTaskExists(S)){var E=null;E=$?this.moveRow(1):d.getNext(S),d.isTaskExists(E)&&this.startEdit(E,this._columnName)}},editPrevRow:function($){var S=this.getState().id;if(d.isTaskExists(S)){var E=null;E=$?this.moveRow(-1):d.getPrev(S),d.isTaskExists(E)&&this.startEdit(E,this._columnName)}},destructor:function(){k.forEach(function($){w.detachEvent($)}),b.forEach(function($){d.detachEvent($)}),k=[],b=[],w=null,this.hide(),this.detachAllEvents()}};return t.mixin(x,f),t.mixin(x,_),x}};return t.mixin(p,f),t.mixin(p,_),p}},function(T,C){T.exports={create:function(){return{render:function(){},destroy:function(){}}}}},function(T,C,u){var g=u(3),h=u(1),l=u(0),c=u(8),r=function(o){var n=["altKey","shiftKey","metaKey"];function t(e,a,i,s){var d=o.apply(this,arguments)||this;this.$config=l.mixin(a,{scroll:"x"}),d._scrollHorizontalHandler=l.bind(d._scrollHorizontalHandler,d),d._scrollVerticalHandler=l.bind(d._scrollVerticalHandler,d),d._outerScrollVerticalHandler=l.bind(d._outerScrollVerticalHandler,d),d._outerScrollHorizontalHandler=l.bind(d._outerScrollHorizontalHandler,d),d._mouseWheelHandler=l.bind(d._mouseWheelHandler,d),this.$config.hidden=!0;var f=s.config.scroll_size;return s.env.isIE&&(f+=1),this._isHorizontal()?(d.$config.height=f,d.$parent.$config.height=f):(d.$config.width=f,d.$parent.$config.width=f),this.$config.scrollPosition=0,d.$name="scroller",d}return g(t,o),t.prototype.init=function(e){e.innerHTML=this.$toHTML(),this.$view=e.firstChild,this.$view||this.init(),this._isVertical()?this._initVertical():this._initHorizontal(),this._initMouseWheel(),this._initLinkedViews()},t.prototype.$toHTML=function(){return"<div class='gantt_layout_cell "+(this._isHorizontal()?"gantt_hor_scroll":"gantt_ver_scroll")+"'><div style='"+(this._isHorizontal()?"width:2000px":"height:2000px")+"'></div></div>"},t.prototype._getRootParent=function(){for(var e=this.$parent;e&&e.$parent;)e=e.$parent;if(e)return e},t.prototype._eachView=function(){var e=[];return function a(i,s){if(s.push(i),i.$cells)for(var d=0;d<i.$cells.length;d++)a(i.$cells[d],s)}(this._getRootParent(),e),e},t.prototype._getLinkedViews=function(){for(var e=this._eachView(),a=[],i=0;i<e.length;i++)e[i].$config&&(this._isVertical()&&e[i].$config.scrollY==this.$id||this._isHorizontal()&&e[i].$config.scrollX==this.$id)&&a.push(e[i]);return a},t.prototype._initHorizontal=function(){this.$scroll_hor=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollHorizontalHandler)},t.prototype._initLinkedViews=function(){for(var e=this._getLinkedViews(),a=this._isVertical()?"gantt_layout_outer_scroll gantt_layout_outer_scroll_vertical":"gantt_layout_outer_scroll gantt_layout_outer_scroll_horizontal",i=0;i<e.length;i++)h.addClassName(e[i].$view||e[i].getNode(),a)},t.prototype._initVertical=function(){this.$scroll_ver=this.$view,this.$domEvents.attach(this.$view,"scroll",this._scrollVerticalHandler)},t.prototype._updateLinkedViews=function(){},t.prototype._initMouseWheel=function(){c.isFF?this.$domEvents.attach(this._getRootParent().$view,"wheel",this._mouseWheelHandler,{passive:!1}):this.$domEvents.attach(this._getRootParent().$view,"mousewheel",this._mouseWheelHandler,{passive:!1})},t.prototype.scrollHorizontally=function(e){if(!this._scrolling){this._scrolling=!0,this.$scroll_hor.scrollLeft=e,this.$config.codeScrollLeft=e,e=this.$scroll_hor.scrollLeft;for(var a=this._getLinkedViews(),i=0;i<a.length;i++)a[i].scrollTo&&a[i].scrollTo(e,void 0);var s=this.$config.scrollPosition;this.$config.scrollPosition=e,this.callEvent("onScroll",[s,e,this.$config.scroll]),this._scrolling=!1}},t.prototype.scrollVertically=function(e){if(!this._scrolling){this._scrolling=!0,this.$scroll_ver.scrollTop=e,e=this.$scroll_ver.scrollTop;for(var a=this._getLinkedViews(),i=0;i<a.length;i++)a[i].scrollTo&&a[i].scrollTo(void 0,e);var s=this.$config.scrollPosition;this.$config.scrollPosition=e,this.callEvent("onScroll",[s,e,this.$config.scroll]),this._scrolling=!1}},t.prototype._isVertical=function(){return this.$config.scroll=="y"},t.prototype._isHorizontal=function(){return this.$config.scroll=="x"},t.prototype._scrollHorizontalHandler=function(e){if(!this._isVertical()&&!this._scrolling){if(new Date-(this._wheel_time||0)<100)return!0;var a=this.$scroll_hor.scrollLeft;this.scrollHorizontally(a),this._oldLeft=this.$scroll_hor.scrollLeft}},t.prototype._outerScrollHorizontalHandler=function(e){this._isVertical()},t.prototype.show=function(){this.$parent.show()},t.prototype.hide=function(){this.$parent.hide()},t.prototype._getScrollSize=function(){for(var e,a=0,i=0,s=this._isHorizontal(),d=this._getLinkedViews(),f=s?"scrollWidth":"scrollHeight",_=s?"contentX":"contentY",p=s?"x":"y",v=this._getScrollOffset(),y=0;y<d.length;y++)if((e=d[y])&&e.$content&&e.$content.getSize&&!e.$config.hidden){var m,k=e.$content.getSize();if(m=k.hasOwnProperty(f)?k[f]:k[_],v)k[_]>k[p]&&k[_]>a&&m>k[p]-v+2&&(a=m+(s?0:2),i=k[p]);else{var b=Math.max(k[_]-m,0);(m+=b)>Math.max(k[p]-b,0)&&m>a&&(a=m,i=k[p])}}return{outerScroll:i,innerScroll:a}},t.prototype.scroll=function(e){this._isHorizontal()?this.scrollHorizontally(e):this.scrollVertically(e)},t.prototype.getScrollState=function(){return{visible:this.isVisible(),direction:this.$config.scroll,size:this.$config.outerSize,scrollSize:this.$config.scrollSize||0,position:this.$config.scrollPosition||0}},t.prototype.setSize=function(e,a){o.prototype.setSize.apply(this,arguments);var i=this._getScrollSize(),s=(this._isVertical()?a:e)-this._getScrollOffset()+(this._isHorizontal()?1:0);i.innerScroll&&s>i.outerScroll&&(i.innerScroll+=s-i.outerScroll),this.$config.scrollSize=i.innerScroll,this.$config.width=e,this.$config.height=a,this._setScrollSize(i.innerScroll)},t.prototype.isVisible=function(){return!(!this.$parent||!this.$parent.$view.parentNode)},t.prototype.shouldShow=function(){var e=this._getScrollSize();return!(!e.innerScroll&&this.$parent&&this.$parent.$view.parentNode)&&!(!e.innerScroll||this.$parent&&this.$parent.$view.parentNode)},t.prototype.shouldHide=function(){return!(this._getScrollSize().innerScroll||!this.$parent||!this.$parent.$view.parentNode)},t.prototype.toggleVisibility=function(){this.shouldHide()?this.hide():this.shouldShow()&&this.show()},t.prototype._getScaleOffset=function(e){var a=0;return!e||e.$config.view!="timeline"&&e.$config.view!="grid"||(a=e.$content.$getConfig().scale_height),a},t.prototype._getScrollOffset=function(){var e=0;if(this._isVertical()){var a=this.$parent.$parent;e=Math.max(this._getScaleOffset(a.getPrevSibling(this.$parent.$id)),this._getScaleOffset(a.getNextSibling(this.$parent.$id)))}else for(var i=this._getLinkedViews(),s=0;s<i.length;s++){var d=i[s].$parent.$cells,f=d[d.length-1];if(f&&f.$config.view=="scrollbar"&&f.$config.hidden===!1){e=f.$config.width;break}}return e||0},t.prototype._setScrollSize=function(e){var a=this._isHorizontal()?"width":"height",i=this._isHorizontal()?this.$scroll_hor:this.$scroll_ver,s=this._getScrollOffset(),d=i.firstChild;s?this._isVertical()?(this.$config.outerSize=this.$config.height-s+3,i.style.height=this.$config.outerSize+"px",i.style.top=s-1+"px",h.addClassName(i,this.$parent._borders.top),h.addClassName(i.parentNode,"gantt_task_vscroll")):(this.$config.outerSize=this.$config.width-s+1,i.style.width=this.$config.outerSize+"px"):(i.style.top="auto",h.removeClassName(i,this.$parent._borders.top),h.removeClassName(i.parentNode,"gantt_task_vscroll"),this.$config.outerSize=this.$config.height),d.style[a]=e+"px"},t.prototype._scrollVerticalHandler=function(e){if(!this._scrollHorizontalHandler()&&!this._scrolling){var a=this.$scroll_ver.scrollTop;a!=this._oldTop&&(this.scrollVertically(a),this._oldTop=this.$scroll_ver.scrollTop)}},t.prototype._outerScrollVerticalHandler=function(e){this._scrollHorizontalHandler()},t.prototype._checkWheelTarget=function(e){for(var a=this._getLinkedViews().concat(this),i=0;i<a.length;i++){var s=a[i].$view;if(h.isChildOf(e,s))return!0}return!1},t.prototype._mouseWheelHandler=function(e){var a=e.target||e.srcElement;if(this._checkWheelTarget(a)){this._wheel_time=new Date;var i={},s={x:1,y:1},d=this.$gantt.config.wheel_scroll_sensitivity;typeof d=="number"&&d?s={x:d,y:d}:{}.toString.apply(d)=="[object Object]"&&(s={x:d.x,y:d.y});var f=c.isFF,_=f?e.deltaX:e.wheelDeltaX,p=f?e.deltaY:e.wheelDelta,v=-20;f&&(v=e.deltaMode!==0?-40:-10);var y=f?_*v*s.x:2*_*s.x,m=f?p*v*s.y:p*s.y,k=this.$gantt.config.horizontal_scroll_key;if(k!==!1&&n.indexOf(k)>=0&&(!e[k]||e.deltaX||e.wheelDeltaX||(y=2*m,m=0)),y&&Math.abs(y)>Math.abs(m)){if(this._isVertical())return;if(i.x||!this.$scroll_hor||!this.$scroll_hor.offsetWidth)return!0;var b=y/-40,w=this._oldLeft,x=w+30*b;if(this.scrollHorizontally(x),this.$scroll_hor.scrollLeft=x,w==this.$scroll_hor.scrollLeft)return!0;this._oldLeft=this.$scroll_hor.scrollLeft}else{if(this._isHorizontal())return;if(i.y||!this.$scroll_ver||!this.$scroll_ver.offsetHeight)return!0;b=m/-40,m===void 0&&(b=e.detail);var $=this._oldTop,S=this.$scroll_ver.scrollTop+30*b;if(this.scrollVertically(S),this.$scroll_ver.scrollTop=S,$==this.$scroll_ver.scrollTop)return!0;this._oldTop=this.$scroll_ver.scrollTop}return e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,!1}},t}(u(9));T.exports=r},function(T,C){T.exports=null},function(T,C,u){var g=u(3),h=u(0),l=function(c){function r(o,n,t){var e=c.apply(this,arguments)||this;if(n.view){n.id&&(this.$id=h.uid());var a=h.copy(n);if(delete a.config,delete a.templates,this.$content=this.$factory.createView(n.view,this,a,this),!this.$content)return!1}return e.$name="viewCell",e}return g(r,c),r.prototype.destructor=function(){this.clear(),c.prototype.destructor.call(this)},r.prototype.clear=function(){if(this.$initialized=!1,this.$content){var o=this.$content.unload||this.$content.destructor;o&&o.call(this.$content)}c.prototype.clear.call(this)},r.prototype.scrollTo=function(o,n){this.$content&&this.$content.scrollTo?this.$content.scrollTo(o,n):c.prototype.scrollTo.call(this,o,n)},r.prototype._setContentSize=function(o,n){var t=this._getBorderSizes();if(typeof o=="number"){var e=o+t.horizontal;this.$config.width=e}if(typeof n=="number"){var a=n+t.vertical;this.$config.height=a}},r.prototype.setSize=function(o,n){if(c.prototype.setSize.call(this,o,n),!this.$preResize&&this.$content&&!this.$initialized){this.$initialized=!0;var t=this.$view.childNodes[0],e=this.$view.childNodes[1];e||(e=t),this.$content.init(e)}},r.prototype.setContentSize=function(){!this.$preResize&&this.$content&&this.$initialized&&this.$content.setSize(this.$lastSize.contentX,this.$lastSize.contentY)},r.prototype.getContentSize=function(){var o=c.prototype.getContentSize.call(this);if(this.$content&&this.$initialized){var n=this.$content.getSize();o.width=n.contentX===void 0?n.width:n.contentX,o.height=n.contentY===void 0?n.height:n.contentY}var t=this._getBorderSizes();return o.width+=t.horizontal,o.height+=t.vertical,o},r}(u(9));T.exports=l},function(T,C,u){var g=u(3),h=u(31),l=u(9),c=function(r){function o(n,t,e){for(var a=r.apply(this,arguments)||this,i=0;i<a.$cells.length;i++)a.$cells[i].$config.hidden=i!==0;return a.$cell=a.$cells[0],a.$name="viewLayout",a}return g(o,r),o.prototype.cell=function(n){var t=r.prototype.cell.call(this,n);return t.$view||this.$fill(null,this),t},o.prototype.moveView=function(n){var t=this.$view;this.$cell&&(this.$cell.$config.hidden=!0,t.removeChild(this.$cell.$view)),this.$cell=n,t.appendChild(n.$view)},o.prototype.setSize=function(n,t){l.prototype.setSize.call(this,n,t)},o.prototype.setContentSize=function(){var n=this.$lastSize;this.$cell.setSize(n.contentX,n.contentY)},o.prototype.getSize=function(){var n=r.prototype.getSize.call(this);if(this.$cell){var t=this.$cell.getSize();if(this.$config.byMaxSize)for(var e=0;e<this.$cells.length;e++){var a=this.$cells[e].getSize();for(var i in t)t[i]=Math.max(t[i],a[i])}for(var s in n)n[s]=n[s]||t[s];n.gravity=Math.max(n.gravity,t.gravity)}return n},o}(h);T.exports=c},function(T,C){T.exports=function(u,g,h){if(!u.start_date||!u.end_date)return null;var l=g.posFromDate(u.start_date),c=g.posFromDate(u.end_date),r=Math.min(l,c)-200,o=Math.max(l,c)+200;return{top:g.getItemTop(u.id),height:g.getItemHeight(u.id),left:r,width:o-r}}},function(T,C,u){var g=u(111);T.exports=function(h,l,c,r){if(!r.isTaskExists(h.source)||!r.isTaskExists(h.target))return null;var o=g(r.getTask(h.source),l,r),n=g(r.getTask(h.target),l,r);if(!o||!n)return null;var t=Math.min(o.left,n.left)-100,e=Math.max(o.left+o.width,n.left+n.width)+100,a=Math.min(o.top,n.top)-100,i=Math.max(o.top+o.height,n.top+n.height)+100;return{top:a,height:i-a,bottom:i,left:t,width:e-t,right:e}}},function(T,C){T.exports=function(u,g){return!!g&&!(g.left>u.x_end||g.left+g.width<u.x)&&!(g.top>u.y_end||g.top+g.height<u.y)}},function(T,C,u){var g=u(113),h=u(14),l=u(23),c=u(5);T.exports=function(r){var o={},n={};function t(a){var i=null;return typeof a.view=="string"?i=r.$ui.getView(a.view):a.view&&(i=a.view),i}function e(a,i,s){if(n[a])return n[a];i.renderer||r.assert(!1,"Invalid renderer call");var d=null,f=null,_=null,p=null,v=null;typeof i.renderer=="function"?(d=i.renderer,_=l):(d=i.renderer.render,f=i.renderer.update,p=i.renderer.onrender,i.renderer.isInViewPort?v=i.renderer.isInViewPort:_=i.renderer.getRectangle,_||_===null||(_=l));var y=i.filter;return s&&s.setAttribute(r.config.layer_attribute,!0),n[a]={render_item:function(m,k,b,w,x){if(k=k||s,!y||y(m)){var $=w||t(i),S=x||($?$.$getConfig():null),E=b;!E&&S&&S.smart_rendering&&(E=$.getViewPort());var M=null;!h(r)&&(_||v)&&E?(v?v(m,E,$,S,r):g(E,_(m,$,S,r)))&&(M=d.call(r,m,$,S,E)):M=d.call(r,m,$,S,E),this.append(m,M,k);var D=k.nodeType==11;p&&!D&&M&&p.call(r,m,M,$)}else this.remove_item(m.id)},clear:function(m){this.rendered=o[a]={},i.append||this.clear_container(m)},clear_container:function(m){(m=m||s)&&(m.innerHTML="")},get_visible_range:function(m){var k,b,w=t(i),x=w?w.$getConfig():null;return x&&x.smart_rendering&&(k=w.getViewPort()),w&&k&&(typeof i.renderer=="function"?b=c(r,w,x,m,k):i.renderer&&i.renderer.getVisibleRange&&(b=i.renderer.getVisibleRange(r,w,x,m,k))),b||(b={start:0,end:m.count()}),b},prepare_data:function(m){if(i.renderer&&i.renderer.prepareData)return i.renderer.prepareData(m,r,i)},render_items:function(m,k){k=k||s;var b=document.createDocumentFragment();this.clear(k);var w=null,x=t(i),$=x?x.$getConfig():null;$&&$.smart_rendering&&(w=x.getViewPort());for(var S=0,E=m.length;S<E;S++)this.render_item(m[S],b,w,x,$);k.appendChild(b,k);var M={};m.forEach(function(I){M[I.id]=I});var D={};if(p){var A={};for(var S in this.rendered)D[S]||(A[S]=this.rendered[S],p.call(r,M[S],this.rendered[S],x))}},update_items:function(m,k){var b=t(i),w=b?b.$getConfig():null;if(b&&b.$getConfig().smart_rendering&&!h(r)&&this.rendered&&(_||v)){k=k||s;var x=document.createDocumentFragment(),$=null;b&&($=b.getViewPort());var S={};m.forEach(function(V){S[V.id]=V});var E={},M={};for(var D in this.rendered)M[D]=!0,E[D]=!0;for(var A={},I=(D=0,m.length);D<I;D++){var P=m[D],H=this.rendered[P.id];M[P.id]=!1,H&&H.parentNode?(v?v(P,$,b,w,r):g($,_(P,b,w,r)))?(f&&f.call(r,P,H,b,w,$),this.restore(P,x)):M[P.id]=!0:(A[m[D].id]=!0,this.render_item(m[D],x,$,b,w))}for(var D in M)M[D]&&this.hide(D);if(x.childNodes.length&&k.appendChild(x,k),p){var O={};for(var D in this.rendered)E[D]&&!A[D]||(O[D]=this.rendered[D],p.call(r,S[D],this.rendered[D],b))}}},append:function(m,k,b){this.rendered&&(k?(this.rendered[m.id]&&this.rendered[m.id].parentNode?this.replace_item(m.id,k):b.appendChild(k),this.rendered[m.id]=k):this.rendered[m.id]&&this.remove_item(m.id))},replace_item:function(m,k){var b=this.rendered[m];b&&b.parentNode&&b.parentNode.replaceChild(k,b),this.rendered[m]=k},remove_item:function(m){this.hide(m),delete this.rendered[m]},hide:function(m){var k=this.rendered[m];k&&k.parentNode&&k.parentNode.removeChild(k)},restore:function(m,k){var b=this.rendered[m.id];b?b.parentNode||this.append(m,b,k||s):this.render_item(m,k||s)},change_id:function(m,k){this.rendered[k]=this.rendered[m],delete this.rendered[m]},rendered:o[a],node:s,destructor:function(){this.clear(),delete n[a],delete o[a]}},n[a]}return{getRenderer:e,clearRenderers:function(){for(var a in n)e(a).destructor()}}}},function(T,C,u){var g=u(114),h=u(0),l=u(1),c=u(14);function r(o){return o instanceof Array||(o=Array.prototype.slice.call(arguments,0)),function(n){for(var t=!0,e=0,a=o.length;e<a;e++){var i=o[e];i&&(t=t&&i(n.id,n)!==!1)}return t}}T.exports=function(o){var n=g(o);return{createGroup:function(t,e,a,i){var s={tempCollection:[],renderers:{},container:t,filters:[],getLayers:function(){this._add();var d=[];for(var f in this.renderers)d.push(this.renderers[f]);return d},getLayer:function(d){return this.renderers[d]},_add:function(d){d&&(d.id=d.id||h.uid(),this.tempCollection.push(d));for(var f=this.container(),_=this.tempCollection,p=0;p<_.length;p++)if(d=_[p],this.container()||d&&d.container&&l.isChildOf(d.container,document.body)){var v=d.container,y=d.id,m=d.topmost;if(!v.parentNode)if(m)f.appendChild(v);else{var k=e?e():f.firstChild;k&&k.parentNode==f?f.insertBefore(v,k):f.appendChild(v)}this.renderers[y]=n.getRenderer(y,d,v),i&&i(d,o),this.tempCollection.splice(p,1),p--}},addLayer:function(d){if(d){typeof d=="function"&&(d={renderer:d}),d.filter===void 0?d.filter=r(a||[]):d.filter instanceof Array&&(d.filter.push(a),d.filter=r(d.filter)),d.container||(d.container=document.createElement("div"));var f=this;d.requestUpdate=function(){o.config.smart_rendering&&!c(o)&&f.renderers[d.id]&&f.onUpdateRequest(f.renderers[d.id])}}return this._add(d),d?d.id:void 0},onUpdateRequest:function(d){},eachLayer:function(d){for(var f in this.renderers)d(this.renderers[f])},removeLayer:function(d){this.renderers[d]&&(this.renderers[d].destructor(),delete this.renderers[d])},clear:function(){for(var d in this.renderers)this.renderers[d].destructor();this.renderers={}}};return o.attachEvent("onDestroy",function(){s.clear(),s=null}),s}}}},function(T,C,u){var g=u(115),h=u(5),l=u(33),c=u(32);function r(o,n){if(o.view){var t=o.view;typeof t=="string"&&(t=n.$ui.getView(t)),t&&t.attachEvent&&t.attachEvent("onScroll",function(){n.$services.getService("state").getState("batchUpdate").batch_update||t.$config.$skipSmartRenderOnScroll||o.requestUpdate&&o.requestUpdate()})}}T.exports=function(o){var n=g(o);return{getDataRender:function(t){return o.$services.getService("layer:"+t)||null},createDataRender:function(t){var e=t.name,a=t.defaultContainer,i=t.defaultContainerSibling,s=n.createGroup(a,i,function(d,f){if(!s.filters)return!0;for(var _=0;_<s.filters.length;_++)if(s.filters[_](d,f)===!1)return!1},r);return o.$services.setService("layer:"+e,function(){return s}),o.attachEvent("onGanttReady",function(){s.addLayer()}),s},init:function(){var t=this.createDataRender({name:"task",defaultContainer:function(){return o.$task_data?o.$task_data:o.$ui.getView("timeline")?o.$ui.getView("timeline").$task_data:void 0},defaultContainerSibling:function(){return o.$task_links?o.$task_links:o.$ui.getView("timeline")?o.$ui.getView("timeline").$task_links:void 0},filter:function(a){}},o),e=this.createDataRender({name:"link",defaultContainer:function(){return o.$task_data?o.$task_data:o.$ui.getView("timeline")?o.$ui.getView("timeline").$task_data:void 0}},o);return{addTaskLayer:function(a){var i=h;return typeof a=="function"?a={renderer:{render:a,getVisibleRange:i}}:a.renderer&&!a.renderer.getVisibleRange&&(a.renderer.getVisibleRange=i),a.view="timeline",t.addLayer(a)},_getTaskLayers:function(){return t.getLayers()},removeTaskLayer:function(a){t.removeLayer(a)},_clearTaskLayers:function(){t.clear()},addLinkLayer:function(a){var i=l();return typeof a=="function"?a={renderer:{render:a,getVisibleRange:i}}:a.renderer&&!a.renderer.getVisibleRange&&(a.renderer.getVisibleRange=i),a.view="timeline",a&&a.renderer&&(a.renderer.getRectangle||a.renderer.isInViewPort||(a.renderer.isInViewPort=c)),e.addLayer(a)},_getLinkLayers:function(){return e.getLayers()},removeLinkLayer:function(a){e.removeLayer(a)},_clearLinkLayers:function(){e.clear()}}}}}},function(T,C,u){var g=function(h){return function(l){var c={click:{},doubleclick:{},contextMenu:{}};function r(f,_,p,v){c[f][_]||(c[f][_]=[]),c[f][_].push({handler:p,root:v})}function o(f){f=f||window.event;var _=l.locate(f),p=t(f,c.click),v=!0;if(_!==null?v=!l.checkEvent("onTaskClick")||l.callEvent("onTaskClick",[_,f]):l.callEvent("onEmptyClick",[f]),v){if(!e(p,f,_))return;switch(f.target.nodeName){case"SELECT":case"INPUT":return}_&&l.getTask(_)&&!l._multiselect&&l.config.select_task&&l.selectTask(_)}}function n(f){var _=(f=f||window.event).target||f.srcElement,p=l.locate(_),v=l.locate(_,l.config.link_attribute),y=!l.checkEvent("onContextMenu")||l.callEvent("onContextMenu",[p,v,f]);return y||(f.preventDefault?f.preventDefault():f.returnValue=!1),y}function t(f,_){for(var p=f.target||f.srcElement,v=[];p;){var y=h.getClassName(p);if(y){y=y.split(" ");for(var m=0;m<y.length;m++)if(y[m]&&_[y[m]])for(var k=_[y[m]],b=0;b<k.length;b++)k[b].root&&!h.isChildOf(p,k[b].root)||v.push(k[b].handler)}p=p.parentNode}return v}function e(f,_,p){for(var v=!0,y=0;y<f.length;y++){var m=f[y].call(l,_,p,_.target||_.srcElement);v=v&&!(m!==void 0&&m!==!0)}return v}function a(f){f=f||window.event;var _=l.locate(f),p=t(f,c.doubleclick),v=!l.checkEvent("onTaskDblClick")||_===null||l.callEvent("onTaskDblClick",[_,f]);if(v){if(!e(p,f,_))return;_!==null&&l.getTask(_)&&v&&l.config.details_on_dblclick&&!l.isReadonly(_)&&l.showLightbox(_)}}function i(f){if(l.checkEvent("onMouseMove")){var _=l.locate(f);l._last_move_event=f,l.callEvent("onMouseMove",[_,f])}}var s=l._createDomEventScope();function d(f){s.detachAll(),f&&(s.attach(f,"click",o),s.attach(f,"dblclick",a),s.attach(f,"mousemove",i),s.attach(f,"contextmenu",n))}return{reset:d,global:function(f,_,p){r(f,_,p,null)},delegate:r,detach:function(f,_,p,v){if(c[f]&&c[f][_]){for(var y=c[f],m=y[_],k=0;k<m.length;k++)m[k].root==v&&(m.splice(k,1),k--);m.length||delete y[_]}},callHandler:function(f,_,p,v){var y=c[f][_];if(y)for(var m=0;m<y.length;m++)(p||y[m].root)&&y[m].root!==p||y[m].handler.apply(this,v)},onDoubleClick:a,onMouseMove:i,onContextMenu:n,onClick:o,destructor:function(){d(),c=null,s=null}}}}(u(1));T.exports={init:g}},function(T,C,u){var g=u(0);function h(l,c){var r=this.$config[l];return r?(r.$extendedConfig||(r.$extendedConfig=!0,Object.setPrototypeOf(r,c)),r):c}T.exports=function(l,c){g.mixin(l,function(r){var o,n;return{$getConfig:function(){return o||(o=r?r.$getConfig():this.$gantt.config),this.$config.config?h.call(this,"config",o):o},$getTemplates:function(){return n||(n=r?r.$getTemplates():this.$gantt.templates),this.$config.templates?h.call(this,"templates",n):n}}}(c))}},function(T,C,u){function g(c){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(c)}var h=u(0),l=u(118);T.exports={createFactory:function(c){var r={},o={};function n(t,e,a,i){var s=r[t];if(!s||!s.create)return!1;t!="resizer"||a.mode||(i.$config.cols?a.mode="x":a.mode="y"),t!="viewcell"||a.view!="scrollbar"||a.scroll||(i.$config.cols?a.scroll="y":a.scroll="x"),(a=h.copy(a)).id||o[a.view]||(a.id=a.view),a.id&&!a.css&&(a.css=a.id+"_cell");var d=new s.create(e,a,this,c);return s.configure&&s.configure(d),l(d,i),d.$id||(d.$id=a.id||c.uid()),d.$parent||g(e)!="object"||(d.$parent=e),d.$config||(d.$config=a),o[d.$id]&&(d.$id=c.uid()),o[d.$id]=d,d}return{initUI:function(t,e){var a="cell";return t.view?a="viewcell":t.resizer?a="resizer":t.rows||t.cols?a="layout":t.views&&(a="multiview"),n.call(this,a,null,t,e)},reset:function(){o={}},registerView:function(t,e,a){r[t]={create:e,configure:a}},createView:n,getView:function(t){return o[t]}}}}},function(T,C,u){var g=u(119),h=u(117),l=u(116),c=u(9),r=u(31),o=u(110),n=u(109),t=u(108),e=u(107),a=u(22),i=u(25),s=u(25),d=u(22),f=u(22),_=u(105),p=u(94),v=u(93),y=u(91),m=u(90),k=u(88),b=u(87),w=u(86),x=u(85),$=u(84),S=u(83),E=u(77),M=u(74);T.exports={init:function(D){function A(O,V){var j=V(D);j.onCreated&&j.onCreated(O),O.attachEvent("onReady",function(){j.onInitialized&&j.onInitialized(O)}),O.attachEvent("onDestroy",function(){j.onDestroyed&&j.onDestroyed(O)})}var I=g.createFactory(D);I.registerView("cell",c),I.registerView("resizer",t),I.registerView("scrollbar",e),I.registerView("layout",r,function(O){(O.$config?O.$config.id:null)==="main"&&A(O,M)}),I.registerView("viewcell",n),I.registerView("multiview",o),I.registerView("timeline",a,function(O){(O.$config?O.$config.id:null)!=="timeline"&&O.$config.bind!="task"||A(O,E)}),I.registerView("grid",i,function(O){(O.$config?O.$config.id:null)!=="grid"&&O.$config.bind!="task"||A(O,S)}),I.registerView("resourceGrid",s),I.registerView("resourceTimeline",d),I.registerView("resourceHistogram",f);var P=l(D),H=_(D);return D.ext.inlineEditors=H,D.ext._inlineEditors=H,H.init(D),{factory:I,mouseEvents:h.init(D),layersApi:P.init(),render:{gridLine:function(){return b(D)},taskBg:function(){return m(D)},taskBar:function(){return p(D)},taskRollupBar:function(){return y(D)},taskSplitBar:function(){return v(D)},link:function(){return k(D)},resourceRow:function(){return w(D)},resourceHistogram:function(){return x(D)},gridTaskRowResizer:function(){return $(D)}},layersService:{getDataRender:function(O){return P.getDataRender(O,D)},createDataRender:function(O){return P.createDataRender(O,D)}}}}}},function(T,C,u){function g(c){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(c)}var h=u(0),l=u(1);T.exports=function(c){var r="data-dhxbox",o=null;function n(x,$){var S=x.callback;k.hide(x.box),o=x.box=null,S&&S($)}function t(x){if(o){var $=x.which||x.keyCode,S=!1;if(b.keyboard){if($==13||$==32){var E=x.target||x.srcElement;l.getClassName(E).indexOf("gantt_popup_button")>-1&&E.click?E.click():(n(o,!0),S=!0)}$==27&&(n(o,!1),S=!0)}return S?(x.preventDefault&&x.preventDefault(),!(x.cancelBubble=!0)):void 0}}var e=l.getRootNode(c.$root)||document;function a(x){a.cover||(a.cover=document.createElement("div"),a.cover.onkeydown=t,a.cover.className="dhx_modal_cover",document.body.appendChild(a.cover)),a.cover.style.display=x?"inline-block":"none"}function i(x,$,S){return"<div "+c._waiAria.messageButtonAttrString(x)+" class='gantt_popup_button "+("gantt_"+$.toLowerCase().replace(/ /g,"_")+"_button")+"' data-result='"+S+"' result='"+S+"' ><div>"+x+"</div></div>"}function s(x){b.area||(b.area=document.createElement("div"),b.area.className="gantt_message_area",b.area.style[b.position]="5px",document.body.appendChild(b.area)),b.hide(x.id);var $=document.createElement("div");return $.innerHTML="<div>"+x.text+"</div>",$.className="gantt-info gantt-"+x.type,$.onclick=function(){b.hide(x.id),x=null},c._waiAria.messageInfoAttr($),b.position=="bottom"&&b.area.firstChild?b.area.insertBefore($,b.area.firstChild):b.area.appendChild($),x.expire>0&&(b.timers[x.id]=window.setTimeout(function(){b&&b.hide(x.id)},x.expire)),b.pull[x.id]=$,$=null,x.id}function d(){for(var x=[].slice.apply(arguments,[0]),$=0;$<x.length;$++)if(x[$])return x[$]}function f(x,$,S){var E=x.tagName?x:function(A,I,P){var H=document.createElement("div"),O=h.uid();c._waiAria.messageModalAttr(H,O),H.className=" gantt_modal_box gantt-"+A.type,H.setAttribute(r,1);var V="";if(A.width&&(H.style.width=A.width),A.height&&(H.style.height=A.height),A.title&&(V+='<div class="gantt_popup_title">'+A.title+"</div>"),V+='<div class="gantt_popup_text" id="'+O+'"><span>'+(A.content?"":A.text)+'</span></div><div  class="gantt_popup_controls">',I&&(V+=i(d(A.ok,c.locale.labels.message_ok,"OK"),"ok",!0)),P&&(V+=i(d(A.cancel,c.locale.labels.message_cancel,"Cancel"),"cancel",!1)),A.buttons)for(var j=0;j<A.buttons.length;j++){var Y=A.buttons[j];g(Y)=="object"?V+=i(Y.label,Y.css||"gantt_"+Y.label.toLowerCase()+"_button",Y.value||j):V+=i(Y,Y,j)}if(V+="</div>",H.innerHTML=V,A.content){var N=A.content;typeof N=="string"&&(N=document.getElementById(N)),N.style.display=="none"&&(N.style.display=""),H.childNodes[A.title?1:0].appendChild(N)}return H.onclick=function(X){var Q=X.target||X.srcElement;if(Q.className||(Q=Q.parentNode),l.closest(Q,".gantt_popup_button")){var Z=Q.getAttribute("data-result");n(A,Z=Z=="true"||Z!="false"&&Z)}},A.box=H,(I||P)&&(o=A),H}(x,$,S);x.hidden||a(!0),document.body.appendChild(E);var M=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-E.offsetWidth)/2)),D=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-E.offsetHeight)/2));return x.position=="top"?E.style.top="-3px":E.style.top=D+"px",E.style.left=M+"px",E.onkeydown=t,k.focus(E),x.hidden&&k.hide(E),c.callEvent("onMessagePopup",[E]),E}function _(x){return f(x,!0,!1)}function p(x){return f(x,!0,!0)}function v(x){return f(x)}function y(x,$,S){return g(x)!="object"&&(typeof $=="function"&&(S=$,$=""),x={text:x,type:$,callback:S}),x}function m(x,$,S,E){return g(x)!="object"&&(x={text:x,type:$,expire:S,id:E}),x.id=x.id||h.uid(),x.expire=x.expire||b.expire,x}c.event(e,"keydown",t,!0);var k=function(){var x=y.apply(this,arguments);return x.type=x.type||"alert",v(x)};k.hide=function(x){for(;x&&x.getAttribute&&!x.getAttribute(r);)x=x.parentNode;x&&(x.parentNode.removeChild(x),a(!1),c.callEvent("onAfterMessagePopup",[x]))},k.focus=function(x){setTimeout(function(){var $=l.getFocusableNodes(x);$.length&&$[0].focus&&$[0].focus()},1)};var b=function(x,$,S,E){switch((x=m.apply(this,arguments)).type=x.type||"info",x.type.split("-")[0]){case"alert":return _(x);case"confirm":return p(x);case"modalbox":return v(x);default:return s(x)}};b.seed=new Date().valueOf(),b.uid=h.uid,b.expire=4e3,b.keyboard=!0,b.position="top",b.pull={},b.timers={},b.hideAll=function(){for(var x in b.pull)b.hide(x)},b.hide=function(x){var $=b.pull[x];$&&$.parentNode&&(window.setTimeout(function(){$.parentNode.removeChild($),$=null},2e3),$.className+=" hidden",b.timers[x]&&window.clearTimeout(b.timers[x]),delete b.pull[x])};var w=[];return c.attachEvent("onMessagePopup",function(x){w.push(x)}),c.attachEvent("onAfterMessagePopup",function(x){for(var $=0;$<w.length;$++)w[$]===x&&(w.splice($,1),$--)}),c.attachEvent("onDestroy",function(){a.cover&&a.cover.parentNode&&a.cover.parentNode.removeChild(a.cover);for(var x=0;x<w.length;x++)w[x].parentNode&&w[x].parentNode.removeChild(w[x]);w=null,b.area&&b.area.parentNode&&b.area.parentNode.removeChild(b.area),b=null}),{alert:function(){var x=y.apply(this,arguments);return x.type=x.type||"confirm",_(x)},confirm:function(){var x=y.apply(this,arguments);return x.type=x.type||"alert",p(x)},message:b,modalbox:k}}},function(T,C,u){T.exports=function(g){var h=u(0),l=u(8),c=u(10);if(!l.isNode){var r=u(1),o=u(2);g.utils={arrayFind:o.arrayFind,dom:r};var n=u(45)();g.event=n.attach,g.eventRemove=n.detach,g._eventRemoveAll=n.detachAll,g._createDomEventScope=n.extend,h.mixin(g,u(121)(g));var t=u(120).init(g);g.$ui=t.factory,g.$ui.layers=t.render,g.$mouseEvents=t.mouseEvents,g.$services.setService("mouseEvents",function(){return g.$mouseEvents}),g.mixin(g,t.layersApi),u(73)(g),g.$services.setService("layers",function(){return t.layersService});var e=u(72);g.mixin(g,e()),u(71)(g),u(70)(g),u(69)(g),u(68)(g),u(67)(g),u(66)(g),u(65)(g),u(64)(g),u(63)(g),u(58)(g),u(57)(g),u(47)(g),u(46)(g),g.locate=function(a){var i=r.getTargetNode(a);if(r.closest(i,".gantt_task_row"))return null;var s=arguments[1]||this.config.task_attribute,d=r.locateAttribute(i,s);return d?d.getAttribute(s):null},g._locate_css=function(a,i,s){return r.locateClassName(a,i,s)},g._locateHTML=function(a,i){return r.locateAttribute(a,i||this.config.task_attribute)}}g.attachEvent("onParse",function(){c(g)||g.attachEvent("onGanttRender",function(){if(g.config.initial_scroll){var a=g.getTaskByIndex(0),i=a?a.id:g.config.root_id;g.isTaskExists(i)&&g.$task&&g.utils.dom.isChildOf(g.$task,g.$container)&&g.showTask(i)}},{once:!0})}),g.attachEvent("onBeforeGanttReady",function(){this.config.scroll_size||(this.config.scroll_size=r.getScrollSize()||1),c(g)||(this._eventRemoveAll(),this.$mouseEvents.reset(),this.resetLightbox())}),g.attachEvent("onGanttReady",function(){!c(g)&&g.config.rtl&&g.$layout.getCellsByType("viewCell").forEach(function(a){var i=a.$config.scrollX;if(i){var s=g.$ui.getView(i);s&&s.scrollTo(s.$config.scrollSize,0)}})}),g.attachEvent("onGanttReady",function(){if(!c(g)){var a=g.plugins(),i={auto_scheduling:g.autoSchedule,click_drag:g.ext.clickDrag,critical_path:g.isCriticalTask,drag_timeline:g.ext.dragTimeline,export_api:g.exportToPDF,fullscreen:g.ext.fullscreen,grouping:g.groupBy,keyboard_navigation:g.ext.keyboardNavigation,marker:g.addMarker,multiselect:g.eachSelectedTask,overlay:g.ext.overlay,quick_info:g.templates.quick_info_content,tooltip:g.ext.tooltips,undo:g.undo};for(var s in i)i[s]&&!a[s]&&console.warn("You connected the '".concat(s,`' extension via an obsolete file. 
To fix it, you need to remove the obsolete file and connect the extension via the plugins method: https://docs.dhtmlx.com/gantt/api__gantt_plugins.html`))}})}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],month_short:["Січ","Лют","Бер","Кві","Тра","Чер","Лип","Сер","Вер","Жов","Лис","Гру"],day_full:["Неділя","Понеділок","Вівторок","Середа","Четвер","П'ятниця","Субота"],day_short:["Нед","Пон","Вів","Сер","Чет","Птн","Суб"]},labels:{new_task:"Нове завдання",icon_save:"Зберегти",icon_cancel:"Відміна",icon_details:"Деталі",icon_edit:"Редагувати",icon_delete:"Вилучити",confirm_closing:"",confirm_deleting:"Подія вилучиться назавжди. Ви впевнені?",section_description:"Опис",section_time:"Часовий проміжок",section_type:"Тип",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Відміна",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],month_short:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],day_short:["Paz","Pzt","Sal","Çar","Per","Cum","Cmt"]},labels:{new_task:"Yeni görev",icon_save:"Kaydet",icon_cancel:"İptal",icon_details:"Detaylar",icon_edit:"Düzenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"Görev silinecek, emin misiniz?",section_description:"Açıklama",section_time:"Zaman Aralığı",section_type:"Tip",column_wbs:"WBS",column_text:"Görev Adı",column_start_date:"Başlangıç",column_duration:"Süre",column_add:"",link:"Bağlantı",confirm_link_deleting:"silinecek",link_start:" (başlangıç)",link_end:" (bitiş)",type_task:"Görev",type_project:"Proje",type_milestone:"Kilometretaşı",minutes:"Dakika",hours:"Saat",days:"Gün",weeks:"Hafta",months:"Ay",years:"Yıl",message_ok:"OK",message_cancel:"Ýptal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Söndag","Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag"],day_short:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},labels:{new_task:"Ny uppgift",icon_save:"Spara",icon_cancel:"Avbryt",icon_details:"Detajer",icon_edit:"Ändra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"Är du säker på att du vill ta bort händelsen permanent?",section_description:"Beskrivning",section_time:"Tid",section_type:"Typ",column_wbs:"WBS",column_text:"Uppgiftsnamn",column_start_date:"Starttid",column_duration:"Varaktighet",column_add:"",link:"Länk",confirm_link_deleting:"kommer tas bort",link_start:" (start)",link_end:" (slut)",type_task:"Uppgift",type_project:"Projekt",type_milestone:"Milstolpe",minutes:"Minuter",hours:"Timmar",days:"Dagar",weeks:"Veckor",months:"Månader",years:"År",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],month_short:["Jan","Feb","Mar","Apr","Máj","Jún","Júl","Aug","Sept","Okt","Nov","Dec"],day_full:["Nedeľa","Pondelok","Utorok","Streda","Štvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","Št","Pi","So"]},labels:{new_task:"Nová úloha",icon_save:"Uložiť",icon_cancel:"Späť",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmazať",confirm_closing:"Vaše zmeny nebudú uložené. Skutočne?",confirm_deleting:"Udalosť bude natrvalo vymazaná. Skutočne?",section_description:"Poznámky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Späť",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","Četrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"]},labels:{new_task:"Nova naloga",icon_save:"Shrani",icon_cancel:"Prekliči",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbriši",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. Želite nadaljevati?",section_description:"Opis",section_time:"Časovni okvir",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Prekliči",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Январь","Февраль","Март","Апрель","Maй","Июнь","Июль","Август","Сентябрь","Oктябрь","Ноябрь","Декабрь"],month_short:["Янв","Фев","Maр","Aпр","Maй","Июн","Июл","Aвг","Сен","Окт","Ноя","Дек"],day_full:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],day_short:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]},labels:{new_task:"Новое задание",icon_save:"Сохранить",icon_cancel:"Отменить",icon_details:"Детали",icon_edit:"Изменить",icon_delete:"Удалить",confirm_closing:"",confirm_deleting:"Событие будет удалено безвозвратно, продолжить?",section_description:"Описание",section_time:"Период времени",section_type:"Тип",column_wbs:"ИСР",column_text:"Задача",column_start_date:"Начало",column_duration:"Длительность",column_add:"",link:"Связь",confirm_link_deleting:"будет удалена",link_start:" (начало)",link_end:" (конец)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Минута",hours:"Час",days:"День",weeks:"Неделя",months:"Месяц",years:"Год",message_ok:"OK",message_cancel:"Отменить",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"начните вводить слово для фильтрации",resources_filter_label:"спрятать не установленные",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{new_task:"Sarcina noua",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Anuleaza",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{new_task:"Nova tarefa",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Excluir",confirm_closing:"",confirm_deleting:"As tarefas serão excluidas permanentemente, confirme?",section_description:"Descrição",section_time:"Período",section_type:"Tipo",column_wbs:"EAP",column_text:"Nome tarefa",column_start_date:"Data início",column_duration:"Duração",column_add:"",link:"Link",confirm_link_deleting:"Será excluído!",link_start:" (início)",link_end:" (fim)",type_task:"Task",type_project:"Projeto",type_milestone:"Marco",minutes:"Minutos",hours:"Horas",days:"Dias",weeks:"Semanas",months:"Meses",years:"Anos",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Restrição",constraint_type:"Tipo Restrição",constraint_date:"Data restrição",asap:"Mais breve possível",alap:"Mais tarde possível",snet:"Não começar antes de",snlt:"Não começar depois de",fnet:"Não terminar antes de",fnlt:"Não terminar depois de",mso:"Precisa começar em",mfo:"Precisa terminar em",resources_filter_placeholder:"Tipo de filtros",resources_filter_label:"Ocultar vazios",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Styczeń","Luty","Marzec","Kwiecień","Maj","Czerwiec","Lipiec","Sierpień","Wrzesień","Październik","Listopad","Grudzień"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Paź","Lis","Gru"],day_full:["Niedziela","Poniedziałek","Wtorek","Środa","Czwartek","Piątek","Sobota"],day_short:["Nie","Pon","Wto","Śro","Czw","Pią","Sob"]},labels:{new_task:"Nowe zadanie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczegóły",icon_edit:"Edytuj",icon_delete:"Usuń",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usunięte na zawsze, kontynuować?",section_description:"Opis",section_time:"Okres czasu",section_type:"Typ",column_wbs:"WBS",column_text:"Nazwa zadania",column_start_date:"Początek",column_duration:"Czas trwania",column_add:"",link:"Link",confirm_link_deleting:"zostanie usunięty",link_start:" (początek)",link_end:" (koniec)",type_task:"Zadanie",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minuty",hours:"Godziny",days:"Dni",weeks:"Tydzień",months:"Miesiące",years:"Lata",message_ok:"OK",message_cancel:"Anuluj",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],day_short:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppføringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{new_task:"Nieuwe taak",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",section_type:"Type",column_wbs:"WBS",column_text:"Taak omschrijving",column_start_date:"Startdatum",column_duration:"Duur",column_add:"",link:"Koppeling",confirm_link_deleting:"zal worden verwijderd",link_start:" (start)",link_end:" (eind)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"minuten",hours:"uren",days:"dagen",weeks:"weken",months:"maanden",years:"jaren",message_ok:"OK",message_cancel:"Annuleren",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],day_short:["Søn","Mon","Tir","Ons","Tor","Fre","Lør"]},labels:{new_task:"Ny oppgave",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Avbryt",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=function(){return function(h){var l=this;for(var c in this.addLocale=function(r,o){l._locales[r]=o},this.getLocale=function(r){return l._locales[r]},this._locales={},h)this._locales[c]=h[c]}}();C.default=g},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],month_short:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],day_full:["일요일","월요일","화요일","수요일","목요일","금요일","토요일"],day_short:["일","월","화","수","목","금","토"]},labels:{new_task:"이름없는 작업",icon_save:"저장",icon_cancel:"취소",icon_details:"세부 사항",icon_edit:"수정",icon_delete:"삭제",confirm_closing:"",confirm_deleting:"작업을 삭제하시겠습니까?",section_description:"설명",section_time:"기간",section_type:"Type",column_wbs:"WBS",column_text:"작업명",column_start_date:"시작일",column_duration:"기간",column_add:"",link:"전제",confirm_link_deleting:"삭제 하시겠습니까?",link_start:" (start)",link_end:" (end)",type_task:"작업",type_project:"프로젝트",type_milestone:"마일스톤",minutes:"분",hours:"시간",days:"일",weeks:"주",months:"달",years:"년",message_ok:"OK",message_cancel:"취소",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],month_short:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],day_full:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],day_short:["日","月","火","水","木","金","土"]},labels:{new_task:"新しい仕事",icon_save:"保存",icon_cancel:"キャンセル",icon_details:"詳細",icon_edit:"編集",icon_delete:"削除",confirm_closing:"",confirm_deleting:"イベント完全に削除されます、宜しいですか？",section_description:"デスクリプション",section_time:"期間",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"キャンセル",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{new_task:"Nuovo compito",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"Sei sicuro di confermare l'eliminazione?",section_description:"Descrizione",section_time:"Periodo di tempo",section_type:"Tipo",column_wbs:"WBS",column_text:"Nome Attività",column_start_date:"Inizio",column_duration:"Durata",column_add:"",link:"Link",confirm_link_deleting:"sarà eliminato",link_start:" (inizio)",link_end:" (fine)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuti",hours:"Ore",days:"Giorni",weeks:"Settimane",months:"Mesi",years:"Anni",message_ok:"OK",message_cancel:"Chiudi",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{new_task:"Tugas baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Batal",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],month_short:["Jan","Feb","Már","Ápr","Máj","Jún","Júl","Aug","Sep","Okt","Nov","Dec"],day_full:["Vasárnap","Hétfõ","Kedd","Szerda","Csütörtök","Péntek","szombat"],day_short:["Va","Hé","Ke","Sze","Csü","Pé","Szo"]},labels:{new_task:"Új feladat",icon_save:"Mentés",icon_cancel:"Mégse",icon_details:"Részletek",icon_edit:"Szerkesztés",icon_delete:"Törlés",confirm_closing:"",confirm_deleting:"Az esemény törölve lesz, biztosan folytatja?",section_description:"Leírás",section_time:"Idõszak",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Mégse",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],month_short:["Sij","Velj","Ožu","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],day_full:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Četvrtak","Petak","Subota"],day_short:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"]},labels:{new_task:"Novi Zadatak",icon_save:"Spremi",icon_cancel:"Odustani",icon_details:"Detalji",icon_edit:"Izmjeni",icon_delete:"Obriši",confirm_closing:"",confirm_deleting:"Zadatak će biti trajno izbrisan, jeste li sigurni?",section_description:"Opis",section_time:"Vremenski Period",section_type:"Tip",column_wbs:"WBS",column_text:"Naziv Zadatka",column_start_date:"Početno Vrijeme",column_duration:"Trajanje",column_add:"",link:"Poveznica",confirm_link_deleting:"će biti izbrisan",link_start:" (početak)",link_end:" (kraj)",type_task:"Zadatak",type_project:"Projekt",type_milestone:"Milestone",minutes:"Minute",hours:"Sati",days:"Dani",weeks:"Tjedni",months:"Mjeseci",years:"Godine",message_ok:"OK",message_cancel:"Odustani",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],month_short:["ינו","פבר","מרץ","אפר","מאי","יונ","יול","אוג","ספט","אוק","נוב","דצמ"],day_full:["ראשון","שני","שלישי","רביעי","חמישי","שישי","שבת"],day_short:["א","ב","ג","ד","ה","ו","ש"]},labels:{new_task:"משימה חדש",icon_save:"שמור",icon_cancel:"בטל",icon_details:"פרטים",icon_edit:"ערוך",icon_delete:"מחק",confirm_closing:"",confirm_deleting:"ארוע ימחק סופית.להמשיך?",section_description:"הסבר",section_time:"תקופה",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"בטל",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],month_short:["Jan","Fév","Mar","Avr","Mai","Juin","Juil","Aoû","Sep","Oct","Nov","Déc"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{new_task:"Nouvelle tâche",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"Détails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'événement sera effacé sans appel, êtes-vous sûr ?",section_description:"Description",section_time:"Période",section_type:"Type",column_wbs:"OTP",column_text:"Nom de la tâche",column_start_date:"Date initiale",column_duration:"Durée",column_add:"",link:"Le lien",confirm_link_deleting:"sera supprimé",link_start:"(début)",link_end:"(fin)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Heures",days:"Jours",weeks:"Semaines",months:"Mois",years:"Années",message_ok:"OK",message_cancel:"Annuler",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{new_task:"Uusi tehtävä",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Peru",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["ژانویه","فوریه","مارس","آوریل","مه","ژوئن","ژوئیه","اوت","سپتامبر","اکتبر","نوامبر","دسامبر"],month_short:["1","2","3","4","5","6","7","8","9","10","11","12"],day_full:["يکشنبه","دوشنبه","سه‌شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"],day_short:["ی","د","س","چ","پ","ج","ش"]},labels:{new_task:"وظیفه جدید",icon_save:"ذخیره",icon_cancel:"لغو",icon_details:"جزییات",icon_edit:"ویرایش",icon_delete:"حذف",confirm_closing:"تغییرات شما ازدست خواهد رفت، آیا مطمئن هستید؟",confirm_deleting:"این مورد برای همیشه حذف خواهد شد، آیا مطمئن هستید؟",section_description:"توضیحات",section_time:"مدت زمان",section_type:"نوع",column_wbs:"WBS",column_text:"عنوان",column_start_date:"زمان شروع",column_duration:"مدت",column_add:"",link:"ارتباط",confirm_link_deleting:"حذف خواهد شد",link_start:" (آغاز)",link_end:" (پایان)",type_task:"وظیفه",type_project:"پروژه",type_milestone:"نگارش",minutes:"دقایق",hours:"ساعات",days:"روزها",weeks:"هفته",months:"ماه‌ها",years:"سال‌ها",message_ok:"تایید",message_cancel:"لغو",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],day_short:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},labels:{new_task:"Nueva tarea",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrará definitivamente, ¿continuar?",section_description:"Descripción",section_time:"Período",section_type:"Tipo",column_wbs:"EDT",column_text:"Tarea",column_start_date:"Inicio",column_duration:"Duración",column_add:"",link:"Enlace",confirm_link_deleting:"será borrada",link_start:" (inicio)",link_end:" (fin)",type_task:"Tarea",type_project:"Proyecto",type_milestone:"Hito",minutes:"Minutos",hours:"Horas",days:"Días",weeks:"Semanas",months:"Meses",years:"Años",message_ok:"OK",message_cancel:"Cancelar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{new_task:"New task",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Task will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάϊος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],month_short:["ΙΑΝ","ΦΕΒ","ΜΑΡ","ΑΠΡ","ΜΑΙ","ΙΟΥΝ","ΙΟΥΛ","ΑΥΓ","ΣΕΠ","ΟΚΤ","ΝΟΕ","ΔΕΚ"],day_full:["Κυριακή","Δευτέρα","Τρίτη","Τετάρτη","Πέμπτη","Παρασκευή","Κυριακή"],day_short:["ΚΥ","ΔΕ","ΤΡ","ΤΕ","ΠΕ","ΠΑ","ΣΑ"]},labels:{new_task:"Νέα εργασία",icon_save:"Αποθήκευση",icon_cancel:"Άκυρο",icon_details:"Λεπτομέρειες",icon_edit:"Επεξεργασία",icon_delete:"Διαγραφή",confirm_closing:"",confirm_deleting:"Το έργο θα διαγραφεί οριστικά. Θέλετε να συνεχίσετε;",section_description:"Περιγραφή",section_time:"Χρονική περίοδος",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Άκυρο",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:[" Januar"," Februar"," März "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{new_task:"Neue Aufgabe",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"Ändern",icon_delete:"Löschen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gelöscht",section_description:"Beschreibung",section_time:"Zeitspanne",section_type:"Type",column_wbs:"PSP",column_text:"Task-Namen",column_start_date:"Startzeit",column_duration:"Dauer",column_add:"",link:"Link",confirm_link_deleting:"werden gelöscht",link_start:"(starten)",link_end:"(ende)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minuten",hours:"Stunden",days:"Tage",weeks:"Wochen",months:"Monate",years:"Jahre",message_ok:"OK",message_cancel:"Abbrechen",section_constraint:"Regel",constraint_type:"Regel",constraint_date:"Regel - Datum",asap:"So bald wie möglich",alap:"So spät wie möglich",snet:"Beginn nicht vor",snlt:"Beginn nicht später als",fnet:"Fertigstellung nicht vor",fnlt:"Fertigstellung nicht später als",mso:"Muss beginnen am",mfo:"Muss fertig sein am",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Søndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lørdag"],day_short:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},labels:{new_task:"Ny opgave",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil gå tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Fortryd",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],month_short:["Led","Ún","Bře","Dub","Kvě","Čer","Čec","Srp","Září","Říj","List","Pro"],day_full:["Neděle","Pondělí","Úterý","Středa","Čtvrtek","Pátek","Sobota"],day_short:["Ne","Po","Út","St","Čt","Pá","So"]},labels:{new_task:"Nová práce",icon_save:"Uložit",icon_cancel:"Zpět",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Událost bude trvale smazána, opravdu?",section_description:"Poznámky",section_time:"Doba platnosti",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Zpět",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],month_short:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],day_full:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],day_short:["日","一","二","三","四","五","六"]},labels:{new_task:"新任務",icon_save:"保存",icon_cancel:"关闭",icon_details:"详细",icon_edit:"编辑",icon_delete:"删除",confirm_closing:"请确认是否撤销修改!",confirm_deleting:"是否删除日程?",section_description:"描述",section_time:"时间范围",section_type:"类型",column_wbs:"工作分解结构",column_text:"任务名",column_start_date:"开始时间",column_duration:"持续时间",column_add:"",link:"关联",confirm_link_deleting:"将被删除",link_start:" (开始)",link_end:" (结束)",type_task:"任务",type_project:"项目",type_milestone:"里程碑",minutes:"分钟",hours:"小时",days:"天",weeks:"周",months:"月",years:"年",message_ok:"OK",message_cancel:"关闭",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{new_task:"Nova tasca",icon_save:"Guardar",icon_cancel:"Cancel·lar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrarà definitivament, continuar ?",section_description:"Descripció",section_time:"Periode de temps",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"Cancel·lar",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["Студзень","Люты","Сакавік","Красавік","Maй","Чэрвень","Ліпень","Жнівень","Верасень","Кастрычнік","Лістапад","Снежань"],month_short:["Студз","Лют","Сак","Крас","Maй","Чэр","Ліп","Жнів","Вер","Каст","Ліст","Снеж"],day_full:["Нядзеля","Панядзелак","Аўторак","Серада","Чацвер","Пятніца","Субота"],day_short:["Нд","Пн","Аўт","Ср","Чцв","Пт","Сб"]},labels:{new_task:"Новае заданне",icon_save:"Захаваць",icon_cancel:"Адмяніць",icon_details:"Дэталі",icon_edit:"Змяніць",icon_delete:"Выдаліць",confirm_closing:"",confirm_deleting:"Падзея будзе выдалена незваротна, працягнуць?",section_description:"Апісанне",section_time:"Перыяд часу",section_type:"Тып",column_wbs:"ІСР",column_text:"Задача",column_start_date:"Пачатак",column_duration:"Працяг",column_add:"",link:"Сувязь",confirm_link_deleting:"будзе выдалена",link_start:"(пачатак)",link_end:"(канец)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Хвiлiна",hours:"Гадзiна",days:"Дзень",weeks:"Тыдзень",months:"Месяц",years:"Год",message_ok:"OK",message_cancel:"Адмяніць",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default={date:{month_full:["كانون الثاني","شباط","آذار","نيسان","أيار","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],month_short:["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"],day_full:["الأحد","الأثنين","ألثلاثاء","الأربعاء","ألحميس","ألجمعة","السبت"],day_short:["احد","اثنين","ثلاثاء","اربعاء","خميس","جمعة","سبت"]},labels:{new_task:"مهمة جديد",icon_save:"اخزن",icon_cancel:"الغاء",icon_details:"تفاصيل",icon_edit:"تحرير",icon_delete:"حذف",confirm_closing:"التغييرات سوف تضيع, هل انت متأكد؟",confirm_deleting:"الحدث سيتم حذفها نهائيا ، هل أنت متأكد؟",section_description:"الوصف",section_time:"الفترة الزمنية",section_type:"Type",column_wbs:"WBS",column_text:"Task name",column_start_date:"Start time",column_duration:"Duration",column_add:"",link:"Link",confirm_link_deleting:"will be deleted",link_start:" (start)",link_end:" (end)",type_task:"Task",type_project:"Project",type_milestone:"Milestone",minutes:"Minutes",hours:"Hours",days:"Days",weeks:"Week",months:"Months",years:"Years",message_ok:"OK",message_cancel:"الغاء",section_constraint:"Constraint",constraint_type:"Constraint type",constraint_date:"Constraint date",asap:"As Soon As Possible",alap:"As Late As Possible",snet:"Start No Earlier Than",snlt:"Start No Later Than",fnet:"Finish No Earlier Than",fnlt:"Finish No Later Than",mso:"Must Start On",mfo:"Must Finish On",resources_filter_placeholder:"type to filter",resources_filter_label:"hide empty",empty_state_text_link:"Click here",empty_state_text_description:"to create your first task"}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=u(155),h=u(154),l=u(153),c=u(152),r=u(151),o=u(150),n=u(149),t=u(148),e=u(147),a=u(146),i=u(145),s=u(144),d=u(143),f=u(142),_=u(141),p=u(140),v=u(139),y=u(138),m=u(137),k=u(136),b=u(135),w=u(134),x=u(133),$=u(132),S=u(131),E=u(130),M=u(129),D=u(128),A=u(127),I=u(126),P=u(125),H=u(124),O=u(123);C.default=function(){return new b.default({en:e.default,ar:g.default,be:h.default,ca:l.default,cn:c.default,cs:r.default,da:o.default,de:n.default,el:t.default,es:a.default,fa:i.default,fi:s.default,fr:d.default,he:f.default,hr:_.default,hu:p.default,id:v.default,it:y.default,jp:m.default,kr:k.default,nb:w.default,nl:x.default,no:$.default,pl:S.default,pt:E.default,ro:M.default,ru:D.default,si:A.default,sk:I.default,sv:P.default,tr:H.default,ua:O.default})}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(){}},function(T,C){T.exports=function(u){u.destructor=function(){for(var g in this.clearAll(),this.callEvent("onDestroy",[]),this.$root&&delete this.$root.gantt,this._eventRemoveAll&&this._eventRemoveAll(),this.$layout&&this.$layout.destructor(),this.resetLightbox&&this.resetLightbox(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.$services.destructor(),this.detachAllEvents(),this)g.indexOf("$")===0&&delete this[g];this.$destroyed=!0}}},function(T,C){T.exports=function(u){return function(g,h){g||u.config.show_errors&&u.callEvent("onError",[h])!==!1&&(u.message?u.message({type:"error",text:h,expire:-1}):console.log(h))}}},function(T,C){function u(g,h){var l,c=g.config.container_resize_timeout||20;if(g.config.container_resize_method=="timeout")t();else try{g.event(h,"resize",function(){g.$scrollbarRepaint?g.$scrollbarRepaint=null:r()})}catch{t()}function r(){clearTimeout(l),l=setTimeout(function(){g.$destroyed||g.render()},c)}var o=g.$root.offsetHeight,n=g.$root.offsetWidth;function t(){g.$root.offsetHeight==o&&g.$root.offsetWidth==n||r(),o=g.$root.offsetHeight,n=g.$root.offsetWidth,setTimeout(t,c)}}T.exports=function(g){window.getComputedStyle(g.$root).getPropertyValue("position")=="static"&&(g.$root.style.position="relative");var h=document.createElement("iframe");h.className="gantt_container_resize_watcher",h.tabIndex=-1,g.config.wai_aria_attributes&&(h.setAttribute("role","none"),h.setAttribute("aria-hidden",!0)),(window.Sfdc||window.$A||window.Aura)&&(g.config.container_resize_method="timeout"),g.$root.appendChild(h),h.contentWindow?u(g,h.contentWindow):(g.$root.removeChild(h),u(g,window))}},function(T,C,u){function g(o){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}var h=u(1),l=u(2),c=u(10),r=u(160);T.exports=function(o){var n=u(39);o.assert=u(159)(o);var t="Invalid value of the first argument of `gantt.init`. Supported values: HTMLElement, String (element id).This error means that either invalid object is passed into `gantt.init` or that the element with the specified ID doesn't exist on the page when `gantt.init` is called.";function e(s){if(!s||typeof s=="string"&&document.getElementById(s)||function(d){try{d.cloneNode(!1)}catch{return!1}return!0}(s))return!0;throw o.assert(!1,t),new Error(t)}o.init=function(s,d,f){o.env.isNode?s=null:e(s),d&&f&&(this.config.start_date=this._min_date=new Date(d),this.config.end_date=this._max_date=new Date(f)),this.date.init(),this.init=function(_){o.env.isNode?_=null:e(_),this.$container&&this.$container.parentNode&&(this.$container.parentNode.removeChild(this.$container),this.$container=null),this.$layout&&this.$layout.clear(),this._reinit(_)},this._reinit(s)},o._quickRefresh=function(s){for(var d=this._getDatastores.call(this),f=0;f<d.length;f++)d[f]._quick_refresh=!0;for(s(),f=0;f<d.length;f++)d[f]._quick_refresh=!1};var a=function(){this._clearTaskLayers&&this._clearTaskLayers(),this._clearLinkLayers&&this._clearLinkLayers(),this.$layout&&(this.$layout.destructor(),this.$layout=null,this.$ui.reset())}.bind(o),i=function(){c(o)||(this.$root.innerHTML="",this.$root.gantt=this,n(this),this.config.layout.id="main",this.$layout=this.$ui.createView("layout",this.$root,this.config.layout),this.$layout.attachEvent("onBeforeResize",function(){for(var s=o.$services.getService("datastores"),d=0;d<s.length;d++)o.getDatastore(s[d]).filter(),o.getDatastore(s[d]).callEvent("onBeforeRefreshAll",[])}),this.$layout.attachEvent("onResize",function(){o._quickRefresh(function(){o.refreshData()})}),this.callEvent("onGanttLayoutReady",[]),this.$layout.render(),this.$container=this.$layout.$container.firstChild,r(this))}.bind(o);o.resetLayout=function(){a(),i(),this.render()},o._reinit=function(s){this.callEvent("onBeforeGanttReady",[]),this._update_flags(),this.$services.getService("templateLoader").initTemplates(this),a(),this.$root=null,s&&(this.$root=h.toNode(s),i(),this.$mouseEvents.reset(this.$root)),this.callEvent("onTemplatesReady",[]),this.callEvent("onGanttReady",[]),this.render()},o.$click={buttons:{edit:function(s){o.isReadonly(o.getTask(s))||o.showLightbox(s)},delete:function(s){var d=o.getTask(s);if(!o.isReadonly(d)){var f=o.locale.labels.confirm_deleting,_=o.locale.labels.confirm_deleting_title;o._simple_confirm(f,_,function(){o.isTaskExists(s)&&(d.$new?(o.silent(function(){o.deleteTask(s,!0)}),o.refreshData()):o.deleteTask(s)),o.hideLightbox()})}}}},o.render=function(){var s;if(this.callEvent("onBeforeGanttRender",[]),!c(o)){!this.config.sort&&this._sort&&(this._sort=void 0),this.$root&&(this.config.rtl?(this.$root.classList.add("gantt_rtl"),this.$root.firstChild.classList.add("gantt_rtl")):(this.$root.classList.remove("gantt_rtl"),this.$root.firstChild.classList.remove("gantt_rtl")));var d=this.getScrollState(),f=d?d.x:0;this._getHorizontalScrollbar()&&(f=this._getHorizontalScrollbar().$config.codeScrollLeft||f||0),s=null,f&&(s=o.dateFromPos(f+this.config.task_scroll_offset))}if(n(this),c(o))o.refreshData();else{this.$layout.$config.autosize=this.config.autosize;var _=this.config.preserve_scroll;if(this.config.preserve_scroll=!1,this.$layout.resize(),this.config.preserve_scroll=_,this.config.preserve_scroll&&d){if(f||d.y){var p=o.getScrollState();if(+s!=+o.dateFromPos(p.x)||p.y!=d.y){f=null;var v=null;s&&(f=Math.max(o.posFromDate(s)-o.config.task_scroll_offset,0)),d.y&&(v=d.y),o.scrollTo(f,v)}}var y=o.$ui.getView("grid");if(y){var m=y.$config.scrollY,k=o.$ui.getView(m);k&&(o.utils.dom.isChildOf(k.$view,o.$container)||y.scrollTo(void 0,0))}}}this.callEvent("onGanttRender",[])},o.setSizes=o.render,o.getTaskRowNode=function(s){for(var d=this.$grid_data.childNodes,f=this.config.task_attribute,_=0;_<d.length;_++)if(d[_].getAttribute&&d[_].getAttribute(f)==s)return d[_];return null},o.changeLightboxType=function(s){if(this.getLightboxType()==s)return!0;o._silent_redraw_lightbox(s)},o._get_link_type=function(s,d){var f=null;return s&&d?f=o.config.links.start_to_start:!s&&d?f=o.config.links.finish_to_start:s||d?s&&!d&&(f=o.config.links.start_to_finish):f=o.config.links.finish_to_finish,f},o.isLinkAllowed=function(s,d,f,_){var p=null;if(!(p=g(s)=="object"?s:{source:s,target:d,type:this._get_link_type(f,_)})||!(p.source&&p.target&&p.type)||p.source==p.target)return!1;var v=!0;return this.checkEvent("onLinkValidation")&&(v=this.callEvent("onLinkValidation",[p])),v},o._correct_dst_change=function(s,d,f,_){var p=l.getSecondsInUnit(_)*f;if(p>3600&&p<86400){var v=s.getTimezoneOffset()-d;v&&(s=o.date.add(s,v,"minute"))}return s},o.isSplitTask=function(s){return o.assert(s&&s instanceof Object,"Invalid argument <b>task</b>="+s+" of gantt.isSplitTask. Task object was expected"),this.$data.tasksStore._isSplitItem(s)},o._is_icon_open_click=function(s){if(!s)return!1;var d=s.target||s.srcElement;if(!d||!d.className)return!1;var f=h.getClassName(d);return f.indexOf("gantt_tree_icon")!==-1&&(f.indexOf("gantt_close")!==-1||f.indexOf("gantt_open")!==-1)}}},function(T,C){T.exports=function(u){function g(){return u._cached_functions.update_if_changed(u),u._cached_functions.active||u._cached_functions.activate(),!0}u._cached_functions={cache:{},mode:!1,critical_path_mode:!1,wrap_methods:function(l,c){if(c._prefetch_originals)for(var r in c._prefetch_originals)c[r]=c._prefetch_originals[r];for(c._prefetch_originals={},r=0;r<l.length;r++)this.prefetch(l[r],c)},prefetch:function(l,c){var r=c[l];if(r){var o=this;c._prefetch_originals[l]=r,c[l]=function(){for(var n=new Array(arguments.length),t=0,e=arguments.length;t<e;t++)n[t]=arguments[t];if(o.active){var a=o.get_arguments_hash(Array.prototype.slice.call(n));o.cache[l]||(o.cache[l]={});var i=o.cache[l];if(o.has_cached_value(i,a))return o.get_cached_value(i,a);var s=r.apply(this,n);return o.cache_value(i,a,s),s}return r.apply(this,n)}}return r},cache_value:function(l,c,r){this.is_date(r)&&(r=new Date(r)),l[c]=r},has_cached_value:function(l,c){return l.hasOwnProperty(c)},get_cached_value:function(l,c){var r=l[c];return this.is_date(r)&&(r=new Date(r)),r},is_date:function(l){return l&&l.getUTCDate},get_arguments_hash:function(l){for(var c=[],r=0;r<l.length;r++)c.push(this.stringify_argument(l[r]));return"("+c.join(";")+")"},stringify_argument:function(l){return(l.id?l.id:this.is_date(l)?l.valueOf():l)+""},activate:function(){this.clear(),this.active=!0},deactivate:function(){this.clear(),this.active=!1},clear:function(){this.cache={}},setup:function(l){var c=[],r=["_isProjectEnd","_getProjectEnd","_getSlack"];this.mode=="auto"?l.config.highlight_critical_path&&(c=r):this.mode===!0&&(c=r),this.wrap_methods(c,l)},update_if_changed:function(l){(this.critical_path_mode!=l.config.highlight_critical_path||this.mode!==l.config.optimize_render)&&(this.critical_path_mode=l.config.highlight_critical_path,this.mode=l.config.optimize_render,this.setup(l))}},u.attachEvent("onBeforeGanttRender",g),u.attachEvent("onBeforeDataRender",g),u.attachEvent("onBeforeSmartRender",function(){g()}),u.attachEvent("onBeforeParse",g),u.attachEvent("onDataRender",function(){u._cached_functions.deactivate()});var h=null;u.attachEvent("onSmartRender",function(){h&&clearTimeout(h),h=setTimeout(function(){u._cached_functions.deactivate()},1e3)}),u.attachEvent("onBeforeGanttReady",function(){return u._cached_functions.update_if_changed(u),!0})}},function(T,C){function u(g){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}T.exports=function(g){g.getTaskType=function(h){var l=h;for(var c in h&&u(h)=="object"&&(l=h.type),this.config.types)if(this.config.types[c]==l)return l;return g.config.types.task}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(){}},function(T,C,u){var g=u(2);T.exports=function(h){h.isUnscheduledTask=function(n){return h.assert(n&&n instanceof Object,"Invalid argument <b>task</b>="+n+" of gantt.isUnscheduledTask. Task object was expected"),!!n.unscheduled||!n.start_date},h._isAllowedUnscheduledTask=function(n){return!(!n.unscheduled||!h.config.show_unscheduled)},h._isTaskInTimelineLimits=function(n){var t=n.start_date?n.start_date.valueOf():null,e=n.end_date?n.end_date.valueOf():null;return!!(t&&e&&t<=this._max_date.valueOf()&&e>=this._min_date.valueOf())},h.isTaskVisible=function(n){if(!this.isTaskExists(n))return!1;var t=this.getTask(n);return!(!this._isAllowedUnscheduledTask(t)&&!this._isTaskInTimelineLimits(t))&&this.getGlobalTaskIndex(n)>=0},h._getProjectEnd=function(){if(h.config.project_end)return h.config.project_end;var n=h.getTaskByTime();return(n=n.sort(function(t,e){return+t.end_date>+e.end_date?1:-1})).length?n[n.length-1].end_date:null},h._getProjectStart=function(){if(h.config.project_start)return h.config.project_start;if(h.config.start_date)return h.config.start_date;if(h.getState().min_date)return h.getState().min_date;var n=h.getTaskByTime();return(n=n.sort(function(t,e){return+t.start_date>+e.start_date?1:-1})).length?n[0].start_date:null};var l=function(n,t){var e=!!(t&&t!=h.config.root_id&&h.isTaskExists(t))&&h.getTask(t),a=null;if(e)a=h.config.schedule_from_end?h.calculateEndDate({start_date:e.end_date,duration:-h.config.duration_step,task:n}):e.start_date;else if(h.config.schedule_from_end)a=h.calculateEndDate({start_date:h._getProjectEnd(),duration:-h.config.duration_step,task:n});else{var i=h.getTaskByIndex(0);a=i?i.start_date?i.start_date:i.end_date?h.calculateEndDate({start_date:i.end_date,duration:-h.config.duration_step,task:n}):null:h.config.start_date||h.getState().min_date}return h.assert(a,"Invalid dates"),new Date(a)};h._set_default_task_timing=function(n){n.start_date=n.start_date||l(n,h.getParent(n)),n.duration=n.duration||h.config.duration_step,n.end_date=n.end_date||h.calculateEndDate(n)},h.createTask=function(n,t,e){return n=n||{},h.defined(n.id)||(n.id=h.uid()),n.start_date||(n.start_date=l(n,t)),n.text===void 0&&(n.text=h.locale.labels.new_task),n.duration===void 0&&(n.duration=1),this.isTaskExists(t)&&(this.setParent(n,t,!0),this.getTask(t).$open=!0),this.callEvent("onTaskCreated",[n])?(this.config.details_on_create?(h.isTaskExists(n.id)?h.getTask(n.id).$index!=n.$index&&(n.start_date&&typeof n.start_date=="string"&&(n.start_date=this.date.parseDate(n.start_date,"parse_date")),n.end_date&&typeof n.end_date=="string"&&(n.end_date=this.date.parseDate(n.end_date,"parse_date")),this.$data.tasksStore.updateItem(n.id,n)):(n.$new=!0,this.silent(function(){h.$data.tasksStore.addItem(n,e)})),this.selectTask(n.id),this.refreshData(),this.showLightbox(n.id)):this.addTask(n,t,e)&&(this.showTask(n.id),this.selectTask(n.id)),n.id):null},h._update_flags=function(n,t){var e=h.$data.tasksStore;n===void 0?(this._lightbox_id=null,e.silent(function(){e.unselect()}),this.getSelectedTasks&&this._multiselect.reset(),this._tasks_dnd&&this._tasks_dnd.drag&&(this._tasks_dnd.drag.id=null)):(this._lightbox_id==n&&(this._lightbox_id=t),e.getSelectedId()==n&&e.silent(function(){e.unselect(n),e.select(t)}),this._tasks_dnd&&this._tasks_dnd.drag&&this._tasks_dnd.drag.id==n&&(this._tasks_dnd.drag.id=t))};var c=function(n,t){var e=h.getTaskType(n.type),a={type:e,$no_start:!1,$no_end:!1};return t||e!=n.$rendered_type?(e==h.config.types.project?a.$no_end=a.$no_start=!0:e!=h.config.types.milestone&&(a.$no_end=!(n.end_date||n.duration),a.$no_start=!n.start_date,h._isAllowedUnscheduledTask(n)&&(a.$no_end=a.$no_start=!1)),a):(a.$no_start=n.$no_start,a.$no_end=n.$no_end,a)};function r(n){n.$effective_calendar=h.getTaskCalendar(n).id,n.start_date=h.getClosestWorkTime({dir:"future",date:n.start_date,unit:h.config.duration_unit,task:n}),n.end_date=h.calculateEndDate(n)}function o(n){var t=null,e=null,a=n!==void 0?n:h.config.root_id,i=[];return h.eachTask(function(s){h.getTaskType(s.type)==h.config.types.project||h.isUnscheduledTask(s)||(s.rollup&&i.push(s.id),s.start_date&&!s.$no_start&&(!t||t>s.start_date.valueOf())&&(t=s.start_date.valueOf()),s.end_date&&!s.$no_end&&(!e||e<s.end_date.valueOf())&&(e=s.end_date.valueOf()))},a),{start_date:t?new Date(t):null,end_date:e?new Date(e):null,rollup:i}}h._init_task_timing=function(n){var t=c(n,!0),e=n.$rendered_type!=t.type,a=t.type;e&&(n.$no_start=t.$no_start,n.$no_end=t.$no_end,n.$rendered_type=t.type),e&&a!=this.config.types.milestone&&a==this.config.types.project&&(this._set_default_task_timing(n),n.$calculate_duration=!1),a==this.config.types.milestone&&(n.end_date=n.start_date),n.start_date&&n.end_date&&n.$calculate_duration!==!1&&(n.duration=this.calculateDuration(n)),n.$calculate_duration||(n.$calculate_duration=!0),n.end_date||(n.end_date=n.start_date),n.duration=n.duration||0,this.config.min_duration===0&&n.duration===0&&(n.$no_end=!1);var i=this.getTaskCalendar(n);n.$effective_calendar&&n.$effective_calendar!==i.id&&(r(n),this.config.inherit_calendar&&this.isSummaryTask(n)&&this.eachTask(function(s){r(s)},n.id)),n.$effective_calendar=i.id},h.isSummaryTask=function(n){h.assert(n&&n instanceof Object,"Invalid argument <b>task</b>="+n+" of gantt.isSummaryTask. Task object was expected");var t=c(n);return!(!t.$no_end&&!t.$no_start)},h.resetProjectDates=function(n){var t=c(n);if(t.$no_end||t.$no_start){var e=o(n.id);(function(a,i,s,d){i.$no_start&&(a.start_date=s?new Date(s):l(a,this.getParent(a))),i.$no_end&&(a.end_date=d?new Date(d):this.calculateEndDate({start_date:a.start_date,duration:this.config.duration_step,task:a})),(i.$no_start||i.$no_end)&&this._init_task_timing(a)}).call(this,n,t,e.start_date,e.end_date),n.$rollup=e.rollup}},h.getSubtaskDuration=function(n){var t=0,e=n!==void 0?n:h.config.root_id;return this.eachTask(function(a){this.getTaskType(a.type)==h.config.types.project||this.isUnscheduledTask(a)||(t+=a.duration)},e),t},h.getSubtaskDates=function(n){var t=o(n);return{start_date:t.start_date,end_date:t.end_date}},h._update_parents=function(n,t,e){if(n){var a=this.getTask(n);a.rollup&&(e=!0);var i=this.getParent(a),s=c(a),d=!0;if(e||a.start_date&&a.end_date&&(s.$no_start||s.$no_end)){var f=a.start_date.valueOf(),_=a.end_date.valueOf();h.resetProjectDates(a),e||f!=a.start_date.valueOf()||_!=a.end_date.valueOf()||(d=!1),d&&!t&&this.refreshTask(a.id,!0)}d&&i&&this.isTaskExists(i)&&this._update_parents(i,t,e)}},h.roundDate=function(n){var t=h.getScale();g.isDate(n)&&(n={date:n,unit:t?t.unit:h.config.duration_unit,step:t?t.step:h.config.duration_step});var e,a,i,s=n.date,d=n.step,f=n.unit;if(!t)return s;if(f==t.unit&&d==t.step&&+s>=+t.min_date&&+s<=+t.max_date)i=Math.floor(h.columnIndexByDate(s)),t.trace_x[i]||(i-=1,t.rtl&&(i=0)),a=new Date(t.trace_x[i]),e=h.date.add(a,d,f);else{for(i=Math.floor(h.columnIndexByDate(s)),e=h.date[f+"_start"](new Date(t.min_date)),t.trace_x[i]&&(e=h.date[f+"_start"](t.trace_x[i]));+e<+s;){var _=(e=h.date[f+"_start"](h.date.add(e,d,f))).getTimezoneOffset();e=h._correct_dst_change(e,_,e,f),h.date[f+"_start"]&&(e=h.date[f+"_start"](e))}a=h.date.add(e,-1*d,f)}return n.dir&&n.dir=="future"?e:n.dir&&n.dir=="past"||Math.abs(s-a)<Math.abs(e-s)?a:e},h.correctTaskWorkTime=function(n){h.config.work_time&&h.config.correct_work_time&&(this.isWorkTime(n.start_date,void 0,n)?this.isWorkTime(new Date(+n.end_date-1),void 0,n)||(n.end_date=this.calculateEndDate(n)):(n.start_date=this.getClosestWorkTime({date:n.start_date,dir:"future",task:n}),n.end_date=this.calculateEndDate(n)))},h.attachEvent("onBeforeTaskUpdate",function(n,t){return h._init_task_timing(t),!0}),h.attachEvent("onBeforeTaskAdd",function(n,t){return h._init_task_timing(t),!0}),h.attachEvent("onAfterTaskMove",function(n,t,e){return h._init_task_timing(h.getTask(n)),!0})}},function(T,C,u){var g=u(0);T.exports={create:function(h,l){return{getWorkHours:function(c){return l.getWorkHours(c)},setWorkTime:function(c){return l.setWorkTime(c)},unsetWorkTime:function(c){l.unsetWorkTime(c)},isWorkTime:function(c,r,o){return l.isWorkTime(c,r,o)},getClosestWorkTime:function(c){return l.getClosestWorkTime(c)},calculateDuration:function(c,r,o){return l.calculateDuration(c,r,o)},_hasDuration:function(c,r,o){return l.hasDuration(c,r,o)},calculateEndDate:function(c,r,o,n){return l.calculateEndDate(c,r,o,n)},mergeCalendars:g.bind(h.mergeCalendars,h),createCalendar:g.bind(h.createCalendar,h),addCalendar:g.bind(h.addCalendar,h),getCalendar:g.bind(h.getCalendar,h),getCalendars:g.bind(h.getCalendars,h),getResourceCalendar:g.bind(h.getResourceCalendar,h),getTaskCalendar:g.bind(h.getTaskCalendar,h),deleteCalendar:g.bind(h.deleteCalendar,h)}}}},function(T,C){function u(g,h){this.argumentsHelper=h,this.$gantt=g}u.prototype={getWorkHours:function(){return[0,24]},setWorkTime:function(){return!0},unsetWorkTime:function(){return!0},isWorkTime:function(){return!0},getClosestWorkTime:function(g){return this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments).date},calculateDuration:function(){var g=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),h=g.start_date,l=g.end_date,c=g.unit,r=g.step;return this._calculateDuration(h,l,c,r)},_calculateDuration:function(g,h,l,c){var r=this.$gantt.date,o={week:6048e5,day:864e5,hour:36e5,minute:6e4},n=0;if(o[l])n=Math.round((h-g)/(c*o[l]));else{for(var t=new Date(g),e=new Date(h);t.valueOf()<e.valueOf();)n+=1,t=r.add(t,c,l);t.valueOf()!=h.valueOf()&&(n+=(e-t)/(r.add(t,c,l)-t))}return Math.round(n)},hasDuration:function(){var g=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),h=g.start_date,l=g.end_date;return!!g.unit&&(h=new Date(h),l=new Date(l),h.valueOf()<l.valueOf())},hasWorkTime:function(){return!0},equals:function(g){return g instanceof u},calculateEndDate:function(){var g=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),h=g.start_date,l=g.duration,c=g.unit,r=g.step;return this.$gantt.date.add(h,r*l,c)}},T.exports=u},function(T,C,u){var g=u(35),h=u(167);function l(c){this.$gantt=c.$gantt,this.argumentsHelper=g(this.$gantt),this.calendarManager=c,this.$disabledCalendar=new h(this.$gantt,this.argumentsHelper)}l.prototype={_getCalendar:function(c){var r;if(this.$gantt.config.work_time){var o=this.calendarManager;c.task?r=o.getTaskCalendar(c.task):c.id?r=o.getTaskCalendar(c):c.calendar&&(r=c.calendar),r||(r=o.getTaskCalendar())}else r=this.$disabledCalendar;return r},getWorkHours:function(c){return c=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments),this._getCalendar(c).getWorkHours(c.date)},setWorkTime:function(c,r){return c=this.argumentsHelper.setWorkTimeArguments.apply(this.argumentsHelper,arguments),r||(r=this.calendarManager.getCalendar()),r.setWorkTime(c)},unsetWorkTime:function(c,r){return c=this.argumentsHelper.unsetWorkTimeArguments.apply(this.argumentsHelper,arguments),r||(r=this.calendarManager.getCalendar()),r.unsetWorkTime(c)},isWorkTime:function(c,r,o,n){var t=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(t).isWorkTime(t)},getClosestWorkTime:function(c){return c=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments),this._getCalendar(c).getClosestWorkTime(c)},calculateDuration:function(){var c=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(c).calculateDuration(c)},hasDuration:function(){var c=this.argumentsHelper.hasDurationArguments.apply(this.argumentsHelper,arguments);return this._getCalendar(c).hasDuration(c)},calculateEndDate:function(c){return c=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),this._getCalendar(c).calculateEndDate(c)}},T.exports=l},function(T,C){T.exports=function(){var u={};return{getCalendarIdFromMultipleResources:function(g,h){var l=function(r){return r.map(function(o){return o&&o.resource_id?o.resource_id:o}).sort().join("-")}(g);if(g.length){if(g.length===1)return h.getResourceCalendar(l).id;if(u[l])return u[l].id;var c=function(r,o){return o.mergeCalendars(r.map(function(n){var t=n&&n.resource_id?n.resource_id:n;return o.getResourceCalendar(t)}))}(g,h);return u[l]=c,h.addCalendar(c)}return null}}}},function(T,C){function u(g){return(u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(g)}T.exports={isLegacyResourceCalendarFormat:function(g){if(!g)return!1;for(var h in g)if(g[h]&&u(g[h])==="object")return!0;return!1},getResourceProperty:function(g){var h=g.resource_calendars,l=g.resource_property;if(this.isLegacyResourceCalendarFormat(h))for(var c in g){l=c;break}return l},getCalendarIdFromLegacyConfig:function(g,h){if(h)for(var l in h){var c=h[l];if(g[l]){var r=c[g[l]];if(r)return r}}return null}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=function(){function h(){this.clear()}return h.prototype._getCacheObject=function(l,c,r){var o=this._cache;o[c]||(o[c]=[]);var n=o[c];n||(n=o[c]={});var t=n[r];t||(t=n[r]={});var e=l.getFullYear(),a=t[e];return a||(a=t[e]={durations:{},endDates:{}}),a},h.prototype._endDateCacheKey=function(l,c){return String(l)+"-"+String(c)},h.prototype._durationCacheKey=function(l,c){return String(l)+"-"+String(c)},h.prototype.getEndDate=function(l,c,r,o,n){var t,e=this._getCacheObject(l,r,o),a=l.valueOf(),i=this._endDateCacheKey(a,c);if(e.endDates[i]===void 0){var s=n(),d=s.valueOf();e.endDates[i]=d,e.durations[this._durationCacheKey(a,d)]=c,t=s}else t=new Date(e.endDates[i]);return t},h.prototype.getDuration=function(l,c,r,o,n){var t,e=this._getCacheObject(l,r,o),a=l.valueOf(),i=c.valueOf(),s=this._durationCacheKey(a,i);if(e.durations[s]===void 0){var d=n();e.durations[s]=d.valueOf(),t=d}else t=e.durations[s];return t},h.prototype.clear=function(){this._cache={}},h}();C.DateDurationCache=g},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=function(){return function(h){var l=this;this.getMinutesPerWeek=function(c){var r=c.valueOf();if(l._weekCache.has(r))return l._weekCache.get(r);for(var o=l._calendar,n=l._calendar.$gantt,t=0,e=n.date.week_start(new Date(c)),a=0;a<7;a++)t+=60*o.getHoursPerDay(e),e=n.date.add(e,1,"day");return l._weekCache.set(r,t),t},this.getMinutesPerMonth=function(c){var r=c.valueOf();if(l._monthCache.has(r))return l._monthCache.get(r);for(var o=l._calendar,n=l._calendar.$gantt,t=0,e=n.date.week_start(new Date(c)),a=n.date.add(e,1,"month").valueOf();e.valueOf()<a;)t+=60*o.getHoursPerDay(e),e=n.date.add(e,1,"day");return l._monthCache.set(r,t),t},this.clear=function(){l._weekCache=new Map,l._monthCache=new Map},this.clear(),this._calendar=h}}();C.LargerUnitsCache=g},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=function(){function h(){this.clear()}return h.prototype.getItem=function(l,c,r){var o=this._cache;if(o&&o[l]){var n=o[l];if(n===void 0)return-1;var t=n[r.getFullYear()];if(t&&t[c]!==void 0)return t[c]}return-1},h.prototype.setItem=function(l,c,r,o){if(l&&c){var n=this._cache;if(n){n[l]||(n[l]=[]);var t=n[l],e=o.getFullYear(),a=t[e];a||(a=t[e]={}),a[c]=r}}},h.prototype.clear=function(){this._cache={}},h}();C.WorkUnitsObjectCache=g},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=function(){function h(){this.clear()}return h.prototype.getItem=function(l,c,r){if(this._cache.has(l)){var o=this._cache.get(l)[r.getFullYear()];if(o&&o.has(c))return o.get(c)}return-1},h.prototype.setItem=function(l,c,r,o){if(l&&c){var n,t=this._cache,e=o.getFullYear();t.has(l)?n=t.get(l):(n=[],t.set(l,n));var a=n[e];a||(a=n[e]=new Map),a.set(c,r)}},h.prototype.clear=function(){this._cache=new Map},h}();C.WorkUnitsMapCache=g},function(T,C,u){function g(n){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(n)}var h=u(34).createCacheObject,l=u(34).LargerUnitsCache,c=u(0),r=u(171).DateDurationCache;function o(n,t){this.argumentsHelper=t,this.$gantt=n,this._workingUnitsCache=h(),this._largeUnitsCache=new l(this),this._dateDurationCache=new r,this._worktime=null,this._cached_timestamps={},this._cached_timestamps_count=0}o.prototype={units:["year","month","week","day","hour","minute"],_clearCaches:function(){this._workingUnitsCache.clear(),this._largeUnitsCache.clear(),this._dateDurationCache.clear()},_getUnitOrder:function(n){for(var t=0,e=this.units.length;t<e;t++)if(this.units[t]==n)return t},_resetTimestampCache:function(){this._cached_timestamps={},this._cached_timestamps_count=0},_timestamp:function(n){this._cached_timestamps_count>1e6&&this._resetTimestampCache();var t=null;if(n.day||n.day===0)t=n.day;else if(n.date){var e=String(n.date.valueOf());this._cached_timestamps[e]?t=this._cached_timestamps[e]:(t=Date.UTC(n.date.getFullYear(),n.date.getMonth(),n.date.getDate()),this._cached_timestamps[e]=t,this._cached_timestamps_count++)}return t},_checkIfWorkingUnit:function(n,t){if(!this["_is_work_"+t]){var e=this.$gantt.date["".concat(t,"_start")](new Date(n)),a=this.$gantt.date.add(e,1,t);return this.hasDuration(e,a)}return this["_is_work_"+t](n)},_is_work_day:function(n){var t=this._getWorkHours(n);return!!Array.isArray(t)&&t.length>0},_is_work_hour:function(n){for(var t=this._getWorkHours(n),e=n.getHours(),a=0;a<t.length;a++)if(e>=t[a].startHour&&e<t[a].endHour)return!0;return!1},_getTimeOfDayStamp:function(n,t){var e=n.getHours();return n.getHours()||n.getMinutes()||!t||(e=24),60*e*60+60*n.getMinutes()},_is_work_minute:function(n){for(var t=this._getWorkHours(n),e=this._getTimeOfDayStamp(n),a=0;a<t.length;a++)if(e>=t[a].start&&e<t[a].end)return!0;return!1},_nextDate:function(n,t,e){return this.$gantt.date.add(n,e,t)},_getWorkUnitsBetweenGeneric:function(n,t,e,a){var i=this.$gantt.date,s=new Date(n),d=new Date(t);a=a||1;var f,_,p=0,v=null,y=!1;(f=i[e+"_start"](new Date(s))).valueOf()!=s.valueOf()&&(y=!0);var m=!1;(_=i[e+"_start"](new Date(t))).valueOf()!=t.valueOf()&&(m=!0);for(var k=!1;s.valueOf()<d.valueOf();){if(k=(v=this._nextDate(s,e,a)).valueOf()>d.valueOf(),this._isWorkTime(s,e))(y||m&&k)&&(f=i[e+"_start"](new Date(s)),_=i.add(f,a,e)),y?(y=!1,v=this._nextDate(f,e,a),p+=(_.valueOf()-s.valueOf())/(_.valueOf()-f.valueOf())):m&&k?(m=!1,p+=(d.valueOf()-s.valueOf())/(_.valueOf()-f.valueOf())):p++;else{var b=this._getUnitOrder(e),w=this.units[b-1];w&&!this._isWorkTime(s,w)&&(v=this._getClosestWorkTimeFuture(s,w))}s=v}return p},_getMinutesPerHour:function(n){var t=this._getTimeOfDayStamp(n),e=this._getTimeOfDayStamp(this._nextDate(n,"hour",1));e===0&&(e=86400);for(var a=this._getWorkHours(n),i=0;i<a.length;i++){var s=a[i];if(t>=s.start&&e<=s.end)return 60;if(t<s.end&&e>s.start)return(Math.min(e,s.end)-Math.max(t,s.start))/60}return 0},_getMinutesPerDay:function(n){var t=0;return this._getWorkHours(n).forEach(function(e){t+=e.durationMinutes}),t},getHoursPerDay:function(n){var t=0;return this._getWorkHours(n).forEach(function(e){t+=e.durationHours}),t},_getWorkUnitsForRange:function(n,t,e,a){var i,s=0,d=new Date(n),f=new Date(t);for(i=e=="minute"?c.bind(this._getMinutesPerDay,this):c.bind(this.getHoursPerDay,this);d.valueOf()<f.valueOf();)if(f-d>27648e5&&d.getDate()===0){var _=this._largeUnitsCache.getMinutesPerMonth(d);e=="hour"&&(_/=60),s+=_,d=this.$gantt.date.add(d,1,"month")}else{if(f-d>13824e5){var p=this.$gantt.date.week_start(new Date(d));if(d.valueOf()===p.valueOf()){_=this._largeUnitsCache.getMinutesPerWeek(d),e=="hour"&&(_/=60),s+=_,d=this.$gantt.date.add(d,7,"day");continue}}s+=i(d),d=this._nextDate(d,"day",1)}return s/a},_getMinutesBetweenSingleDay:function(n,t){for(var e=this._getIntervalTimestamp(n,t),a=this._getWorkHours(n),i=0,s=0;s<a.length;s++){var d=a[s];if(e.end>=d.start&&e.start<=d.end){var f=Math.max(d.start,e.start),_=Math.min(d.end,e.end);i+=(_-f)/60,e.start=_}}return Math.floor(i)},_getMinutesBetween:function(n,t,e,a){var i=new Date(n),s=new Date(t);a=a||1;var d=new Date(i),f=this.$gantt.date.add(this.$gantt.date.day_start(new Date(i)),1,"day");if(s.valueOf()<=f.valueOf())return this._getMinutesBetweenSingleDay(n,t);var _=this.$gantt.date.day_start(new Date(s)),p=s,v=this._getMinutesBetweenSingleDay(d,f),y=this._getMinutesBetweenSingleDay(_,p);return v+this._getWorkUnitsForRange(f,_,e,a)+y},_getHoursBetween:function(n,t,e,a){var i=new Date(n),s=new Date(t);a=a||1;var d=new Date(i),f=this.$gantt.date.add(this.$gantt.date.day_start(new Date(i)),1,"day");if(s.valueOf()<=f.valueOf())return Math.round(this._getMinutesBetweenSingleDay(n,t)/60);var _=this.$gantt.date.day_start(new Date(s)),p=s,v=this._getMinutesBetweenSingleDay(d,f,e,a)/60,y=this._getMinutesBetweenSingleDay(_,p,e,a)/60,m=v+this._getWorkUnitsForRange(f,_,e,a)+y;return Math.round(m)},getConfig:function(){return this._worktime},_setConfig:function(n){this._worktime=n,this._parseSettings(),this._clearCaches()},_parseSettings:function(){var n=this.getConfig();for(var t in n.parsed={dates:{},hours:null,haveCustomWeeks:!1,customWeeks:{},customWeeksRangeStart:null,customWeeksRangeEnd:null,customWeeksBoundaries:[]},n.parsed.hours=this._parseHours(n.hours),n.dates)n.parsed.dates[t]=this._parseHours(n.dates[t]);if(n.customWeeks){var e=null,a=null;for(var t in n.customWeeks){var i=n.customWeeks[t];if(i.from&&i.to){var s=i.from,d=i.to;(!e||e>s.valueOf())&&(e=s.valueOf()),(!a||a<d.valueOf())&&(a=d.valueOf()),n.parsed.customWeeksBoundaries.push({from:s.valueOf(),fromReadable:new Date(s),to:d.valueOf(),toReadable:new Date(d),name:t}),n.parsed.haveCustomWeeks=!0;var f=n.parsed.customWeeks[t]={from:i.from,to:i.to,hours:this._parseHours(i.hours),dates:{}};for(var _ in i.dates)f.dates[_]=this._parseHours(i.dates[_])}}n.parsed.customWeeksRangeStart=e,n.parsed.customWeeksRangeEnd=a}},_tryChangeCalendarSettings:function(n){var t=JSON.stringify(this.getConfig());return n(),!!this.hasWorkTime()||(this._setConfig(JSON.parse(t)),this._clearCaches(),!1)},_arraysEqual:function(n,t){if(n===t)return!0;if(!n||!t||n.length!=t.length)return!1;for(var e=0;e<n.length;++e)if(n[e]!==t[e])return!1;return!0},_compareSettings:function(n,t){if(!this._arraysEqual(n.hours,t.hours))return!1;var e=Object.keys(n.dates),a=Object.keys(t.dates);if(e.sort(),a.sort(),!this._arraysEqual(e,a))return!1;for(var i=0;i<e.length;i++){var s=e[i],d=n.dates[s],f=n.dates[s];if(d!==f&&!(Array.isArray(d)&&Array.isArray(f)&&this._arraysEqual(d,f)))return!1}return!0},equals:function(n){if(!(n instanceof o))return!1;var t=this.getConfig(),e=n.getConfig();if(!this._compareSettings(t,e))return!1;if(t.parsed.haveCustomWeeks&&e.parsed.haveCustomWeeks){if(t.parsed.customWeeksBoundaries.length!=e.parsed.customWeeksBoundaries.length)return!1;for(var a in t.parsed.customWeeks){var i=t.parsed.customWeeks[a],s=e.parsed.customWeeks[a];if(!s||!this._compareSettings(i,s))return!1}}else if(t.parse.haveCustomWeeks!==e.parsed.haveCustomWeeks)return!1;return!0},getWorkHours:function(){var n=this.argumentsHelper.getWorkHoursArguments.apply(this.argumentsHelper,arguments);return this._getWorkHours(n.date,!1)},_getWorkHours:function(n,t){var e=this.getConfig();if(t!==!1&&(e=e.parsed),!n)return e.hours;var a=this._timestamp({date:n});if(e.haveCustomWeeks&&e.customWeeksRangeStart<=a&&e.customWeeksRangeEnd>a){for(var i=0;i<e.customWeeksBoundaries.length;i++)if(e.customWeeksBoundaries[i].from<=a&&e.customWeeksBoundaries[i].to>a){e=e.customWeeks[e.customWeeksBoundaries[i].name];break}}var s=!0;return e.dates[a]!==void 0?s=e.dates[a]:e.dates[n.getDay()]!==void 0&&(s=e.dates[n.getDay()]),s===!0?e.hours:s||[]},_getIntervalTimestamp:function(n,t){var e={start:0,end:0};e.start=60*n.getHours()*60+60*n.getMinutes()+n.getSeconds();var a=t.getHours();return!a&&!t.getMinutes()&&!t.getSeconds()&&n.valueOf()<t.valueOf()&&(a=24),e.end=60*a*60+60*t.getMinutes()+t.getSeconds(),e},_parseHours:function(n){if(Array.isArray(n)){var t=[];n.forEach(function(f){typeof f=="number"?t.push(60*f*60):typeof f=="string"&&f.split("-").map(function(_){return _.trim()}).forEach(function(_){var p=_.split(":").map(function(y){return y.trim()}),v=parseInt(60*p[0]*60);p[1]&&(v+=parseInt(60*p[1])),p[2]&&(v+=parseInt(p[2])),t.push(v)})});for(var e=[],a=0;a<t.length;a+=2){var i=t[a],s=t[a+1],d=s-i;e.push({start:i,end:s,startHour:Math.floor(i/3600),startMinute:Math.floor(i/60),endHour:Math.ceil(s/3600),endMinute:Math.ceil(s/60),durationSeconds:d,durationMinutes:d/60,durationHours:d/3600})}return e}return n},setWorkTime:function(n){return this._tryChangeCalendarSettings(c.bind(function(){var t=n.hours===void 0||n.hours,e=this._timestamp(n),a=this.getConfig();if(e!==null?a.dates[e]=t:n.customWeeks||(a.hours=t),n.customWeeks){if(a.customWeeks||(a.customWeeks={}),typeof n.customWeeks=="string")e!==null?a.customWeeks[n.customWeeks].dates[e]=t:n.customWeeks||(a.customWeeks[n.customWeeks].hours=t);else if(g(n.customWeeks)==="object"&&Function.prototype.toString.call(n.customWeeks.constructor)==="function Object() { [native code] }")for(var i in n.customWeeks)a.customWeeks[i]=n.customWeeks[i]}this._parseSettings(),this._clearCaches()},this))},unsetWorkTime:function(n){return this._tryChangeCalendarSettings(c.bind(function(){if(n){var t=this._timestamp(n);t!==null&&delete this.getConfig().dates[t]}else this.reset_calendar();this._parseSettings(),this._clearCaches()},this))},_isWorkTime:function(n,t){var e=-1,a=null;return a=String(n.valueOf()),(e=this._workingUnitsCache.getItem(t,a,n))==-1&&(e=this._checkIfWorkingUnit(n,t),this._workingUnitsCache.setItem(t,a,e,n)),e},isWorkTime:function(){var n=this.argumentsHelper.isWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._isWorkTime(n.date,n.unit)},calculateDuration:function(){var n=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments);if(!n.unit)return!1;var t=this;return this._dateDurationCache.getDuration(n.start_date,n.end_date,n.unit,n.step,function(){return t._calculateDuration(n.start_date,n.end_date,n.unit,n.step)})},_calculateDuration:function(n,t,e,a){var i=0,s=1;if(n.valueOf()>t.valueOf()){var d=t;t=n,n=d,s=-1}return i=e=="hour"&&a==1?this._getHoursBetween(n,t,e,a):e=="minute"&&a==1?this._getMinutesBetween(n,t,e,a):this._getWorkUnitsBetweenGeneric(n,t,e,a),s*Math.round(i)},hasDuration:function(){var n=this.argumentsHelper.getDurationArguments.apply(this.argumentsHelper,arguments),t=n.start_date,e=n.end_date,a=n.unit,i=n.step;if(!a)return!1;var s=new Date(t),d=new Date(e);for(i=i||1;s.valueOf()<d.valueOf();){if(this._isWorkTime(s,a))return!0;s=this._nextDate(s,a,i)}return!1},calculateEndDate:function(){var n=this.argumentsHelper.calculateEndDateArguments.apply(this.argumentsHelper,arguments),t=n.start_date,e=n.duration,a=n.unit,i=n.step;if(!a)return!1;var s=n.duration>=0?1:-1;e=Math.abs(1*e);var d=this;return this._dateDurationCache.getEndDate(t,e,a,i*s,function(){return d._calculateEndDate(t,e,a,i*s)})},_calculateEndDate:function(n,t,e,a){return!!e&&(a==1&&e=="minute"?this._calculateMinuteEndDate(n,t,a):a==-1&&e=="minute"?this._subtractMinuteDate(n,t,a):a==1&&e=="hour"?this._calculateHourEndDate(n,t,a):this._addInterval(n,t,e,a,null).end)},_addInterval:function(n,t,e,a,i){for(var s=0,d=n,f=!1;s<t&&(!i||!i(d));){var _=this._nextDate(d,e,a);e=="day"&&(f=f||!d.getHours()&&_.getHours())&&(_.setHours(0),_.getHours()||(f=!1));var p=new Date(_.valueOf()+1);a>0&&(p=new Date(_.valueOf()-1)),this._isWorkTime(p,e)&&!f&&s++,d=_}return{end:d,start:n,added:s}},_addHoursUntilDayEnd:function(n,t){for(var e=this.$gantt.date.add(this.$gantt.date.day_start(new Date(n)),1,"day"),a=0,i=t,s=this._getIntervalTimestamp(n,e),d=this._getWorkHours(n),f=0;f<d.length&&a<t;f++){var _=d[f];if(s.end>=_.start&&s.start<=_.end){var p=Math.max(_.start,s.start),v=Math.min(_.end,s.end),y=(v-p)/3600;y>i&&(y=i,v=p+60*i*60);var m=Math.round((v-p)/3600);a+=m,i-=m,s.start=v}}var k=e;return a===t&&(k=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,s.start)),{added:a,end:k}},_calculateHourEndDate:function(n,t,e){var a=new Date(n),i=0;e=e||1,t=Math.abs(1*t);var s=this._addHoursUntilDayEnd(a,t);if(i=s.added,a=s.end,p=t-i){for(var d=a;i<t;){var f=this._nextDate(d,"day",e);f.setHours(0),f.setMinutes(0),f.setSeconds(0);var _=0;if(i+(_=e>0?this.getHoursPerDay(new Date(f.valueOf()-1)):this.getHoursPerDay(new Date(f.valueOf()+1)))>=t)break;i+=_,d=f}a=d}if(i<t){var p=t-i;a=(s=this._addHoursUntilDayEnd(a,p)).end}return a},_addMinutesUntilHourEnd:function(n,t){if(n.getMinutes()===0)return{added:0,end:new Date(n)};for(var e=this.$gantt.date.add(this.$gantt.date.hour_start(new Date(n)),1,"hour"),a=0,i=t,s=this._getIntervalTimestamp(n,e),d=this._getWorkHours(n),f=0;f<d.length&&a<t;f++){var _=d[f];if(s.end>=_.start&&s.start<=_.end){var p=Math.max(_.start,s.start),v=Math.min(_.end,s.end),y=(v-p)/60;y>i&&(y=i,v=p+60*i);var m=Math.round((v-p)/60);i-=m,a+=m,s.start=v}}var k=e;return a===t&&(k=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,s.start)),{added:a,end:k}},_subtractMinutesUntilHourStart:function(n,t){for(var e=this.$gantt.date.hour_start(new Date(n)),a=0,i=t,s=60*e.getHours()*60+60*e.getMinutes()+e.getSeconds(),d=60*n.getHours()*60+60*n.getMinutes()+n.getSeconds(),f=this._getWorkHours(n),_=f.length-1;_>=0&&a<t;_--){var p=f[_];if(d>p.start&&s<=p.end){var v=Math.min(d,p.end),y=Math.max(s,p.start),m=(v-y)/60;m>i&&(m=i,y=v-60*i);var k=Math.abs(Math.round((v-y)/60));i-=k,a+=k,d=y}}var b=e;return a===t&&(b=new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,d)),{added:a,end:b}},_subtractMinuteDate:function(n,t,e){var a=new Date(n),i=0;e=e||-1,t=Math.abs(1*t),t=Math.round(t);var s=this._isMinutePrecision(a),d=this._subtractMinutesUntilHourStart(a,t);i+=d.added,a=d.end;for(var f=0,_=[],p=0;i<t;){var v=this.$gantt.date.day_start(new Date(a)),y=!1;a.valueOf()===v.valueOf()&&(v=this.$gantt.date.add(v,-1,"day"),y=!0);var m=new Date(v.getFullYear(),v.getMonth(),v.getDate(),23,59,59,999).valueOf();m!==f&&(_=this._getWorkHours(v),p=this._getMinutesPerDay(v),f=m);var k=t-i,b=this._getTimeOfDayStamp(a,y);if(_.length&&p)if(_[_.length-1].end<=b&&k>p)i+=p,a=this.$gantt.date.add(a,-1,"day");else{for(var w=!1,x=null,$=_.length-1;$>=0;$--)if(_[$].start<b-1&&_[$].end>=b-1){w=!0,x=_[$];break}if(w)if(b===x.end&&k>=x.durationMinutes)i+=x.durationMinutes,a=this.$gantt.date.add(a,-x.durationMinutes,"minute");else if(!s&&k<=b/60-x.startMinute)i+=k,a=this.$gantt.date.add(a,-k,"minute");else if(s){var S=this._getClosestWorkTime(this._nextDate(a,"hour",e),"hour"),E=this._getMinutesPerHour(S);k<E&&E<=60?(E=k,a=this.$gantt.date.add(a,-E,"minute")):a=S,i+=E}else{var M=this._getMinutesPerHour(a);M<=k?(i+=M,a=this._nextDate(a,"hour",e)):(i+=(d=this._subtractMinutesUntilHourStart(a,k)).added,a=d.end)}else if(a.getHours()===0&&a.getMinutes()===0&&a.getSeconds()===0){if((D=this._getClosestWorkTimePast(a,"hour")).valueOf()===a.valueOf()){var D=this.$gantt.date.add(a,-1,"day"),A=this._getWorkHours(D);if(A.length){var I=A[A.length-1];D.setSeconds(I.durationSeconds)}}a=D}else a=this._getClosestWorkTimePast(new Date(a-1),"hour")}else a=this.$gantt.date.add(a,-1,"day")}if(i<t){var P=t-i;i+=(d=this._subtractMinutesUntilHourStart(a,P)).added,a=d.end}return a},_calculateMinuteEndDate:function(n,t,e){var a=new Date(n),i=0;e=e||1,t=Math.abs(1*t),t=Math.round(t);var s=this._addMinutesUntilHourEnd(a,t);i+=s.added,a=s.end;for(var d=0,f=[],_=0,p=this._isMinutePrecision(a);i<t;){var v=this.$gantt.date.day_start(new Date(a)).valueOf();v!==d&&(f=this._getWorkHours(a),_=this._getMinutesPerDay(a),d=v);var y=t-i,m=this._getTimeOfDayStamp(a);if(f.length&&_)if(f[0].start>=m&&y>=_){if(i+=_,y==_){a=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,f[f.length-1].end);break}a=this.$gantt.date.add(a,1,"day"),a=this.$gantt.date.day_start(a)}else{for(var k=!1,b=null,w=0;w<f.length;w++)if(f[w].start<=m&&f[w].end>m){k=!0,b=f[w];break}if(k)if(m===b.start&&y>=b.durationMinutes)i+=b.durationMinutes,a=this.$gantt.date.add(a,b.durationMinutes,"minute");else if(y<=b.endMinute-m/60)i+=y,a=this.$gantt.date.add(a,y,"minute");else{var x=this._getMinutesPerHour(a);x<=y?(i+=x,a=p?this.$gantt.date.add(a,x,"minute"):this._nextDate(a,"hour",e)):(i+=(s=this._addMinutesUntilHourEnd(a,y)).added,a=s.end)}else a=this._getClosestWorkTimeFuture(a,"hour")}else a=this.$gantt.date.add(this.$gantt.date.day_start(a),1,"day")}if(i<t){var $=t-i;i+=(s=this._addMinutesUntilHourEnd(a,$)).added,a=s.end}return a},getClosestWorkTime:function(){var n=this.argumentsHelper.getClosestWorkTimeArguments.apply(this.argumentsHelper,arguments);return this._getClosestWorkTime(n.date,n.unit,n.dir)},_getClosestWorkTime:function(n,t,e){var a=new Date(n);if(this._isWorkTime(a,t))return a;if(a=this.$gantt.date[t+"_start"](a),e!="any"&&e)a=e=="past"?this._getClosestWorkTimePast(a,t):this._getClosestWorkTimeFuture(a,t);else{var i=this._getClosestWorkTimeFuture(a,t),s=this._getClosestWorkTimePast(a,t);a=Math.abs(i-n)<=Math.abs(n-s)?i:s}return a},_getClosestWorkTimeFuture:function(n,t){return this._getClosestWorkTimeGeneric(n,t,1)},_getClosestWorkTimePast:function(n,t){var e=this._getClosestWorkTimeGeneric(n,t,-1);return this.$gantt.date.add(e,1,t)},_findClosestTimeInDay:function(n,t,e){var a=new Date(n),i=null,s=!1;this._getWorkHours(a).length||(a=this._getClosestWorkTime(a,"day",t<0?"past":"future"),t<0&&(a=new Date(a.valueOf()-1),s=!0),e=this._getWorkHours(a));var d=this._getTimeOfDayStamp(a);if(s&&(d=this._getTimeOfDayStamp(new Date(a.valueOf()+1),s)),t>0){for(var f=0;f<e.length;f++)if(e[f].start>=d){i=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,e[f].start);break}}else for(f=e.length-1;f>=0;f--){if(e[f].end<=d){i=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,e[f].end);break}if(e[f].end>d&&e[f].start<=d){i=new Date(a.getFullYear(),a.getMonth(),a.getDate(),0,0,d);break}}return i},_getClosestWorkMinute:function(n,t,e){var a=new Date(n),i=this._getWorkHours(a),s=this._findClosestTimeInDay(a,e,i);return s||(a=this.calculateEndDate(a,e,"day"),e>0?a=this.$gantt.date.day_start(a):(a=this.$gantt.date.day_start(a),a=this.$gantt.date.add(a,1,"day"),a=new Date(a.valueOf()-1)),i=this._getWorkHours(a),s=this._findClosestTimeInDay(a,e,i)),e<0&&(s=this.$gantt.date.add(s,-1,t)),s},_getClosestWorkTimeGeneric:function(n,t,e){if(t==="hour"||t==="minute")return this._getClosestWorkMinute(n,t,e);for(var a=this._getUnitOrder(t),i=this.units[a-1],s=n,d=0;!this._isWorkTime(s,t)&&(!i||this._isWorkTime(s,i)||(s=e>0?this._getClosestWorkTimeFuture(s,i):this._getClosestWorkTimePast(s,i),!this._isWorkTime(s,t)));){if(++d>3e3)return this.$gantt.assert(!1,"Invalid working time check"),!1;var f=s.getTimezoneOffset();s=this.$gantt.date.add(s,e,t),s=this.$gantt._correct_dst_change(s,f,e,t),this.$gantt.date[t+"_start"]&&(s=this.$gantt.date[t+"_start"](s))}return s},hasWorkTime:function(){var n=this.getConfig(),t=n.dates,e=[];for(var a in n.dates)Number(a)>6&&e.push(Number(a));var i=this._checkWorkHours(n.hours),s=!1;return[0,1,2,3,4,5,6].forEach(function(d){if(!s){var f=t[d];f===!0?s=i:Array.isArray(f)&&(s=this._checkWorkHours(f))}}.bind(this)),s},_checkWorkHours:function(n){if(n.length===0)return!1;for(var t=!1,e=0;e<n.length;e+=2)n[e]!==n[e+1]&&(t=!0);return t},_isMinutePrecision:function(n){var t=!1;return this._getWorkHours(n).forEach(function(e){(e.startMinute%60||e.endMinute%60)&&(t=!0)}),t}},T.exports=o},function(T,C,u){var g=u(0);function h(){}h.prototype={_getIntervals:function(l){for(var c=[],r=0;r<l.length;r+=2)c.push({start:l[r],end:l[r+1]});return c},_toHoursArray:function(l){var c=[];function r(n){var t=Math.floor(n/3600),e=n-60*t*60;return t+":"+function(a){var i=String(a);return i.length<2&&(i="0"+i),i}(Math.floor(e/60))}for(var o=0;o<l.length;o++)c.push(r(l[o].start)+"-"+r(l[o].end));return c},_intersectHourRanges:function(l,c){var r=[],o=l.length>c.length?l:c,n=l===o?c:l;o=o.slice(),n=n.slice(),r=[];for(var t=0;t<o.length;t++)for(var e=o[t],a=0;a<n.length;a++){var i=n[a];i.start<e.end&&i.end>e.start&&(r.push({start:Math.max(e.start,i.start),end:Math.min(e.end,i.end)}),e.end>i.end&&(n.splice(a,1),a--,t--))}return r},_mergeAdjacentIntervals:function(l){var c=l.slice();c.sort(function(t,e){return t.start-e.start});for(var r=c[0],o=1;o<c.length;o++){var n=c[o];n.start<=r.end?(n.end>r.end&&(r.end=n.end),c.splice(o,1),o--):r=n}return c},_mergeHoursConfig:function(l,c){return this._mergeAdjacentIntervals(this._intersectHourRanges(l,c))},merge:function(l,c){var r=g.copy(l.getConfig().parsed),o=g.copy(c.getConfig().parsed),n={hours:this._toHoursArray(this._mergeHoursConfig(r.hours,o.hours)),dates:{},customWeeks:{}};for(var t in r.dates){var e=r.dates[t],a=o.dates[t];if(e&&a)if(Array.isArray(e)||Array.isArray(a)){var i=Array.isArray(e)?e:r.hours,s=Array.isArray(a)?a:o.hours;n.dates[t]=this._toHoursArray(this._mergeHoursConfig(i,s))}else n.dates[t]=!0;else n.dates[t]=!1}if(r.customWeeks)for(var t in r.customWeeks)n.customWeeks[t]=r.customWeeks[t];if(o.customWeeks)for(var t in o.customWeeks)n.customWeeks[t]=o.customWeeks[t];return n}},T.exports=h},function(T,C,u){var g=u(0),h=u(35),l=u(176),c=u(175),r=u(170),o=u(169)();function n(t){this.$gantt=t,this._calendars={},this._legacyConfig=void 0,this.$gantt.attachEvent("onGanttReady",function(){this.$gantt.config.resource_calendars&&(this._isLegacyConfig=r.isLegacyResourceCalendarFormat(this.$gantt.config.resource_calendars))}.bind(this)),this.$gantt.attachEvent("onBeforeGanttReady",function(){this.createDefaultCalendars()}.bind(this)),this.$gantt.attachEvent("onBeforeGanttRender",function(){this.createDefaultCalendars()}.bind(this))}n.prototype={_calendars:{},_convertWorkTimeSettings:function(t){var e=t.days;if(e&&!t.dates){t.dates=t.dates||{};for(var a=0;a<e.length;a++)t.dates[a]=e[a],e[a]instanceof Array||(t.dates[a]=!!e[a])}return delete t.days,t},mergeCalendars:function(){var t=[],e=arguments;if(Array.isArray(e[0]))t=e[0].slice();else for(var a=0;a<arguments.length;a++)t.push(arguments[a]);var i,s=new l;return t.forEach(function(d){i=i?this._createCalendarFromConfig(s.merge(i,d)):d}.bind(this)),this.createCalendar(i)},_createCalendarFromConfig:function(t){var e=new c(this.$gantt,h(this.$gantt));e.id=String(g.uid());var a=this._convertWorkTimeSettings(t);if(a.customWeeks)for(var i in a.customWeeks)a.customWeeks[i]=this._convertWorkTimeSettings(a.customWeeks[i]);return e._setConfig(a),e},createCalendar:function(t){var e;t||(t={}),e=t.getConfig?g.copy(t.getConfig()):t.worktime?g.copy(t.worktime):g.copy(t);var a=g.copy(this.defaults.fulltime.worktime);return g.mixin(e,a),this._createCalendarFromConfig(e)},getCalendar:function(t){t=t||"global";var e=this._calendars[t];return e||(this.createDefaultCalendars(),e=this._calendars[t]),e},getCalendars:function(){var t=[];for(var e in this._calendars)t.push(this.getCalendar(e));return t},_getOwnCalendar:function(t){var e=this.$gantt.config;if(t[e.calendar_property])return this.getCalendar(t[e.calendar_property]);if(e.resource_calendars){var a;if(a=this._legacyConfig===!1?e.resource_property:r.getResourceProperty(e),Array.isArray(t[a]))e.dynamic_resource_calendars&&(i=o.getCalendarIdFromMultipleResources(t[a],this));else if(this._legacyConfig===void 0&&(this._legacyConfig=r.isLegacyResourceCalendarFormat(e.resource_calendars)),this._legacyConfig)var i=r.getCalendarIdFromLegacyConfig(t,e.resource_calendars);else if(a&&t[a]&&e.resource_calendars[t[a]])var s=this.getResourceCalendar(t[a]);if(i&&(s=this.getCalendar(i)),s)return s}return null},getResourceCalendar:function(t){if(t==null)return this.getCalendar();var e=null;e=typeof t=="number"||typeof t=="string"?t:t.id||t.key;var a=this.$gantt.config,i=a.resource_calendars,s=null;if(i){if(this._legacyConfig===void 0&&(this._legacyConfig=r.isLegacyResourceCalendarFormat(a.resource_calendars)),this._legacyConfig){for(var d in i)if(i[d][e]){s=i[d][e];break}}else s=i[e];if(s)return this.getCalendar(s)}return this.getCalendar()},getTaskCalendar:function(t){var e,a=this.$gantt;if(t==null)return this.getCalendar();if(!(e=typeof t!="number"&&typeof t!="string"||!a.isTaskExists(t)?t:a.getTask(t)))return this.getCalendar();var i=this._getOwnCalendar(e),s=!!a.getState().group_mode;if(!i&&a.config.inherit_calendar&&a.isTaskExists(e.parent)){for(var d=e;a.isTaskExists(d.parent)&&(d=a.getTask(d.parent),!a.isSummaryTask(d)||!(i=this._getOwnCalendar(d))););s&&!i&&t.$effective_calendar&&(i=this.getCalendar(t.$effective_calendar))}return i||this.getCalendar()},addCalendar:function(t){if(!this.isCalendar(t)){var e=t.id;(t=this.createCalendar(t)).id=e}if(t._tryChangeCalendarSettings(function(){})){var a=this.$gantt.config;return t.id=t.id||g.uid(),this._calendars[t.id]=t,a.worktimes||(a.worktimes={}),a.worktimes[t.id]=t.getConfig(),t.id}return this.$gantt.callEvent("onCalendarError",[{message:"Invalid calendar settings, no worktime available"},t]),null},deleteCalendar:function(t){var e=this.$gantt.config;return!!t&&!!this._calendars[t]&&(delete this._calendars[t],e.worktimes&&e.worktimes[t]&&delete e.worktimes[t],!0)},restoreConfigCalendars:function(t){for(var e in t)if(!this._calendars[e]){var a=t[e],i=this.createCalendar(a);i.id=e,this.addCalendar(i)}},defaults:{global:{id:"global",worktime:{hours:[8,12,13,17],days:[0,1,1,1,1,1,0]}},fulltime:{id:"fulltime",worktime:{hours:[0,24],days:[1,1,1,1,1,1,1]}}},createDefaultCalendars:function(){var t=this.$gantt.config;this.restoreConfigCalendars(this.defaults),this.restoreConfigCalendars(t.worktimes)},isCalendar:function(t){return[t.isWorkTime,t.setWorkTime,t.getWorkHours,t.unsetWorkTime,t.getClosestWorkTime,t.calculateDuration,t.hasDuration,t.calculateEndDate].every(function(e){return e instanceof Function})}},T.exports=n},function(T,C,u){var g=u(177),h=u(168),l=u(166),c=u(0);T.exports=function(r){var o=new g(r),n=new h(o),t=l.create(o,n);c.mixin(r,t)}},function(T,C,u){function g(l){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}var h=u(2);T.exports=function(l){function c(r){throw l.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(r)),new Error("Invalid argument for gantt.parse or gantt.load. An object or a JSON string of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#json is expected. Actual argument value: "+JSON.stringify(r))}l.load=function(r,o,n){this._load_url=r,this.assert(arguments.length,"Invalid load arguments");var t="json",e=null;return arguments.length>=3?(t=o,e=n):typeof arguments[1]=="string"?t=arguments[1]:typeof arguments[1]=="function"&&(e=arguments[1]),this._load_type=t,this.callEvent("onLoadStart",[r,t]),this.ajax.get(r,l.bind(function(a){this.on_load(a,t),this.callEvent("onLoadEnd",[r,t]),typeof e=="function"&&e.call(this)},this))},l.parse=function(r,o){this.on_load({xmlDoc:{responseText:r}},o)},l.serialize=function(r){return this[r=r||"json"].serialize()},l.on_load=function(r,o){if(r.xmlDoc&&r.xmlDoc.status===404)this.assert(!1,"Failed to load the data from <a href='"+r.xmlDoc.responseURL+"' target='_blank'>"+r.xmlDoc.responseURL+"</a>, server returns 404");else if(!l.$destroyed){this.callEvent("onBeforeParse",[]),o||(o="json"),this.assert(this[o],"Invalid data type:'"+o+"'");var n=r.xmlDoc.responseText,t=this[o].parse(n,r);this._process_loading(t)}},l._process_loading=function(r){r.collections&&this._load_collections(r.collections),r.resources&&this.$data.resourcesStore&&this.$data.resourcesStore.parse(r.resources);var o=r.data||r.tasks;r.assignments&&function(t,e){var a={};e.forEach(function(i){a[i.task_id]||(a[i.task_id]=[]),a[i.task_id].push(i)}),t.forEach(function(i){i[l.config.resource_property]=a[i.id]||[]})}(o,r.assignments),this.$data.tasksStore.parse(o);var n=r.links||(r.collections?r.collections.links:[]);this.$data.linksStore.parse(n),this.callEvent("onParse",[]),this.render()},l._load_collections=function(r){var o=!1;for(var n in r)if(r.hasOwnProperty(n)){o=!0;var t=r[n];this.serverList[n]=this.serverList[n]||[];var e=this.serverList[n];if(!e)continue;e.splice(0,e.length);for(var a=0;a<t.length;a++){var i=t[a],s=this.copy(i);for(var d in s.key=s.value,i)if(i.hasOwnProperty(d)){if(d=="value"||d=="label")continue;s[d]=i[d]}e.push(s)}}o&&this.callEvent("onOptionsLoad",[])},l.attachEvent("onBeforeTaskDisplay",function(r,o){return!o.$ignore}),l.json={parse:function(r){if(r||c(r),typeof r=="string")if((typeof JSON>"u"?"undefined":g(JSON))!=null)try{r=JSON.parse(r)}catch{c(r)}else l.assert(!1,"JSON is not supported");return r.data||r.tasks||c(r),r.dhx_security&&(l.security_key=r.dhx_security),r},serializeTask:function(r){return this._copyObject(r)},serializeLink:function(r){return this._copyLink(r)},_copyLink:function(r){var o={};for(var n in r)o[n]=r[n];return o},_copyObject:function(r){var o={};for(var n in r)n.charAt(0)!="$"&&(o[n]=r[n],h.isDate(o[n])&&(o[n]=l.defined(l.templates.xml_format)?l.templates.xml_format(o[n]):l.templates.format_date(o[n])));return o},serialize:function(){var r=[],o=[];l.eachTask(function(e){l.resetProjectDates(e),r.push(this.serializeTask(e))},l.config.root_id,this);for(var n=l.getLinks(),t=0;t<n.length;t++)o.push(this.serializeLink(n[t]));return{data:r,links:o}}},l.xml={_xmlNodeToJSON:function(r,o){for(var n={},t=0;t<r.attributes.length;t++)n[r.attributes[t].name]=r.attributes[t].value;if(!o){for(t=0;t<r.childNodes.length;t++){var e=r.childNodes[t];e.nodeType==1&&(n[e.tagName]=e.firstChild?e.firstChild.nodeValue:"")}n.text||(n.text=r.firstChild?r.firstChild.nodeValue:"")}return n},_getCollections:function(r){for(var o={},n=l.ajax.xpath("//coll_options",r),t=0;t<n.length;t++)for(var e=o[n[t].getAttribute("for")]=[],a=l.ajax.xpath(".//item",n[t]),i=0;i<a.length;i++){for(var s=a[i].attributes,d={key:a[i].getAttribute("value"),label:a[i].getAttribute("label")},f=0;f<s.length;f++){var _=s[f];_.nodeName!="value"&&_.nodeName!="label"&&(d[_.nodeName]=_.nodeValue)}e.push(d)}return o},_getXML:function(r,o,n){n=n||"data",o.getXMLTopNode||(o=l.ajax.parse(o));var t=l.ajax.xmltop(n,o.xmlDoc);t&&t.tagName==n||function(a){throw l.assert(!1,"Can't parse data: incorrect value of gantt.parse or gantt.load method. Actual argument value: "+JSON.stringify(a)),new Error("Invalid argument for gantt.parse or gantt.load. An XML of format https://docs.dhtmlx.com/gantt/desktop__supported_data_formats.html#xmldhtmlxgantt20 is expected. Actual argument value: "+JSON.stringify(a))}(r);var e=t.getAttribute("dhx_security");return e&&(l.security_key=e),t},parse:function(r,o){o=this._getXML(r,o);for(var n={},t=n.data=[],e=l.ajax.xpath("//task",o),a=0;a<e.length;a++)t[a]=this._xmlNodeToJSON(e[a]);return n.collections=this._getCollections(o),n},_copyLink:function(r){return"<item id='"+r.id+"' source='"+r.source+"' target='"+r.target+"' type='"+r.type+"' />"},_copyObject:function(r){return"<task id='"+r.id+"' parent='"+(r.parent||"")+"' start_date='"+r.start_date+"' duration='"+r.duration+"' open='"+!!r.open+"' progress='"+r.progress+"' end_date='"+r.end_date+"'><![CDATA["+r.text+"]]></task>"},serialize:function(){for(var r=[],o=[],n=l.json.serialize(),t=0,e=n.data.length;t<e;t++)r.push(this._copyObject(n.data[t]));for(t=0,e=n.links.length;t<e;t++)o.push(this._copyLink(n.links[t]));return"<data>"+r.join("")+"<coll_options for='links'>"+o.join("")+"</coll_options></data>"}},l.oldxml={parse:function(r,o){o=l.xml._getXML(r,o,"projects");for(var n={collections:{links:[]}},t=n.data=[],e=l.ajax.xpath("//task",o),a=0;a<e.length;a++){t[a]=l.xml._xmlNodeToJSON(e[a]);var i=e[a].parentNode;i.tagName=="project"?t[a].parent="project-"+i.getAttribute("id"):t[a].parent=i.parentNode.getAttribute("id")}for(e=l.ajax.xpath("//project",o),a=0;a<e.length;a++)(s=l.xml._xmlNodeToJSON(e[a],!0)).id="project-"+s.id,t.push(s);for(a=0;a<t.length;a++){var s;(s=t[a]).start_date=s.startdate||s.est,s.end_date=s.enddate,s.text=s.name,s.duration=s.duration/8,s.open=1,s.duration||s.end_date||(s.duration=1),s.predecessortasks&&n.collections.links.push({target:s.id,source:s.predecessortasks,type:l.config.links.finish_to_start})}return n},serialize:function(){l.message("Serialization to 'old XML' is not implemented")}},l.serverList=function(r,o){return o?this.serverList[r]=o.slice(0):this.serverList[r]||(this.serverList[r]=[]),this.serverList[r]}}},function(T,C){T.exports=function(u){u.isReadonly=function(g){return typeof g!="number"&&typeof g!="string"||!u.isTaskExists(g)||(g=u.getTask(g)),(!g||!g[this.config.editable_property])&&(g&&g[this.config.readonly_property]||this.config.readonly)}}},function(T,C){T.exports=function(u){u.getGridColumn=function(g){for(var h=u.config.columns,l=0;l<h.length;l++)if(h[l].name==g)return h[l];return null},u.getGridColumns=function(){return u.config.columns.slice()}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=function(){function h(l){this._scrollOrder=0;var c=l.gantt,r=l.grid,o=l.dnd,n=l.getCurrentX;this.$gantt=c,this.$grid=r,this._dnd=o,this.getCurrentX=n,this._scrollView=this.$gantt.$ui.getView(this.$grid.$config.scrollX),this.attachEvents()}return h.prototype.attachEvents=function(){var l=this;this.isScrollable()&&(this._dnd.attachEvent("onDragMove",function(c,r){var o=l.$grid.$grid.getBoundingClientRect(),n=o.right,t=o.left,e=l.getCurrentX(r.clientX);return e>=n-20&&(l.autoscrollRight(),l.autoscrollStart()),e<=t+20&&(l.autoscrollLeft(),l.autoscrollStart()),e<n-20&&e>t+20&&l.autoscrollStop(),!0}),this._dnd.attachEvent("onDragEnd",function(){l.autoscrollStop()}))},h.prototype.autoscrollStart=function(){var l=this;if(this._scrollOrder!==0){var c=10*this._scrollOrder,r=this._scrollView.getScrollState();this._scrollView.scrollTo(r.position+c),setTimeout(function(){l.autoscrollStart()},50)}},h.prototype.autoscrollRight=function(){this._scrollOrder=1},h.prototype.autoscrollLeft=function(){this._scrollOrder=-1},h.prototype.autoscrollStop=function(){this._scrollOrder=0},h.prototype.getCorrection=function(){return this.isScrollable()?this._scrollView.getScrollState().position:0},h.prototype.isScrollable=function(){return!!this.$grid.$config.scrollable},h}();C.default=g},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=u(1),h=u(182),l=function(){function c(r,o){var n=this;this._targetMarker=null,this.calculateCurrentPosition=function(t){var e=n.$grid.$grid.getBoundingClientRect(),a=e.right,i=e.left,s=t;return s>a&&(s=a),s<i&&(s=i),s},this.$gantt=r,this.$grid=o}return c.prototype.init=function(){var r=this.$gantt.$services.getService("dnd");this._dnd=new r(this.$grid.$grid_scale,{updates_per_second:60}),this._scrollableGrid=new h.default({gantt:this.$gantt,grid:this.$grid,dnd:this._dnd,getCurrentX:this.calculateCurrentPosition}),this.attachEvents()},c.prototype.attachEvents=function(){var r=this;this._dnd.attachEvent("onBeforeDragStart",function(o,n){if(r._draggedCell=r.$gantt.utils.dom.closest(n.target,".gantt_grid_head_cell"),r._draggedCell){var t,e,a=r.$grid.$getConfig().columns,i=r._draggedCell.getAttribute("data-column-id");return a.map(function(s,d){s.name===i&&(t=s,e=d)}),r.$grid.callEvent("onBeforeColumnDragStart",[{draggedColumn:t,draggedIndex:e}])===!1?!1:!(!r._draggedCell||!t)&&(r._gridConfig=r.$grid.$getConfig(),r._originAutoscroll=r.$gantt.config.autoscroll,r.$gantt.config.autoscroll=!1,!0)}}),this._dnd.attachEvent("onAfterDragStart",function(o,n){r._draggedCell&&(r._dnd.config.column=r._draggedCell.getAttribute("data-column-id"),r._dnd.config.marker.innerHTML=r._draggedCell.outerHTML,r._dnd.config.marker.classList.add("gantt_column_drag_marker"),r._dnd.config.marker.style.height=r._gridConfig.scale_height+"px",r._dnd.config.marker.style.lineHeight=r._gridConfig.scale_height+"px",r._draggedCell.classList.add("gantt_grid_head_cell_dragged"))}),this._dnd.attachEvent("onDragMove",function(o,n){if(r._draggedCell){r._dragX=n.clientX;var t=r.calculateCurrentPosition(n.clientX),e=r.findColumnsIndexes(),a=e.targetIndex,i=e.draggedIndex,s=r.$grid.$getConfig().columns,d=s[i],f=s[a];return r.$grid.callEvent("onColumnDragMove",[{draggedColumn:d,targetColumn:f,draggedIndex:i,targetIndex:a}])===!1?(r.cleanTargetMarker(),!1):(r.setMarkerPosition(t),r.drawTargetMarker(e),!0)}}),this._dnd.attachEvent("onDragEnd",function(){r._draggedCell&&(r.$gantt.config.autoscroll=r._originAutoscroll,r._draggedCell.classList.remove("gantt_grid_head_cell_dragged"),r.cleanTargetMarker(),r.reorderColumns())})},c.prototype.reorderColumns=function(){var r=this.findColumnsIndexes(),o=r.targetIndex,n=r.draggedIndex,t=this.$grid.$getConfig().columns,e=t[n],a=t[o];this.$grid.callEvent("onBeforeColumnReorder",[{draggedColumn:e,targetColumn:a,draggedIndex:n,targetIndex:o}])!==!1&&o!==n&&(t.splice(n,1),t.splice(o,0,e),this.$gantt.render(),this.$grid.callEvent("onAfterColumnReorder",[{draggedColumn:e,targetColumn:a,draggedIndex:n,targetIndex:o}]))},c.prototype.findColumnsIndexes=function(){var r,o,n,t,e,a=this._dnd.config.column,i=this.$grid.$getConfig().columns,s={startX:0,endX:0},d=0,f=i.length-1,_=function(m,k){return m<=k},p=function(m){return++m};this.$gantt.config.rtl&&(d=i.length-1,f=0,_=function(m,k){return m>=k},p=function(m){return--m});for(var v=this._dragX-this.$grid.$grid.getBoundingClientRect().left+this._scrollableGrid.getCorrection(),y=d;_(y,f)&&(r===void 0||o===void 0);y=p(y))i[y].hide||(s.startX=s.endX,s.endX+=i[y].width,v>=s.startX&&(v<=s.endX||!_(p(y),f))&&(r=y,n=s.startX,t=s.endX,e=(v-s.startX)/(s.endX-s.startX)),a===i[y].name&&(o=y));return{targetIndex:r,draggedIndex:o,xBefore:n,xAfter:t,columnRelativePos:e}},c.prototype.setMarkerPosition=function(r,o){o===void 0&&(o=10);var n=this._dnd.config.marker,t=this._dnd._obj.getBoundingClientRect();n.style.top=t.y+o+"px",n.style.left=r+"px"},c.prototype.drawTargetMarker=function(r){var o,n=r.targetIndex,t=r.draggedIndex,e=r.xBefore,a=r.xAfter,i=r.columnRelativePos;this._targetMarker||(this._targetMarker=document.createElement("div"),g.addClassName(this._targetMarker,"gantt_grid_target_marker"),this._targetMarker.style.display="none",this._targetMarker.style.height=this._gridConfig.scale_height+"px"),this._targetMarker.parentNode||this.$grid.$grid_scale.appendChild(this._targetMarker),o=n>t?a:n<t?e:i>.5?a:e,this._targetMarker.style.left=o+"px",this._targetMarker.style.display="block"},c.prototype.cleanTargetMarker=function(){this._targetMarker&&this._targetMarker.parentNode&&this.$grid.$grid_scale.removeChild(this._targetMarker),this._targetMarker=null},c}();C.ColumnsGridDnd=l},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=u(183);C.default=g.ColumnsGridDnd},function(T,C,u){var g=u(1);T.exports=function(h,l){var c={row_before_start:h.bind(function(r,o,n){var t=l.$getConfig(),e=l.$config.rowStore;if(!g.locateAttribute(n,t.task_grid_row_resizer_attribute))return!1;var a=this.locate(n,t.task_grid_row_resizer_attribute),i=e.getItem(a);return l.callEvent("onBeforeRowResize",[i])!==!1&&void 0},h),row_after_start:h.bind(function(r,o,n){var t=l.$getConfig(),e=this.locate(n,t.task_grid_row_resizer_attribute);r.config.marker.innerHTML="",r.config.marker.className+=" gantt_row_grid_resize_area",r.config.marker.style.width=l.$grid.offsetWidth+"px",r.config.drag_id=e},h),row_drag_move:h.bind(function(r,o,n){var t=l.$config.rowStore,e=l.$getConfig(),a=r.config,i=a.drag_id,s=l.getItemHeight(i),d=l.getItemTop(i),f=g.getNodePosition(l.$grid_data),_=parseInt(a.marker.style.top,10),p=d+f.y,v=0,y=e.min_task_grid_row_height;return(v=_-p)<y&&(v=y),a.marker.style.left=f.x+"px",a.marker.style.top=p-1+"px",a.marker.style.height=Math.abs(v)+1+"px",a.marker_height=v,l.callEvent("onRowResize",[i,t.getItem(i),v+s]),!0},h),row_drag_end:h.bind(function(r,o,n){var t=l.$config.rowStore,e=r.config,a=e.drag_id,i=t.getItem(a),s=l.getItemHeight(a),d=e.marker_height;l.callEvent("onBeforeRowResizeEnd",[a,i,d])!==!1&&i.row_height!=d&&(i.row_height=d,h.updateTask(a),l.callEvent("onAfterRowResize",[a,i,s,d]),this.render())},h)};return{init:function(){var r=h.$services.getService("dnd"),o=l.$getConfig(),n=new r(l.$grid_data,{updates_per_second:60});h.defined(o.dnd_sensitivity)&&(n.config.sensitivity=o.dnd_sensitivity),n.attachEvent("onBeforeDragStart",function(t,e){return c.row_before_start(n,t,e)}),n.attachEvent("onAfterDragStart",function(t,e){return c.row_after_start(n,t,e)}),n.attachEvent("onDragMove",function(t,e){return c.row_drag_move(n,t,e)}),n.attachEvent("onDragEnd",function(t,e){return c.row_drag_end(n,t,e)})}}}},function(T,C){T.exports=function(u){var g=-1,h=-1;return{resetCache:function(){g=-1,h=-1},_getRowHeight:function(){return g===-1&&(g=u.$getConfig().row_height),g},_refreshState:function(){this.resetCache(),h=!0;var l=u.$config.rowStore;if(l)for(var c=this._getRowHeight(),r=0;r<l.fullOrder.length;r++){var o=l.getItem(l.fullOrder[r]);if(o&&o.row_height&&o.row_height!==c){h=!1;break}}},canUseSimpleCalculation:function(){return h===-1&&this._refreshState(),h},getRowTop:function(l){return u.$config.rowStore?l*this._getRowHeight():0},getItemHeight:function(l){return this._getRowHeight()},getTotalHeight:function(){return u.$config.rowStore?u.$config.rowStore.countVisible()*this._getRowHeight():0},getItemIndexByTopPosition:function(l){return u.$config.rowStore?Math.floor(l/this._getRowHeight()):0}}}},function(T,C){T.exports=function(u,g){return{init:function(){},doOnRender:function(){}}}},function(T,C,u){var g=u(25);T.exports=function(h){u(181)(h),g.prototype.getGridColumns=function(){for(var l=this.$getConfig().columns,c=[],r=0;r<l.length;r++)l[r].hide||c.push(l[r]);return c}}},function(T,C,u){T.exports=function(g){var h=u(40),l={};g.attachEvent("onClearAll",function(){l={}});var c=h.prototype.hasChild;g.$data.tasksStore.hasChild=function(r){return g.config.branch_loading?!!c.call(this,r)||!!this.exists(r)&&this.getItem(r)[g.config.branch_loading_property]:c.call(this,r)},g.attachEvent("onTaskOpened",function(r){if(g.config.branch_loading&&g._load_url&&function(a){return!(!g.config.branch_loading||!g._load_url||l[a]||g.getChildren(a).length||!g.hasChild(a))}(r)){var o=g._load_url,n=(o=o.replace(/(\?|&)?parent_id=.+&?/,"")).indexOf("?")>=0?"&":"?",t=g.getScrollState().y||0,e={taskId:r,url:o+n+"parent_id="+encodeURIComponent(r)};if(g.callEvent("onBeforeBranchLoading",[e])===!1)return;g.load(e.url,this._load_type,function(){t&&g.scrollTo(null,t),g.callEvent("onAfterBranchLoading",[e])}),l[r]=!0}})}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(g){g.ext=g.ext||{},g.config.show_empty_state=!1,g.ext.emptyStateElement=g.ext.emptyStateElement||{isEnabled:function(){return g.config.show_empty_state===!0},isGanttEmpty:function(){return!g.getTaskByTime().length},renderContent:function(h){var l=`<div class='gantt_empty_state'><div class='gantt_empty_state_image'></div><div class='gantt_empty_state_text'>
    <div class='gantt_empty_state_text_link' data-empty-state-create-task>`+g.locale.labels.empty_state_text_link+`</div>
    <div class='gantt_empty_state_text_description'>`+g.locale.labels.empty_state_text_description+`</div>
    </div></div>`;h.innerHTML=l},clickEvents:[],attachAddTaskEvent:function(){var h=g.attachEvent("onEmptyClick",function(l){g.utils.dom.closest(l.target,"[data-empty-state-create-task]")&&g.createTask({id:g.uid(),text:"New Task"})});this.clickEvents.push(h)},detachAddTaskEvents:function(){this.clickEvents.forEach(function(h){g.detachEvent(h)}),this.clickEvents=[]},getContainer:function(){if(g.$container){var h=g.utils.dom;if(g.$container.contains(g.$grid_data))return h.closest(g.$grid_data,".gantt_layout_content");if(g.$container.contains(g.$task_data))return h.closest(g.$task_data,".gantt_layout_content")}return null},getNode:function(){var h=this.getContainer();return h?h.querySelector(".gantt_empty_state_wrapper"):null},show:function(){var h=this.getContainer();if(!h&&this.isGanttEmpty())return null;var l=document.createElement("div");l.className="gantt_empty_state_wrapper",l.style.marginTop=g.config.scale_height-h.offsetHeight+"px";var c=g.$container.querySelectorAll(".gantt_empty_state_wrapper");Array.prototype.forEach.call(c,function(r){r.parentNode.removeChild(r)}),this.detachAddTaskEvents(),this.attachAddTaskEvent(),h.appendChild(l),this.renderContent(l)},hide:function(){var h=this.getNode();if(!h)return!1;h.parentNode.removeChild(h)},init:function(){}},g.attachEvent("onDataRender",function(){var h=g.ext.emptyStateElement;h.isEnabled()&&h.isGanttEmpty()?h.show():h.hide()})}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=function(){function h(l){var c=this;this.format=function(r){return c._getWBSCode(r.source)},this.canParse=function(r){return c._linkReg.test(r)},this.parse=function(r){if(!c.canParse(r))return null;var o=c._linkReg.exec(r)[0].trim();return{id:void 0,source:c._findSource(o)||null,target:null,type:c._gantt.config.links.finish_to_start,lag:0}},this._getWBSCode=function(r){var o=c._gantt.getTask(r);return c._gantt.getWBSCode(o)},this._findSource=function(r){var o=new RegExp("^[0-9.]+","i");if(o.exec(r)){var n=o.exec(r)[0],t=c._gantt.getTaskByWBSCode(n);if(t)return t.id}return null},this._linkReg=/^[0-9\.]+/,this._gantt=l}return h.create=function(l,c){return new h(c)},h}();C.default=g},function(T,C,u){var g=u(37).default,h=u(191).default;T.exports=function(l){l.ext.formatters={durationFormatter:function(c){return c||(c={}),c.store||(c.store=l.config.duration_unit),c.enter||(c.enter=l.config.duration_unit),g.create(c,l)},linkFormatter:function(c){return h.create(c,l)}}}},function(T,C){T.exports=function(u){function g(a){return function(){return!u.config.auto_types||u.getTaskType(u.config.types.project)!=u.config.types.project||a.apply(this,arguments)}}function h(a,i){var s=u.getTask(a),d=r(s);d!==!1&&u.getTaskType(s)!==d&&(i.$needsUpdate=!0,i[s.id]={task:s,type:d})}function l(a){if(!u.getState().group_mode){var i=function(s,d){return h(s,d=d||{}),u.eachParent(function(f){h(f.id,d)},s),d}(a);i.$needsUpdate&&u.batchUpdate(function(){(function(s){for(var d in s)if(s[d]&&s[d].task){var f=s[d].task;f.type=s[d].type,u.updateTask(f.id)}})(i)})}}var c;function r(a){var i=u.config.types,s=u.hasChild(a.id),d=u.getTaskType(a.type);return s&&d===i.task?i.project:!s&&d===i.project&&i.task}var o,n,t=!0;function e(a){a!=u.config.root_id&&u.isTaskExists(a)&&l(a)}u.attachEvent("onParse",g(function(){t=!1,u.getState().group_mode||(u.batchUpdate(function(){u.eachTask(function(a){var i=r(a);i!==!1&&function(s,d){u.getState().group_mode||(s.type=d,u.updateTask(s.id))}(a,i)})}),t=!0)})),u.attachEvent("onAfterTaskAdd",g(function(a){t&&l(a)})),u.attachEvent("onAfterTaskUpdate",g(function(a){t&&l(a)})),u.attachEvent("onBeforeTaskDelete",g(function(a,i){return c=u.getParent(a),!0})),u.attachEvent("onAfterTaskDelete",g(function(a,i){e(c)})),u.attachEvent("onRowDragStart",g(function(a,i,s){return o=u.getParent(a),!0})),u.attachEvent("onRowDragEnd",g(function(a,i){e(o),l(a)})),u.attachEvent("onBeforeTaskMove",g(function(a,i,s){return n=u.getParent(a),!0})),u.attachEvent("onAfterTaskMove",g(function(a,i,s){document.querySelector(".gantt_drag_marker")||(e(n),l(a))}))}},function(T,C){T.exports=function(u){function g(n){return function(){return!u.config.placeholder_task||n.apply(this,arguments)}}function h(){var n=u.getTaskBy("type",u.config.types.placeholder);if(!n.length||!u.isTaskExists(n[0].id)){var t={unscheduled:!0,type:u.config.types.placeholder,duration:0,text:u.locale.labels.new_task};if(u.callEvent("onTaskCreated",[t])===!1)return;u.addTask(t)}}function l(n){var t=u.getTask(n);t.type==u.config.types.placeholder&&(t.start_date&&t.end_date&&t.unscheduled&&(t.unscheduled=!1),u.batchUpdate(function(){var e=u.copy(t);u.silent(function(){u.deleteTask(t.id)}),delete e["!nativeeditor_status"],e.type=u.config.types.task,e.id=u.uid(),u.addTask(e)}))}u.config.types.placeholder="placeholder",u.attachEvent("onDataProcessorReady",g(function(n){n&&!n._silencedPlaceholder&&(n._silencedPlaceholder=!0,n.attachEvent("onBeforeUpdate",g(function(t,e,a){return a.type!=u.config.types.placeholder||(n.setUpdated(t,!1),!1)})))}));var c=!1;function r(n){return!!(u.config.types.placeholder&&u.isTaskExists(n)&&u.getTask(n).type==u.config.types.placeholder)}function o(n){return!(!r(n.source)&&!r(n.target))}u.attachEvent("onGanttReady",function(){c||(c=!0,u.attachEvent("onAfterTaskUpdate",g(l)),u.attachEvent("onAfterTaskAdd",g(function(n,t){t.type!=u.config.types.placeholder&&(u.getTaskBy("type",u.config.types.placeholder).forEach(function(e){u.silent(function(){u.isTaskExists(e.id)&&u.deleteTask(e.id)})}),h())})),u.attachEvent("onParse",g(h)))}),u.attachEvent("onLinkValidation",function(n){return!o(n)}),u.attachEvent("onBeforeLinkAdd",function(n,t){return!o(t)}),u.attachEvent("onBeforeUndoStack",function(n){for(var t=0;t<n.commands.length;t++){var e=n.commands[t];e.entity==="task"&&e.value.type===u.config.types.placeholder&&(n.commands.splice(t,1),t--)}return!0})}},function(T,C){T.exports=function(u){var g="$resourceAssignments";u.config.resource_assignment_store="resourceAssignments",u.config.process_resource_assignments=!0;var h={auto:"auto",singleValue:"singleValue",valueArray:"valueArray",resourceValueArray:"resourceValueArray",assignmentsArray:"assignmentsArray"},l=h.auto,c={fixedDates:"fixedDates",fixedDuration:"fixedDuration",default:"default"};function r(f,_){f.start_date?f.start_date=u.date.parseDate(f.start_date,"parse_date"):f.start_date=null,f.end_date?f.end_date=u.date.parseDate(f.end_date,"parse_date"):f.end_date=null;var p=Number(f.delay),v=!1;if(isNaN(p)?(f.delay=0,v=!0):f.delay=p,u.defined(f.value)||(f.value=null),!f.task_id||!f.resource_id)return!1;if(f.mode=f.mode||c.default,f.mode===c.fixedDuration&&(isNaN(Number(f.duration))&&(_=_||u.getTask(f.task_id),f.duration=u.calculateDuration({start_date:f.start_date,end_date:f.end_date,id:_})),v&&(_=_||u.getTask(f.task_id),f.delay=u.calculateDuration({start_date:_.start_date,end_date:f.start_date,id:_}))),f.mode!==c.fixedDates&&(_||u.isTaskExists(f.task_id))){var y=n(f,_=_||u.getTask(f.task_id));f.start_date=y.start_date,f.end_date=y.end_date,f.duration=y.duration}}var o=u.createDatastore({name:u.config.resource_assignment_store,initItem:function(f){return f.id||(f.id=u.uid()),r(f),f}});function n(f,_){if(f.mode===c.fixedDates)return{start_date:f.start_date,end_date:f.end_date,duration:f.duration};var p,v,y=f.delay?u.calculateEndDate({start_date:_.start_date,duration:f.delay,task:_}):new Date(_.start_date);return f.mode===c.fixedDuration?(p=u.calculateEndDate({start_date:y,duration:f.duration,task:_}),v=f.duration):(p=new Date(_.end_date),v=_.duration-f.delay),{start_date:y,end_date:p,duration:v}}function t(f){var _=u.config.resource_property,p=f[_],v=[],y=l===h.auto;if(u.defined(p)&&p){Array.isArray(p)||(p=[p],y&&(l=h.singleValue,y=!1));var m={};p.forEach(function(k){k.resource_id||(k={resource_id:k},y&&(l=h.valueArray,y=!1)),y&&(k.id&&k.resource_id?(l=h.assignmentsArray,y=!1):(l=h.resourceValueArray,y=!1));var b,w=c.default;k.mode||(k.start_date&&k.end_date||k.start_date&&k.duration)&&(w=c.fixedDuration),b=k.id||!k.$id||m[k.$id]?k.id&&!m[k.id]?k.id:u.uid():k.$id,m[b]=!0;var x={id:b,start_date:k.start_date,duration:k.duration,end_date:k.end_date,delay:k.delay,task_id:f.id,resource_id:k.resource_id,value:k.value,mode:k.mode||w};x.start_date&&x.start_date.getMonth&&x.end_date&&x.end_date.getMonth&&typeof x.duration=="number"||r(x,f),v.push(x)})}return v}function e(f){if(u.isTaskExists(f)){var _=u.getTask(f);a(_,u.getTaskAssignments(_.id))}}function a(f,_){_.sort(function(p,v){return p.start_date&&v.start_date&&p.start_date.valueOf()!=v.start_date.valueOf()?p.start_date-v.start_date:0}),l==h.assignmentsArray?f[u.config.resource_property]=_:l==h.resourceValueArray&&(f[u.config.resource_property]=_.map(function(p){return{$id:p.id,start_date:p.start_date,duration:p.duration,end_date:p.end_date,delay:p.delay,resource_id:p.resource_id,value:p.value,mode:p.mode}})),f[g]=_}function i(f){var _=t(f);return _.forEach(function(p){p.id=p.id||u.uid()}),_}function s(f,_){var p=function(v,y){var m={inBoth:[],inTaskNotInStore:[],inStoreNotInTask:[]};if(l==h.singleValue){var k=v[0],b=k?k.resource_id:null,w=!1;y.forEach(function(E){E.resource_id!=b?m.inStoreNotInTask.push(E):E.resource_id==b&&(m.inBoth.push({store:E,task:k}),w=!0)}),!w&&k&&m.inTaskNotInStore.push(k)}else if(l==h.valueArray){var x={},$={},S={};v.forEach(function(E){x[E.resource_id]=E}),y.forEach(function(E){$[E.resource_id]=E}),v.concat(y).forEach(function(E){if(!S[E.resource_id]){S[E.resource_id]=!0;var M=x[E.resource_id],D=$[E.resource_id];M&&D?m.inBoth.push({store:D,task:M}):M&&!D?m.inTaskNotInStore.push(M):!M&&D&&m.inStoreNotInTask.push(D)}})}else l!=h.assignmentsArray&&l!=h.resourceValueArray||(x={},$={},S={},v.forEach(function(E){x[E.id||E.$id]=E}),y.forEach(function(E){$[E.id]=E}),v.concat(y).forEach(function(E){var M=E.id||E.$id;if(!S[M]){S[M]=!0;var D=x[M],A=$[M];D&&A?m.inBoth.push({store:A,task:D}):D&&!A?m.inTaskNotInStore.push(D):!D&&A&&m.inStoreNotInTask.push(A)}}));return m}(t(f),_);p.inStoreNotInTask.forEach(function(v){o.removeItem(v.id)}),p.inTaskNotInStore.forEach(function(v){o.addItem(v)}),p.inBoth.forEach(function(v){if(function(m,k){var b={id:!0};for(var w in m)if(!b[w]&&String(m[w])!==String(k[w]))return!0;return!1}(v.task,v.store))(function(m,k){var b={id:!0};for(var w in m)b[w]||(k[w]=m[w])})(v.task,v.store),o.updateItem(v.store.id);else if(v.task.start_date&&v.task.end_date&&v.task.mode!==c.fixedDates){var y=n(v.store,f);v.store.start_date.valueOf()==y.start_date.valueOf()&&v.store.end_date.valueOf()==y.end_date.valueOf()||(v.store.start_date=y.start_date,v.store.end_date=y.end_date,v.store.duration=y.duration,o.updateItem(v.store.id))}}),e(f.id)}function d(f){var _=f[g]||o.find(function(p){return p.task_id==f.id});s(f,_)}u.$data.assignmentsStore=o,u.attachEvent("onGanttReady",function(){if(u.config.process_resource_assignments){u.attachEvent("onParse",function(){u.silent(function(){o.clearAll();var k=[];u.eachTask(function(b){if(b.type!==u.config.types.project){var w=i(b);a(b,w),w.forEach(function(x){k.push(x)})}}),o.parse(k)})});var f=!1,_=!1,p={};u.attachEvent("onBeforeBatchUpdate",function(){f=!0}),u.attachEvent("onAfterBatchUpdate",function(){if(_){var k={};for(var b in p)k[b]=u.getTaskAssignments(p[b].id);for(var b in p)s(p[b],k[b])}_=!1,f=!1,p={}}),u.attachEvent("onTaskCreated",function(k){var b=i(k);return o.parse(b),a(k,b),!0}),u.attachEvent("onAfterTaskUpdate",function(k,b){f?(_=!0,p[k]=b):d(b)}),u.attachEvent("onAfterTaskAdd",function(k,b){f?(_=!0,p[k]=b):d(b)}),u.attachEvent("onRowDragEnd",function(k){d(u.getTask(k))}),u.$data.tasksStore.attachEvent("onAfterDeleteConfirmed",function(k,b){var w=[k];u.eachTask(function(x){w.push(x.id)},k),function(x){var $={};x.forEach(function(S){$[S]=!0}),o.find(function(S){return $[S.task_id]}).forEach(function(S){o.removeItem(S.id)})}(w)}),u.$data.tasksStore.attachEvent("onClearAll",function(){return v=null,y=null,m=null,o.clearAll(),!0}),u.attachEvent("onTaskIdChange",function(k,b){o.find(function(w){return w.task_id==k}).forEach(function(w){w.task_id=b,o.updateItem(w.id)}),e(b)});var v=null,y=null,m=null;o.attachEvent("onStoreUpdated",function(){return!!f||(v=null,y=null,m=null,!0)}),u.getResourceAssignments=function(k,b){var w=u.defined(b)&&b!==null;return v===null&&(v={},y={},o.eachItem(function(x){v[x.resource_id]||(v[x.resource_id]=[]),v[x.resource_id].push(x);var $=x.resource_id+"-"+x.task_id;y[$]||(y[$]=[]),y[$].push(x)})),w?(y[k+"-"+b]||[]).slice():(v[k]||[]).slice()},u.getTaskAssignments=function(k){if(m===null){var b=[];m={},o.eachItem(function(w){m[w.task_id]||(m[w.task_id]=[]),m[w.task_id].push(w),w.task_id==k&&b.push(w)})}return(m[k]||[]).slice()},u.getTaskResources=function(k){var b=u.getDatastore("resource"),w={};u.getTaskAssignments(k).forEach(function(E){w[E.resource_id]||(w[E.resource_id]=E.resource_id)});var x=[];for(var $ in w){var S=b.getItem(w[$]);S&&x.push(S)}return x},u.updateTaskAssignments=e}},{once:!0})}},function(T,C,u){var g=u(2);function h(l){var c={},r=!1;l.$data.tasksStore.attachEvent("onStoreUpdated",function(){c={},r=!1}),l.attachEvent("onBeforeGanttRender",function(){c={}});var o=String(Math.random());function n(i){return i===null?o+String(i):String(i)}function t(i,s,d){return Array.isArray(i)?i.map(function(f){return n(f)}).join("_")+"_".concat(s,"_").concat(d):n(i)+"_".concat(s,"_").concat(d)}function e(i,s,d){var f,_=t(s,i,JSON.stringify(d)),p={};return g.forEach(s,function(v){p[n(v)]=!0}),c[_]?f=c[_]:(f=c[_]=[],l.eachTask(function(v){if(d){if(!d[l.getTaskType(v)])return}else if(v.type==l.config.types.project)return;var y;i in v&&(y=g.isArray(v[i])?v[i]:[v[i]],g.forEach(y,function(m){var k=m&&m.resource_id?m.resource_id:m;if(p[n(k)])f.push(v);else if(!r){var b=t(m,i);c[b]||(c[b]=[]),c[b].push(v)}}))}),r=!0),f}function a(i,s,d){var f=l.config.resource_property,_=[];if(l.getDatastore("task").exists(s)){var p=l.getTask(s);_=p[f]||[]}Array.isArray(_)||(_=[_]);for(var v=0;v<_.length;v++)_[v].resource_id==i&&d.push({task_id:p.id,resource_id:_[v].resource_id,value:_[v].value})}return{getTaskBy:function(i,s,d){return typeof i=="function"?function(f){var _=[];return l.eachTask(function(p){f(p)&&_.push(p)}),_}(i):g.isArray(s)?e(i,s,d):e(i,[s],d)},getResourceAssignments:function(i,s){var d=[],f=l.config.resource_property;return s!==void 0?a(i,s,d):l.getTaskBy(f,i).forEach(function(_){a(i,_.id,d)}),d}}}T.exports=function(l){var c=h(l);l.ext.resources=function(n){var t={renderEditableLabel:function(e,a,i,s,d){var f=n.config.readonly?"":"contenteditable";if(e<i.end_date&&a>i.start_date){for(var _=0;_<d.length;_++){var p=d[_];return"<div "+f+" data-assignment-cell data-assignment-id='"+p.id+"' data-row-id='"+i.id+"' data-task='"+i.$task_id+"' data-start-date='"+n.templates.format_date(e)+"' data-end-date='"+n.templates.format_date(a)+"'>"+p.value+"</div>"}return"<div "+f+" data-assignment-cell data-empty  data-row-id='"+i.id+"' data-resource-id='"+i.$resource_id+"' data-task='"+i.$task_id+"' data-start-date='"+n.templates.format_date(e)+"''  data-end-date='"+n.templates.format_date(a)+"'>-</div>"}return""},renderSummaryLabel:function(e,a,i,s,d){var f=d.reduce(function(_,p){return _+Number(p.value)},0);return f%1&&(f=Math.round(10*f)/10),f?"<div>"+f+"</div>":""},editableResourceCellTemplate:function(e,a,i,s,d){return i.$role==="task"?t.renderEditableLabel(e,a,i,s,d):t.renderSummaryLabel(e,a,i,s,d)},editableResourceCellClass:function(e,a,i,s,d){var f=[];f.push("resource_marker"),i.$role==="task"?f.push("task_cell"):f.push("resource_cell");var _=d.reduce(function(v,y){return v+Number(y.value)},0),p=Number(i.capacity);return isNaN(p)&&(p=8),_<=p?f.push("workday_ok"):f.push("workday_over"),f.join(" ")},getSummaryResourceAssignments:function(e){var a,i=n.getDatastore(n.config.resource_store),s=i.getItem(e);return s.$role==="task"?a=n.getResourceAssignments(s.$resource_id,s.$task_id):(a=n.getResourceAssignments(e),i.eachItem&&i.eachItem(function(d){d.$role!=="task"&&(a=a.concat(n.getResourceAssignments(d.id)))},e)),a},initEditableDiagram:function(){n.config.resource_render_empty_cells=!0,function(){var e=null;function a(){return e&&cancelAnimationFrame(e),e=requestAnimationFrame(function(){Array.prototype.slice.call(n.$container.querySelectorAll(".resourceTimeline_cell [data-assignment-cell]")).forEach(function(i){i.contentEditable=!0})}),!0}n.attachEvent("onGanttReady",function(){n.getDatastore(n.config.resource_assignment_store).attachEvent("onStoreUpdated",a),n.getDatastore(n.config.resource_store).attachEvent("onStoreUpdated",a)},{once:!0}),n.attachEvent("onGanttLayoutReady",function(){n.$layout.getCellsByType("viewCell").forEach(function(i){i.$config&&i.$config.view==="resourceTimeline"&&i.$content&&i.$content.attachEvent("onScroll",a)})})}(),n.attachEvent("onGanttReady",function(){var e=!1;n.event(n.$container,"keypress",function(a){var i=a.target.closest(".resourceTimeline_cell [data-assignment-cell]");i&&(a.keyCode!==13&&a.keyCode!==27||i.blur())}),n.event(n.$container,"focusout",function(a){if(!e){e=!0,setTimeout(function(){e=!1},300);var i=a.target.closest(".resourceTimeline_cell [data-assignment-cell]");if(i){var s=(i.innerText||"").trim();s=="-"&&(s="0");var d=Number(s),f=i.getAttribute("data-row-id"),_=i.getAttribute("data-assignment-id"),p=i.getAttribute("data-task"),v=i.getAttribute("data-resource-id"),y=n.templates.parse_date(i.getAttribute("data-start-date")),m=n.templates.parse_date(i.getAttribute("data-end-date")),k=n.getDatastore(n.config.resource_assignment_store);if(isNaN(d))n.getDatastore(n.config.resource_store).refresh(f);else{var b=n.getTask(p);if(_){if(d===(x=k.getItem(_)).value)return;if(x.start_date.valueOf()===y.valueOf()&&x.end_date.valueOf()===m.valueOf())x.value=d,d?k.updateItem(x.id):k.removeItem(x.id);else{if(x.end_date.valueOf()>m.valueOf()){var w=n.copy(x);w.id=n.uid(),w.start_date=m,w.duration=n.calculateDuration({start_date:w.start_date,end_date:w.end_date,task:b}),w.delay=n.calculateDuration({start_date:b.start_date,end_date:w.start_date,task:b}),w.mode=x.mode||"default",w.duration!==0&&k.addItem(w)}x.start_date.valueOf()<y.valueOf()?(x.end_date=y,x.duration=n.calculateDuration({start_date:x.start_date,end_date:x.end_date,task:b}),x.mode="fixedDuration",x.duration===0?k.removeItem(x.id):k.updateItem(x.id)):k.removeItem(x.id),d&&k.addItem({task_id:x.task_id,resource_id:x.resource_id,value:d,start_date:y,end_date:m,duration:n.calculateDuration({start_date:y,end_date:m,task:b}),delay:n.calculateDuration({start_date:b.start_date,end_date:y,task:b}),mode:"fixedDuration"})}n.updateTaskAssignments(b.id),n.updateTask(b.id)}else if(d){var x={task_id:p,resource_id:v,value:d,start_date:y,end_date:m,duration:n.calculateDuration({start_date:y,end_date:m,task:b}),delay:n.calculateDuration({start_date:b.start_date,end_date:y,task:b}),mode:"fixedDuration"};k.addItem(x),n.updateTaskAssignments(b.id),n.updateTask(b.id)}}}}})},{once:!0})}};return t}(l),l.config.resources={dataprocessor_assignments:!1,dataprocessor_resources:!1,editable_resource_diagram:!1,resource_store:{type:"treeDataStore",fetchTasks:!1,initItem:function(n){return n.parent=n.parent||l.config.root_id,n[l.config.resource_property]=n.parent,n.open=!0,n}},lightbox_resources:function(n){var t=[],e=l.getDatastore(l.config.resource_store);return n.forEach(function(a){if(!e.hasChild(a.id)){var i=l.copy(a);i.key=a.id,i.label=a.text,t.push(i)}}),t}},l.attachEvent("onBeforeGanttReady",function(){if(!l.getDatastore(l.config.resource_store)){var n=l.config.resources?l.config.resources.resource_store:void 0,t=n?n.fetchTasks:void 0;l.config.resources&&l.config.resources.editable_resource_diagram&&(t=!0);var e=function(i){return i.parent=i.parent||l.config.root_id,i[l.config.resource_property]=i.parent,i.open=!0,i};n&&n.initItem&&(e=n.initItem);var a=n&&n.type?n.type:"treeDatastore";l.$resourcesStore=l.createDatastore({name:l.config.resource_store,type:a,fetchTasks:t!==void 0&&t,initItem:e}),l.$data.resourcesStore=l.$resourcesStore,l.$resourcesStore.attachEvent("onParse",function(){var i=function(d){var f=[];return d.forEach(function(_){if(!l.$resourcesStore.hasChild(_.id)){var p=l.copy(_);p.key=_.id,p.label=_.text,f.push(p)}}),f};l.config.resources&&l.config.resources.lightbox_resources&&(i=l.config.resources.lightbox_resources);var s=i(l.$resourcesStore.getItems());l.updateCollection("resourceOptions",s)})}}),l.getTaskBy=c.getTaskBy,l.getResourceAssignments=c.getResourceAssignments,l.config.resource_property="owner_id",l.config.resource_store="resource",l.config.resource_render_empty_cells=!1,l.templates.histogram_cell_class=function(n,t,e,a,i){},l.templates.histogram_cell_label=function(n,t,e,a,i){return a.length+"/3"},l.templates.histogram_cell_allocated=function(n,t,e,a,i){return a.length/3},l.templates.histogram_cell_capacity=function(n,t,e,a,i){return 0};var r=function(n,t,e,a,i){return a.length<=1?"gantt_resource_marker_ok":"gantt_resource_marker_overtime"},o=function(n,t,e,a,i){return 8*a.length};l.templates.resource_cell_value=o,l.templates.resource_cell_class=r,l.attachEvent("onBeforeGanttReady",function(){l.config.resources&&l.config.resources.editable_resource_diagram&&(l.config.resource_render_empty_cells=!0,l.templates.resource_cell_value===o&&(l.templates.resource_cell_value=l.ext.resources.editableResourceCellTemplate),l.templates.resource_cell_class===r&&(l.templates.resource_cell_class=l.ext.resources.editableResourceCellClass),l.ext.resources.initEditableDiagram(l))})}},function(T,C){T.exports=function(u){var g=function(l){return{_needRecalc:!0,reset:function(){this._needRecalc=!0},_isRecalcNeeded:function(){return!this._isGroupSort()&&this._needRecalc},_isGroupSort:function(){return!!l.getState().group_mode},_getWBSCode:function(c){return c?(this._isRecalcNeeded()&&this._calcWBS(),c.$virtual?"":this._isGroupSort()?c.$wbs||"":(c.$wbs||(this.reset(),this._calcWBS()),c.$wbs)):""},_setWBSCode:function(c,r){c.$wbs=r},getWBSCode:function(c){return this._getWBSCode(c)},getByWBSCode:function(c){for(var r=c.split("."),o=l.config.root_id,n=0;n<r.length;n++){var t=l.getChildren(o),e=1*r[n]-1;if(!l.isTaskExists(t[e]))return null;o=t[e]}return l.isTaskExists(o)?l.getTask(o):null},_calcWBS:function(){if(this._isRecalcNeeded()){var c=!0;l.eachTask(function(r){if(c)return c=!1,void this._setWBSCode(r,"1");var o=l.getPrevSibling(r.id);if(o!==null){var n=l.getTask(o).$wbs;n&&((n=n.split("."))[n.length-1]++,this._setWBSCode(r,n.join(".")))}else{var t=l.getParent(r.id);this._setWBSCode(r,l.getTask(t).$wbs+".1")}},l.config.root_id,this),this._needRecalc=!1}}}}(u);function h(){return g.reset(),!0}u.getWBSCode=function(l){return g.getWBSCode(l)},u.getTaskByWBSCode=function(l){return g.getByWBSCode(l)},u.attachEvent("onAfterTaskMove",h),u.attachEvent("onBeforeParse",h),u.attachEvent("onAfterTaskDelete",h),u.attachEvent("onAfterTaskAdd",h),u.attachEvent("onAfterSort",h)}},function(T,C,u){var g=u(16);function h(l){var c={},r=!1;function o(a,i){i=typeof i=="function"?i:function(){},c[a]||(c[a]=this[a],this[a]=i)}function n(a){c[a]&&(this[a]=c[a],c[a]=null)}function t(){for(var a in c)n.call(this,a)}function e(a){try{a()}catch(i){g.console.error(i)}}return l.$services.getService("state").registerProvider("batchUpdate",function(){return{batch_update:r}},!1),function(a,i){if(r)e(a);else{var s,d=this._dp&&this._dp.updateMode!="off";d&&(s=this._dp.updateMode,this._dp.setUpdateMode("off"));var f={},_={render:!0,refreshData:!0,refreshTask:!0,refreshLink:!0,resetProjectDates:function(v){f[v.id]=v}};for(var p in function(v){for(var y in v)o.call(this,y,v[y])}.call(this,_),r=!0,this.callEvent("onBeforeBatchUpdate",[]),e(a),this.callEvent("onAfterBatchUpdate",[]),t.call(this),f)this.resetProjectDates(f[p]);r=!1,i||this.render(),d&&(this._dp.setUpdateMode(s),this._dp.setGanttMode("task"),this._dp.sendData(),this._dp.setGanttMode("link"),this._dp.sendData())}}}T.exports=function(l){l.batchUpdate=h(l)}},function(T,C,u){T.exports=function(g){g.ext||(g.ext={});for(var h=[u(198),u(197),u(196),u(195),u(194),u(193),u(192),u(190).default],l=0;l<h.length;l++)h[l]&&h[l](g)}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=u(0),h=function(){function l(){var c=this;this.clear=function(){c._storage={}},this.storeItem=function(r){c._storage[r.id]=g.copy(r)},this.getStoredItem=function(r){return c._storage[r]||null},this._storage={}}return l.create=function(){return new l},l}();C.default=h},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(g,h){g.getUserData=function(l,c,r){return this.userdata||(this.userdata={}),this.userdata[r]=this.userdata[r]||{},this.userdata[r][l]&&this.userdata[r][l][c]?this.userdata[r][l][c]:""},g.setUserData=function(l,c,r,o){this.userdata||(this.userdata={}),this.userdata[o]=this.userdata[o]||{},this.userdata[o][l]=this.userdata[o][l]||{},this.userdata[o][l][c]=r},g._change_id=function(l,c){switch(this._dp._ganttMode){case"task":this.changeTaskId(l,c);break;case"link":this.changeLinkId(l,c);break;case"assignment":this.$data.assignmentsStore.changeId(l,c);break;case"resource":this.$data.resourcesStore.changeId(l,c);break;default:throw new Error("Invalid mode of the dataProcessor after database id is received: "+this._dp._ganttMode+", new id: "+c)}},g._row_style=function(l,c){this._dp._ganttMode==="task"&&g.isTaskExists(l)&&(g.getTask(l).$dataprocessor_class=c,g.refreshTask(l))},g._delete_task=function(l,c){},g._sendTaskOrder=function(l,c){c.$drop_target&&(this._dp.setGanttMode("task"),this.getTask(l).target=c.$drop_target,this._dp.setUpdated(l,!0,"order"),delete this.getTask(l).$drop_target)},g.setDp=function(){this._dp=h},g.setDp()}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=u(2),h=function(){function l(c,r){this.$gantt=c,this.$dp=r,this._dataProcessorHandlers=[]}return l.prototype.attach=function(){var c=this,r=this.$dp,o=this.$gantt,n=u(38),t={},e=function(s){return c.clientSideDelete(s,r,o)};this._dataProcessorHandlers.push(o.attachEvent("onAfterTaskAdd",function(s,d){o.isTaskExists(s)&&(r.setGanttMode("tasks"),r.setUpdated(s,!0,"inserted"))})),this._dataProcessorHandlers.push(o.attachEvent("onAfterTaskUpdate",function(s,d){o.isTaskExists(s)&&(r.setGanttMode("tasks"),r.setUpdated(s,!0),o._sendTaskOrder&&o._sendTaskOrder(s,d))})),this._dataProcessorHandlers.push(o.attachEvent("onBeforeTaskDelete",function(s,d){return o.config.cascade_delete&&(t[s]={tasks:n.getSubtreeTasks(o,s),links:n.getSubtreeLinks(o,s)}),!r.deleteAfterConfirmation||(r.setGanttMode("tasks"),r.setUpdated(s,!0,"deleted"),!1)})),this._dataProcessorHandlers.push(o.attachEvent("onAfterTaskDelete",function(s,d){r.setGanttMode("tasks");var f=!e(s),_=o.config.cascade_delete&&t[s];if(f||_){if(_){var p=r.updateMode;r.setUpdateMode("off");var v=t[s];for(var y in v.tasks)e(y)||(r.storeItem(v.tasks[y]),r.setUpdated(y,!0,"deleted"));for(var y in r.setGanttMode("links"),v.links)e(y)||(r.storeItem(v.links[y]),r.setUpdated(y,!0,"deleted"));t[s]=null,p!=="off"&&r.sendAllData(),r.setGanttMode("tasks"),r.setUpdateMode(p)}f&&(r.storeItem(d),r.deleteAfterConfirmation||r.setUpdated(s,!0,"deleted")),r.updateMode==="off"||r._tSend||r.sendAllData()}})),this._dataProcessorHandlers.push(o.attachEvent("onAfterLinkUpdate",function(s,d){o.isLinkExists(s)&&(r.setGanttMode("links"),r.setUpdated(s,!0))})),this._dataProcessorHandlers.push(o.attachEvent("onAfterLinkAdd",function(s,d){o.isLinkExists(s)&&(r.setGanttMode("links"),r.setUpdated(s,!0,"inserted"))})),this._dataProcessorHandlers.push(o.attachEvent("onAfterLinkDelete",function(s,d){r.setGanttMode("links"),!e(s)&&(r.storeItem(d),r.setUpdated(s,!0,"deleted"))})),this._dataProcessorHandlers.push(o.attachEvent("onRowDragEnd",function(s,d){o._sendTaskOrder(s,o.getTask(s))}));var a=null,i=null;this._dataProcessorHandlers.push(o.attachEvent("onTaskIdChange",function(s,d){if(r._waitMode){var f=o.getChildren(d);if(f.length){a=a||{};for(var _=0;_<f.length;_++){var p=this.getTask(f[_]);a[p.id]=p}}var v=function(m){var k=[];return m.$source&&(k=k.concat(m.$source)),m.$target&&(k=k.concat(m.$target)),k}(this.getTask(d));if(v.length)for(i=i||{},_=0;_<v.length;_++){var y=this.getLink(v[_]);i[y.id]=y}}})),r.attachEvent("onAfterUpdateFinish",function(){(a||i)&&(o.batchUpdate(function(){for(var s in a)o.updateTask(a[s].id);for(var s in i)o.updateLink(i[s].id);a=null,i=null}),a?o._dp.setGanttMode("tasks"):o._dp.setGanttMode("links"))}),r.attachEvent("onBeforeDataSending",function(){if(this._tMode==="CUSTOM")return!0;var s=this._serverProcessor;if(this._tMode==="REST-JSON"||this._tMode==="REST"){var d=this._ganttMode;s=s.substring(0,s.indexOf("?")>-1?s.indexOf("?"):s.length),this.serverProcessor=s+(s.slice(-1)==="/"?"":"/")+d}else{var f=this._ganttMode+"s";this.serverProcessor=s+o.ajax.urlSeparator(s)+"gantt_mode="+f}return!0}),r.attachEvent("insertCallback",function(s,d,f,_){var p=s.data||o.xml._xmlNodeToJSON(s.firstChild),v={add:o.addTask,isExist:o.isTaskExists};_==="links"&&(v.add=o.addLink,v.isExist=o.isLinkExists),v.isExist.call(o,d)||(p.id=d,v.add.call(o,p))}),r.attachEvent("updateCallback",function(s,d){var f=s.data||o.xml._xmlNodeToJSON(s.firstChild);if(o.isTaskExists(d)){var _=o.getTask(d);for(var p in f){var v=f[p];switch(p){case"id":continue;case"start_date":case"end_date":v=o.defined(o.templates.xml_date)?o.templates.xml_date(v):o.templates.parse_date(v);break;case"duration":_.end_date=o.calculateEndDate({start_date:_.start_date,duration:v,task:_})}_[p]=v}o.updateTask(d),o.refreshData()}}),r.attachEvent("deleteCallback",function(s,d,f,_){var p={delete:o.deleteTask,isExist:o.isTaskExists};_==="links"?(p.delete=o.deleteLink,p.isExist=o.isLinkExists):_==="assignment"&&(p.delete=function(v){o.$data.assignmentsStore.remove(v)},p.isExist=function(v){return o.$data.assignmentsStore.exists(v)}),p.isExist.call(o,d)&&p.delete.call(o,d)}),this.handleResourceAssignmentCRUD(r,o)},l.prototype.clientSideDelete=function(c,r,o){var n=r.updatedRows.slice(),t=!1;o.getUserData(c,"!nativeeditor_status",r._ganttMode)==="true_deleted"&&(t=!0,r.setUpdated(c,!1));for(var e=0;e<n.length&&!r._in_progress[c];e++)n[e]===c&&(o.getUserData(c,"!nativeeditor_status",r._ganttMode)==="inserted"&&(t=!0),r.setUpdated(c,!1));return t},l.prototype.handleResourceAssignmentCRUD=function(c,r){var o=this;if(r.config.resources&&r.config.resources.dataprocessor_assignments===!0){var n=r.getDatastore(r.config.resource_assignment_store),t={},e={};r.attachEvent("onBeforeTaskAdd",function(i,s){return t[i]=!0,!0}),r.attachEvent("onTaskIdChange",function(i,s){delete t[i]}),n.attachEvent("onAfterAdd",function(i,s){t[s.task_id]?function(d){e[d.id]=d,t[d.task_id]=!0}(s):a(s)}),n.attachEvent("onAfterUpdate",function(i,s){n.exists(i)&&(e[i]?a(s):(c.setGanttMode("assignment"),c.setUpdated(i,!0)))}),n.attachEvent("onAfterDelete",function(i,s){c.setGanttMode("assignment"),!o.clientSideDelete(i,c,r)&&(c.storeItem(s),c.setUpdated(i,!0,"deleted"))})}function a(i){var s=i.id;n.exists(s)&&(c.setGanttMode("assignment"),c.setUpdated(s,!0,"inserted")),delete e[s]}},l.prototype.handleResourceCRUD=function(c,r){var o=this;if(r.config.resources&&r.config.resources.dataprocessor_resources===!0){var n=r.getDatastore(r.config.resource_store);n.attachEvent("onAfterAdd",function(t,e){(function(a){var i=a.id;n.exists(i)&&(c.setGanttMode("resource"),c.setUpdated(i,!0,"inserted"))})(e)}),n.attachEvent("onAfterUpdate",function(t,e){n.exists(t)&&(c.setGanttMode("resource"),c.setUpdated(t,!0))}),n.attachEvent("onAfterDelete",function(t,e){c.setGanttMode("resource"),!o.clientSideDelete(t,c,r)&&(c.storeItem(e),c.setUpdated(t,!0,"deleted"))})}},l.prototype.detach=function(){var c=this;g.forEach(this._dataProcessorHandlers,function(r){c.$gantt.detachEvent(r)}),this._dataProcessorHandlers=[]},l}();C.default=h},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=u(4),h=u(2),l=u(0),c=u(202),r=u(201),o=u(200);C.createDataProcessor=function(t){var e,a;t instanceof Function?e=t:t.hasOwnProperty("router")?e=t.router:(t.hasOwnProperty("assignment")||t.hasOwnProperty("link")||t.hasOwnProperty("task"))&&(e=t),a=e?"CUSTOM":t.mode||"REST-JSON";var i=new n(t.url);return i.init(this),i.setTransactionMode({mode:a,router:e},t.batchUpdate),t.deleteAfterConfirmation&&(i.deleteAfterConfirmation=t.deleteAfterConfirmation),i};var n=function(){function t(e){this.serverProcessor=e,this.action_param="!nativeeditor_status",this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._headers=null,this._payload=null,this._postDelim="_",this._routerParametersFormat="parameters",this._waitMode=0,this._in_progress={},this._storage=o.default.create(),this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),g(this)}return t.prototype.setTransactionMode=function(e,a){typeof e=="object"?(this._tMode=e.mode||this._tMode,l.defined(e.headers)&&(this._headers=e.headers),l.defined(e.payload)&&(this._payload=e.payload),this._tSend=!!a):(this._tMode=e,this._tSend=a),this._tMode==="REST"&&(this._tSend=!1),this._tMode==="JSON"||this._tMode==="REST-JSON"?(this._tSend=!1,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),this._tMode==="CUSTOM"&&(this._tSend=!1,this._router=e.router)},t.prototype.escape=function(e){return this._utf?encodeURIComponent(e):escape(e)},t.prototype.enableUTFencoding=function(e){this._utf=!!e},t.prototype.getSyncState=function(){return!this.updatedRows.length},t.prototype.setUpdateMode=function(e,a){this.autoUpdate=e==="cell",this.updateMode=e,this.dnd=a},t.prototype.ignore=function(e,a){this._silent_mode=!0,e.call(a||window),this._silent_mode=!1},t.prototype.setUpdated=function(e,a,i){if(!this._silent_mode){var s=this.findRow(e);i=i||"updated";var d=this.$gantt.getUserData(e,this.action_param,this._ganttMode);d&&i==="updated"&&(i=d),a?(this.set_invalid(e,!1),this.updatedRows[s]=e,this.$gantt.setUserData(e,this.action_param,i,this._ganttMode),this._in_progress[e]&&(this._in_progress[e]="wait")):this.is_invalid(e)||(this.updatedRows.splice(s,1),this.$gantt.setUserData(e,this.action_param,"",this._ganttMode)),this.markRow(e,a,i),a&&this.autoUpdate&&this.sendData(e)}},t.prototype.markRow=function(e,a,i){var s="",d=this.is_invalid(e);if(d&&(s=this.styles[d],a=!0),this.callEvent("onRowMark",[e,a,i,d])&&(s=this.styles[a?i:"clear"]+" "+s,this.$gantt[this._methods[0]](e,s),d&&d.details)){s+=this.styles[d+"_cell"];for(var f=0;f<d.details.length;f++)d.details[f]&&this.$gantt[this._methods[1]](e,f,s)}},t.prototype.getActionByState=function(e){return e==="inserted"?"create":e==="updated"?"update":e==="deleted"?"delete":"update"},t.prototype.getState=function(e){return this.$gantt.getUserData(e,this.action_param,this._ganttMode)},t.prototype.is_invalid=function(e){return this._invalid[e]},t.prototype.set_invalid=function(e,a,i){i&&(a={value:a,details:i,toString:function(){return this.value.toString()}}),this._invalid[e]=a},t.prototype.checkBeforeUpdate=function(e){return!0},t.prototype.sendData=function(e){var a=this;if(this.$gantt.editStop&&this.$gantt.editStop(),e===void 0||this._tSend){var i=[];if(this.modes&&["task","link","assignment"].forEach(function(d){a.modes[d]&&a.modes[d].updatedRows.length&&i.push(d)}),i.length){for(var s=0;s<i.length;s++)this.setGanttMode(i[s]),this.sendAllData();return}return this.sendAllData()}return!this._in_progress[e]&&(this.messages=[],!(!this.checkBeforeUpdate(e)&&this.callEvent("onValidationError",[e,this.messages]))&&void this._beforeSendData(this._getRowData(e),e))},t.prototype.serialize=function(e,a){if(this._serializeAsJson)return this._serializeAsJSON(e);if(typeof e=="string")return e;if(a!==void 0)return this.serialize_one(e,"");var i=[],s=[];for(var d in e)e.hasOwnProperty(d)&&(i.push(this.serialize_one(e[d],d+this._postDelim)),s.push(d));return i.push("ids="+this.escape(s.join(","))),this.$gantt.security_key&&i.push("dhx_security="+this.$gantt.security_key),i.join("&")},t.prototype.serialize_one=function(e,a){if(typeof e=="string")return e;var i=[],s="";for(var d in e)if(e.hasOwnProperty(d)){if((d==="id"||d==this.action_param)&&this._tMode==="REST")continue;s=typeof e[d]=="string"||typeof e[d]=="number"?e[d]:JSON.stringify(e[d]),i.push(this.escape((a||"")+d)+"="+this.escape(s))}return i.join("&")},t.prototype.sendAllData=function(){if(this.updatedRows.length){this.messages=[];var e=!0;if(this._forEachUpdatedRow(function(a){e=e&&this.checkBeforeUpdate(a)}),!e&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow(function(a){if(!this._in_progress[a]){if(this.is_invalid(a))return;this._beforeSendData(this._getRowData(a),a)}})}},t.prototype.findRow=function(e){var a=0;for(a=0;a<this.updatedRows.length&&e!=this.updatedRows[a];a++);return a},t.prototype.defineAction=function(e,a){this._uActions||(this._uActions={}),this._uActions[e]=a},t.prototype.afterUpdateCallback=function(e,a,i,s,d){var f=this;if(this.$gantt){this.setGanttMode(d);var _=e,p=i!=="error"&&i!=="invalid";if(p||this.set_invalid(e,i),this._uActions&&this._uActions[i]&&!this._uActions[i](s))return delete this._in_progress[_];this._in_progress[_]!=="wait"&&this.setUpdated(e,!1);var v=e;switch(i){case"inserted":case"insert":a!=e&&(this.setUpdated(e,!1),this.$gantt[this._methods[2]](e,a),e=a);break;case"delete":case"deleted":if(this.deleteAfterConfirmation&&this._ganttMode==="task"){if(this._ganttMode==="task"&&this.$gantt.isTaskExists(e)){this.$gantt.setUserData(e,this.action_param,"true_deleted",this._ganttMode);var y=this.$gantt.getTask(e);this.$gantt.silent(function(){f.$gantt.deleteTask(e)}),this.$gantt.callEvent("onAfterTaskDelete",[e,y]),this.$gantt.render(),delete this._in_progress[_]}return this.callEvent("onAfterUpdate",[e,i,a,s])}return this.$gantt.setUserData(e,this.action_param,"true_deleted",this._ganttMode),this.$gantt[this._methods[3]](e),delete this._in_progress[_],this.callEvent("onAfterUpdate",[e,i,a,s])}this._in_progress[_]!=="wait"?(p&&this.$gantt.setUserData(e,this.action_param,"",this._ganttMode),delete this._in_progress[_]):(delete this._in_progress[_],this.setUpdated(a,!0,this.$gantt.getUserData(e,this.action_param,this._ganttMode))),this.callEvent("onAfterUpdate",[v,i,a,s])}},t.prototype.afterUpdate=function(e,a,i){var s,d=this;s=arguments.length===3?arguments[1]:arguments[4];var f=this.getGanttMode(),_=s.filePath||s.url;f=this._tMode!=="REST"&&this._tMode!=="REST-JSON"?_.indexOf("gantt_mode=links")!==-1?"link":_.indexOf("gantt_mode=assignments")!==-1?"assignment":"task":_.indexOf("/link")>=0?"link":_.indexOf("/assignment")>=0?"assignment":"task",this.setGanttMode(f);var p,v=this.$gantt.ajax;try{p=JSON.parse(a.xmlDoc.responseText)}catch{a.xmlDoc.responseText.length||(p={})}var y=function(E){var M=p.action||d.getState(E)||"updated",D=p.sid||E[0],A=p.tid||E[0];e.afterUpdateCallback(D,A,M,p,f)};if(p)return Array.isArray(i)&&i.length>1?i.forEach(function(E){return y(E)}):y(i),e.finalizeUpdate(),void this.setGanttMode(f);var m=v.xmltop("data",a.xmlDoc);if(!m)return this.cleanUpdate(i);var k=v.xpath("//data/action",m);if(!k.length)return this.cleanUpdate(i);for(var b=0;b<k.length;b++){var w=k[b],x=w.getAttribute("type"),$=w.getAttribute("sid"),S=w.getAttribute("tid");e.afterUpdateCallback($,S,x,w,f)}e.finalizeUpdate()},t.prototype.cleanUpdate=function(e){if(e)for(var a=0;a<e.length;a++)delete this._in_progress[e[a]]},t.prototype.finalizeUpdate=function(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},t.prototype.init=function(e){if(!this._initialized){this.$gantt=e,this.$gantt._dp_init&&this.$gantt._dp_init(this),this._setDefaultTransactionMode(),this.styles={updated:"gantt_updated",order:"gantt_updated",inserted:"gantt_inserted",deleted:"gantt_deleted",delete_confirmation:"gantt_deleted",invalid:"gantt_invalid",error:"gantt_error",clear:""},this._methods=["_row_style","setCellTextStyle","_change_id","_delete_task"],r.default(this.$gantt,this);var a=new c.default(this.$gantt,this);a.attach(),this.attachEvent("onDestroy",function(){delete this.setGanttMode,delete this._getRowData,delete this.$gantt._dp,delete this.$gantt._change_id,delete this.$gantt._row_style,delete this.$gantt._delete_task,delete this.$gantt._sendTaskOrder,delete this.$gantt,a.detach()}),this.$gantt.callEvent("onDataProcessorReady",[this]),this._initialized=!0}},t.prototype.setOnAfterUpdate=function(e){this.attachEvent("onAfterUpdate",e)},t.prototype.setOnBeforeUpdateHandler=function(e){this.attachEvent("onBeforeDataSending",e)},t.prototype.setAutoUpdate=function(e,a){var i=this;e=e||2e3,this._user=a||new Date().valueOf(),this._needUpdate=!1,this._updateBusy=!1,this.attachEvent("onAfterUpdate",this.afterAutoUpdate),this.attachEvent("onFullSync",this.fullSync),setInterval(function(){i.loadUpdate()},e)},t.prototype.afterAutoUpdate=function(e,a,i,s){return a!=="collision"||(this._needUpdate=!0,!1)},t.prototype.fullSync=function(){return this._needUpdate&&(this._needUpdate=!1,this.loadUpdate()),!0},t.prototype.getUpdates=function(e,a){var i=this.$gantt.ajax;if(this._updateBusy)return!1;this._updateBusy=!0,i.get(e,a)},t.prototype.loadUpdate=function(){var e=this,a=this.$gantt.ajax,i=this.$gantt.getUserData(0,"version",this._ganttMode),s=this.serverProcessor+a.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+i].join("&");s=s.replace("editing=true&",""),this.getUpdates(s,function(d){var f=a.xpath("//userdata",d);e.$gantt.setUserData(0,"version",e._getXmlNodeValue(f[0]),e._ganttMode);var _=a.xpath("//update",d);if(_.length){e._silent_mode=!0;for(var p=0;p<_.length;p++){var v=_[p].getAttribute("status"),y=_[p].getAttribute("id"),m=_[p].getAttribute("parent");switch(v){case"inserted":e.callEvent("insertCallback",[_[p],y,m]);break;case"updated":e.callEvent("updateCallback",[_[p],y,m]);break;case"deleted":e.callEvent("deleteCallback",[_[p],y,m])}}e._silent_mode=!1}e._updateBusy=!1})},t.prototype.destructor=function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._storage.clear(),this._storage=null,this._headers=null,this._payload=null,delete this._initialized},t.prototype.setGanttMode=function(e){e==="tasks"?e="task":e==="links"&&(e="link");var a=this.modes||{},i=this.getGanttMode();i&&(a[i]={_in_progress:this._in_progress,_invalid:this._invalid,_storage:this._storage,updatedRows:this.updatedRows});var s=a[e];s||(s=a[e]={_in_progress:{},_invalid:{},_storage:o.default.create(),updatedRows:[]}),this._in_progress=s._in_progress,this._invalid=s._invalid,this._storage=s._storage,this.updatedRows=s.updatedRows,this.modes=a,this._ganttMode=e},t.prototype.getGanttMode=function(){return this._ganttMode},t.prototype.storeItem=function(e){this._storage.storeItem(e)},t.prototype.url=function(e){this.serverProcessor=this._serverProcessor=e},t.prototype._beforeSendData=function(e,a){if(!this.callEvent("onBeforeUpdate",[a,this.getState(a),e]))return!1;this._sendData(e,a)},t.prototype._serializeAsJSON=function(e){if(typeof e=="string")return e;var a=l.copy(e);return this._tMode==="REST-JSON"&&(delete a.id,delete a[this.action_param]),JSON.stringify(a)},t.prototype._applyPayload=function(e){var a=this.$gantt.ajax;if(this._payload)for(var i in this._payload)e=e+a.urlSeparator(e)+this.escape(i)+"="+this.escape(this._payload[i]);return e},t.prototype._cleanupArgumentsBeforeSend=function(e){var a;if(e[this.action_param]===void 0)for(var i in a={},e)a[i]=this._cleanupArgumentsBeforeSend(e[i]);else a=this._cleanupItemBeforeSend(e);return a},t.prototype._cleanupItemBeforeSend=function(e){var a=null;return e&&(e[this.action_param]==="deleted"?((a={}).id=e.id,a[this.action_param]=e[this.action_param]):a=e),a},t.prototype._sendData=function(e,a){var i=this;if(e){if(!this.callEvent("onBeforeDataSending",a?[a,this.getState(a),e]:[null,null,e]))return!1;a&&(this._in_progress[a]=new Date().valueOf());var s=this.$gantt.ajax;if(this._tMode!=="CUSTOM"){var d;d={callback:function(D){var A=[];if(a)A.push(a);else if(e)for(var I in e)A.push(I);return i.afterUpdate(i,D,A)},headers:this._headers};var f,_="dhx_version="+this.$gantt.getUserData(0,"version",this._ganttMode),p=this.serverProcessor+(this._user?s.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,_].join("&"):""),v=this._applyPayload(p);switch(this._tMode){case"GET":f=this._cleanupArgumentsBeforeSend(e),d.url=v+s.urlSeparator(v)+this.serialize(f,a),d.method="GET";break;case"POST":f=this._cleanupArgumentsBeforeSend(e),d.url=v,d.method="POST",d.data=this.serialize(f,a);break;case"JSON":f={};var y=this._cleanupItemBeforeSend(e);for(var m in y)m!==this.action_param&&m!=="id"&&m!=="gr_id"&&(f[m]=y[m]);d.url=v,d.method="POST",d.data=JSON.stringify({id:a,action:e[this.action_param],data:f});break;case"REST":case"REST-JSON":switch(v=p.replace(/(&|\?)editing=true/,""),f="",this.getState(a)){case"inserted":d.method="POST",d.data=this.serialize(e,a);break;case"deleted":d.method="DELETE",v=v+(v.slice(-1)==="/"?"":"/")+a;break;default:d.method="PUT",d.data=this.serialize(e,a),v=v+(v.slice(-1)==="/"?"":"/")+a}d.url=this._applyPayload(v)}return this._waitMode++,s.query(d)}var k=this.getState(a),b=this.getActionByState(k),w=this.getGanttMode(),x=function(D){var A=k||"updated",I=a,P=a;D&&(A=D.action||k,I=D.sid||I,P=D.id||D.tid||P),i.afterUpdateCallback(I,P,A,D,w)},$=void 0;if(this._router instanceof Function)if(this._routerParametersFormat==="object"){var S={entity:w,action:b,data:e,id:a};$=this._router(S)}else $=this._router(w,b,e,a);else if(this._router[w]instanceof Function)$=this._router[w](b,e,a);else{var E="Incorrect configuration of gantt.createDataProcessor",M=`
You need to either add missing properties to the dataProcessor router object or to use a router function.
See https://docs.dhtmlx.com/gantt/desktop__server_side.html#customrouting and https://docs.dhtmlx.com/gantt/api__gantt_createdataprocessor.html for details.`;if(!this._router[w])throw new Error(E+": router for the **"+w+"** entity is not defined. "+M);switch(k){case"inserted":if(!this._router[w].create)throw new Error(E+": **create** action for the **"+w+"** entity is not defined. "+M);$=this._router[w].create(e);break;case"deleted":if(!this._router[w].delete)throw new Error(E+": **delete** action for the **"+w+"** entity is not defined. "+M);$=this._router[w].delete(a);break;default:if(!this._router[w].update)throw new Error(E+': **update**" action for the **'+w+"** entity is not defined. "+M);$=this._router[w].update(e,a)}}if($){if(!$.then&&$.id===void 0&&$.tid===void 0&&$.action===void 0)throw new Error("Incorrect router return value. A Promise or a response object is expected");$.then?$.then(x).catch(function(D){D&&D.action?x(D):x({action:"error",value:D})}):x($)}else x(null)}},t.prototype._forEachUpdatedRow=function(e){for(var a=this.updatedRows.slice(),i=0;i<a.length;i++){var s=a[i];this.$gantt.getUserData(s,this.action_param,this._ganttMode)&&e.call(this,s)}},t.prototype._setDefaultTransactionMode=function(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(this.serverProcessor.indexOf("?")!==-1?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)},t.prototype._getXmlNodeValue=function(e){return e.firstChild?e.firstChild.nodeValue:""},t.prototype._getAllData=function(){var e={},a=!1;return this._forEachUpdatedRow(function(i){if(!this._in_progress[i]&&!this.is_invalid(i)){var s=this._getRowData(i);this.callEvent("onBeforeUpdate",[i,this.getState(i),s])&&(e[i]=s,a=!0,this._in_progress[i]=new Date().valueOf())}}),a?e:null},t.prototype._prepareDate=function(e){return this.$gantt.defined(this.$gantt.templates.xml_format)?this.$gantt.templates.xml_format(e):this.$gantt.templates.format_date(e)},t.prototype._prepareArray=function(e,a){var i=this;return a.push(e),e.map(function(s){return h.isDate(s)?i._prepareDate(s):Array.isArray(s)&&!h.arrayIncludes(a,s)?i._prepareArray(s,a):s&&typeof s=="object"&&!h.arrayIncludes(a,s)?i._prepareObject(s,a):s})},t.prototype._prepareObject=function(e,a){var i={};for(var s in a.push(e),e)if(s.substr(0,1)!=="$"){var d=e[s];h.isDate(d)?i[s]=this._prepareDate(d):d===null?i[s]="":Array.isArray(d)&&!h.arrayIncludes(a,d)?i[s]=this._prepareArray(d,a):d&&typeof d=="object"&&!h.arrayIncludes(a,d)?i[s]=this._prepareObject(d,a):i[s]=d}return i},t.prototype._prepareDataItem=function(e){var a=this._prepareObject(e,[]);return a[this.action_param]=this.$gantt.getUserData(e.id,this.action_param,this._ganttMode),a},t.prototype.getStoredItem=function(e){return this._storage.getStoredItem(e)},t.prototype._getRowData=function(e){var a,i=this.$gantt;return this.getGanttMode()==="task"?i.isTaskExists(e)&&(a=this.$gantt.getTask(e)):this.getGanttMode()==="assignment"?this.$gantt.$data.assignmentsStore.exists(e)&&(a=this.$gantt.$data.assignmentsStore.getItem(e)):i.isLinkExists(e)&&(a=this.$gantt.getLink(e)),a||(a=this.getStoredItem(e)),a||(a={id:e}),this._prepareDataItem(a)},t}();C.DataProcessor=n},function(T,C,u){var g=u(203);T.exports={DEPRECATED_api:function(h){return new g.DataProcessor(h)},createDataProcessor:g.createDataProcessor,getDataProcessorModes:g.getAvailableModes}},function(T,C,u){var g=u(10);T.exports={bindDataStore:function(h,l){var c=l.getDatastore(h),r=function(e,a){var i=a.getLayers(),s=c.getItem(e);if(s&&c.isVisible(e))for(var d=0;d<i.length;d++)i[d].render_item(s)},o=function(e){for(var a=e.getLayers(),i=0;i<a.length;i++)a[i].clear();for(var s=null,d={},f=0;f<a.length;f++){var _=a[f],p=void 0;if(_.get_visible_range){var v=_.get_visible_range(c);if(v.start!==void 0&&v.end!==void 0){var y=v.start+" - "+v.end;d[y]?p=d[y]:(p=c.getIndexRange(v.start,v.end),d[y]=p)}else{if(v.ids===void 0)throw new Error("Invalid range returned from 'getVisibleRange' of the layer");p=v.ids.map(function(m){return c.getItem(m)})}}else s||(s=c.getVisibleItems()),p=s;_.prepare_data&&_.prepare_data(p),a[f].render_items(p)}},n=function(e){if(e.update_items){var a;if(e.get_visible_range){var i=e.get_visible_range(c);if(i.start!==void 0&&i.end!==void 0)a=c.getIndexRange(i.start,i.end);else{if(i.ids===void 0)throw new Error("Invalid range returned from 'getVisibleRange' of the layer");a=i.ids.map(function(s){return c.getItem(s)})}}else a=c.getVisibleItems();e.prepare_data&&e.prepare_data(a,e),e.update_items(a)}};function t(e){return!!e.$services.getService("state").getState("batchUpdate").batch_update}c.attachEvent("onStoreUpdated",function(e,a,i){if(g(l))return!0;var s=l.$services.getService("layers").getDataRender(h);s&&(s.onUpdateRequest=function(d){n(d)})}),c.attachEvent("onStoreUpdated",function(e,a,i){t(l)||(e&&i!="move"&&i!="delete"?(c.callEvent("onBeforeRefreshItem",[a.id]),c.callEvent("onAfterRefreshItem",[a.id])):(c.callEvent("onBeforeRefreshAll",[]),c.callEvent("onAfterRefreshAll",[])))}),c.attachEvent("onAfterRefreshAll",function(){if(g(l))return!0;var e=l.$services.getService("layers").getDataRender(h);e&&!t(l)&&o(e)}),c.attachEvent("onAfterRefreshItem",function(e){if(g(l))return!0;var a=l.$services.getService("layers").getDataRender(h);a&&r(e,a)}),c.attachEvent("onItemOpen",function(){if(g(l))return!0;l.render()}),c.attachEvent("onItemClose",function(){if(g(l))return!0;l.render()}),c.attachEvent("onIdChange",function(e,a){if(g(l))return!0;if(c.callEvent("onBeforeIdChange",[e,a]),!t(l)&&!c.isSilent()){var i=l.$services.getService("layers").getDataRender(h);i?(function(s,d,f,_){for(var p=0;p<s.length;p++)s[p].change_id(d,f)}(i.getLayers(),e,a,c.getItem(a)),r(a,i)):l.render()}})}}},function(T,C){T.exports=function(u){var g=null,h=u._removeItemInner;function l(c){g=null,this.callEvent("onAfterUnselect",[c])}return u._removeItemInner=function(c){return g==c&&l.call(this,c),g&&this.eachItem&&this.eachItem(function(r){r.id==g&&l.call(this,r.id)},c),h.apply(this,arguments)},u.attachEvent("onIdChange",function(c,r){u.getSelectedId()==c&&u.silent(function(){u.unselect(c),u.select(r)})}),{select:function(c){if(c){if(g==c)return g;if(!this._skip_refresh&&!this.callEvent("onBeforeSelect",[c]))return!1;this.unselect(),g=c,this._skip_refresh||(this.refresh(c),this.callEvent("onAfterSelect",[c]))}return g},getSelectedId:function(){return g},isSelected:function(c){return c==g},unselect:function(c){(c=c||g)&&(g=null,this._skip_refresh||(this.refresh(c),l.call(this,c)))}}}},function(T,C,u){var g=u(0);T.exports=function(){return{getLinkCount:function(){return this.$data.linksStore.count()},getLink:function(h){return this.$data.linksStore.getItem(h)},getLinks:function(){return this.$data.linksStore.getItems()},isLinkExists:function(h){return this.$data.linksStore.exists(h)},addLink:function(h){var l=this.$data.linksStore.addItem(h);return this.$data.linksStore.isSilent()&&this.$data.linksStore.fullOrder.push(l),l},updateLink:function(h,l){g.defined(l)||(l=this.getLink(h)),this.$data.linksStore.updateItem(h,l)},deleteLink:function(h){return this.$data.linksStore.removeItem(h)},changeLinkId:function(h,l){return this.$data.linksStore.changeId(h,l)}}}},function(T,C,u){var g=u(0),h=u(2).replaceValidZeroId;T.exports=function(){return{getTask:function(l){l=h(l,this.config.root_id),this.assert(l,"Invalid argument for gantt.getTask");var c=this.$data.tasksStore.getItem(l);return this.assert(c,"Task not found id="+l),c},getTaskByTime:function(l,c){var r=this.$data.tasksStore.getItems(),o=[];if(l||c){l=+l||-1/0,c=+c||1/0;for(var n=0;n<r.length;n++){var t=r[n];+t.start_date<c&&+t.end_date>l&&o.push(t)}}else o=r;return o},isTaskExists:function(l){return!(!this.$data||!this.$data.tasksStore)&&this.$data.tasksStore.exists(l)},updateTask:function(l,c){g.defined(c)||(c=this.getTask(l)),this.$data.tasksStore.updateItem(l,c),this.isTaskExists(l)&&this.refreshTask(l)},addTask:function(l,c,r){return g.defined(l.id)||(l.id=g.uid()),this.isTaskExists(l.id)&&this.getTask(l.id).$index!=l.$index?(l.start_date&&typeof l.start_date=="string"&&(l.start_date=this.date.parseDate(l.start_date,"parse_date")),l.end_date&&typeof l.end_date=="string"&&(l.end_date=this.date.parseDate(l.end_date,"parse_date")),this.$data.tasksStore.updateItem(l.id,l)):(g.defined(c)||(c=this.getParent(l)||0),this.isTaskExists(c)||(c=this.config.root_id),this.setParent(l,c),this.$data.tasksStore.addItem(l,r,c))},deleteTask:function(l){return l=h(l,this.config.root_id),this.$data.tasksStore.removeItem(l)},getTaskCount:function(){return this.$data.tasksStore.count()},getVisibleTaskCount:function(){return this.$data.tasksStore.countVisible()},getTaskIndex:function(l){return this.$data.tasksStore.getBranchIndex(l)},getGlobalTaskIndex:function(l){return l=h(l,this.config.root_id),this.assert(l,"Invalid argument"),this.$data.tasksStore.getIndexById(l)},eachTask:function(l,c,r){return this.$data.tasksStore.eachItem(g.bind(l,r||this),c)},eachParent:function(l,c,r){return this.$data.tasksStore.eachParent(g.bind(l,r||this),c)},changeTaskId:function(l,c){this.$data.tasksStore.changeId(l,c);var r=this.$data.tasksStore.getItem(c),o=[];r.$source&&(o=o.concat(r.$source)),r.$target&&(o=o.concat(r.$target));for(var n=0;n<o.length;n++){var t=this.getLink(o[n]);t.source==l&&(t.source=c),t.target==l&&(t.target=c)}},calculateTaskLevel:function(l){return this.$data.tasksStore.calculateItemLevel(l)},getNext:function(l){return this.$data.tasksStore.getNext(l)},getPrev:function(l){return this.$data.tasksStore.getPrev(l)},getParent:function(l){return this.$data.tasksStore.getParent(l)},setParent:function(l,c,r){return this.$data.tasksStore.setParent(l,c,r)},getSiblings:function(l){return this.$data.tasksStore.getSiblings(l).slice()},getNextSibling:function(l){return this.$data.tasksStore.getNextSibling(l)},getPrevSibling:function(l){return this.$data.tasksStore.getPrevSibling(l)},getTaskByIndex:function(l){var c=this.$data.tasksStore.getIdByIndex(l);return this.isTaskExists(c)?this.getTask(c):null},getChildren:function(l){return this.hasChild(l)?this.$data.tasksStore.getChildren(l).slice():[]},hasChild:function(l){return this.$data.tasksStore.hasChild(l)},open:function(l){this.$data.tasksStore.open(l)},close:function(l){this.$data.tasksStore.close(l)},moveTask:function(l,c,r){return r=h(r,this.config.root_id),this.$data.tasksStore.move.apply(this.$data.tasksStore,arguments)},sort:function(l,c,r,o){var n=!o;this.$data.tasksStore.sort(l,c,r),this.callEvent("onAfterSort",[l,c,r]),n&&this.render()}}}},function(T,C,u){var g=u(0),h=u(208),l=u(207),c=u(42),r=u(40),o=u(206),n=u(205),t=u(10),e=u(2).replaceValidZeroId;function a(){for(var s=this.$services.getService("datastores"),d=[],f=0;f<s.length;f++){var _=this.getDatastore(s[f]);_.$destroyed||d.push(_)}return d}c.default&&(c=c.default);var i=function(){return{createDatastore:function(s){var d=(s.type||"").toLowerCase()=="treedatastore"?r:c;if(s){var f=this;s.openInitially=function(){return f.config.open_tree_initially},s.copyOnParse=function(){return f.config.deepcopy_on_parse}}var _=new d(s);if(this.mixin(_,o(_)),s.name){var p="datastore:"+s.name;_.attachEvent("onDestroy",function(){this.$services.dropService(p);for(var y=this.$services.getService("datastores"),m=0;m<y.length;m++)if(y[m]===s.name){y.splice(m,1);break}}.bind(this)),this.$services.dropService(p),this.$services.setService(p,function(){return _});var v=this.$services.getService("datastores");v?v.indexOf(s.name)<0&&v.push(s.name):(v=[],this.$services.setService("datastores",function(){return v}),v.push(s.name)),n.bindDataStore(s.name,this)}return _},getDatastore:function(s){return this.$services.getService("datastore:"+s)},_getDatastores:a,refreshData:function(){var s;t(this)||(s=this.getScrollState()),this.callEvent("onBeforeDataRender",[]);for(var d=a.call(this),f=0;f<d.length;f++)d[f].refresh();this.config.preserve_scroll&&!t(this)&&(s.x||s.y)&&this.scrollTo(s.x,s.y),this.callEvent("onDataRender",[])},isChildOf:function(s,d){return this.$data.tasksStore.isChildOf(s,d)},refreshTask:function(s,d){var f=this.getTask(s),_=this;function p(){if(d===void 0||d){for(var y=0;y<f.$source.length;y++)_.refreshLink(f.$source[y]);for(y=0;y<f.$target.length;y++)_.refreshLink(f.$target[y])}}if(f&&this.isTaskVisible(s))this.$data.tasksStore.refresh(s,!!this.getState("tasksDnd").drag_id||d===!1),p();else if(this.isTaskExists(s)&&this.isTaskExists(this.getParent(s))&&!this._bulk_dnd){this.refreshTask(this.getParent(s));var v=!1;this.eachParent(function(y){(v||this.isSplitTask(y))&&(v=!0)},s),v&&p()}},refreshLink:function(s){this.$data.linksStore.refresh(s,!!this.getState("tasksDnd").drag_id)},silent:function(s){var d=this;d.$data.tasksStore.silent(function(){d.$data.linksStore.silent(function(){s()})})},clearAll:function(){for(var s=a.call(this),d=0;d<s.length;d++)s[d].silent(function(){s[d].clearAll()});for(d=0;d<s.length;d++)s[d].clearAll();this._update_flags(),this.userdata={},this.callEvent("onClear",[]),this.render()},_clear_data:function(){this.$data.tasksStore.clearAll(),this.$data.linksStore.clearAll(),this._update_flags(),this.userdata={}},selectTask:function(s){var d=this.$data.tasksStore;if(!this.config.select_task)return!1;if(s=e(s,this.config.root_id)){var f=this.getSelectedId();d.select(s),f&&d.pull[f].$split_subtask&&f!=s&&this.refreshTask(f),d.pull[s].$split_subtask&&f!=s&&this.refreshTask(s)}return d.getSelectedId()},unselectTask:function(s){var d=this.$data.tasksStore;d.unselect(s),s&&d.pull[s].$split_subtask&&this.refreshTask(s)},isSelectedTask:function(s){return this.$data.tasksStore.isSelected(s)},getSelectedId:function(){return this.$data.tasksStore.getSelectedId()}}};T.exports={create:function(){var s=g.mixin({},i());return g.mixin(s,h()),g.mixin(s,l()),s}}},function(T,C,u){var g=u(0),h=u(209),l=u(39),c=u(11);T.exports=function(r){var o=h.create();g.mixin(r,o);var n=r.createDatastore({name:"task",type:"treeDatastore",rootId:function(){return r.config.root_id},initItem:g.bind(function(f){this.defined(f.id)||(f.id=this.uid()),f.start_date&&(f.start_date=r.date.parseDate(f.start_date,"parse_date")),f.end_date&&(f.end_date=r.date.parseDate(f.end_date,"parse_date"));var _=null;(f.duration||f.duration===0)&&(f.duration=_=1*f.duration),_&&(f.start_date&&!f.end_date?f.end_date=this.calculateEndDate(f):!f.start_date&&f.end_date&&(f.start_date=this.calculateEndDate({start_date:f.end_date,duration:-f.duration,task:f}))),f.progress=Number(f.progress)||0,this._isAllowedUnscheduledTask(f)&&this._set_default_task_timing(f),this._init_task_timing(f),f.start_date&&f.end_date&&this.correctTaskWorkTime(f),f.$source=[],f.$target=[];var p=this.$data.tasksStore.getItem(f.id);return p&&!g.defined(f.open)&&(f.$open=p.$open),f.parent===void 0&&(f.parent=this.config.root_id),f},r),getConfig:function(){return r.config}}),t=r.createDatastore({name:"link",initItem:g.bind(function(f){return this.defined(f.id)||(f.id=this.uid()),f},r)});function e(f){var _=r.isTaskVisible(f);if(!_&&r.isTaskExists(f)){var p=r.getParent(f);r.isTaskExists(p)&&r.isTaskVisible(p)&&(p=r.getTask(p),r.isSplitTask(p)&&(_=!0))}return _}function a(f){if(r.isTaskExists(f.source)){var _=r.getTask(f.source);_.$source=_.$source||[],_.$source.push(f.id)}if(r.isTaskExists(f.target)){var p=r.getTask(f.target);p.$target=p.$target||[],p.$target.push(f.id)}}function i(f){if(r.isTaskExists(f.source)){for(var _=r.getTask(f.source),p=0;p<_.$source.length;p++)if(_.$source[p]==f.id){_.$source.splice(p,1);break}}if(r.isTaskExists(f.target)){var v=r.getTask(f.target);for(p=0;p<v.$target.length;p++)if(v.$target[p]==f.id){v.$target.splice(p,1);break}}}function s(){for(var f=null,_=r.$data.tasksStore.getItems(),p=0,v=_.length;p<v;p++)(f=_[p]).$source=[],f.$target=[];var y=r.$data.linksStore.getItems();for(p=0,v=y.length;p<v;p++)a(y[p])}function d(f){var _=f.source,p=f.target;for(var v in f.events)(function(y,m){_.attachEvent(y,function(){return p.callEvent(m,Array.prototype.slice.call(arguments))},m)})(v,f.events[v])}r.attachEvent("onDestroy",function(){n.destructor(),t.destructor()}),r.attachEvent("onLinkValidation",function(f){if(r.isLinkExists(f.id)||f.id==="predecessor_generated")return!0;for(var _=r.getTask(f.source).$source,p=0;p<_.length;p++){var v=r.getLink(_[p]),y=f.source==v.source,m=f.target==v.target,k=f.type==v.type;if(y&&m&&k)return!1}return!0}),n.attachEvent("onBeforeRefreshAll",function(){for(var f=n.getVisibleItems(),_=0;_<f.length;_++){var p=f[_];p.$index=_,p.$local_index=r.getTaskIndex(p.id),r.resetProjectDates(p)}}),n.attachEvent("onFilterItem",function(f,_){if(r.config.show_tasks_outside_timescale)return!0;var p=null,v=null;if(r.config.start_date&&r.config.end_date){if(r._isAllowedUnscheduledTask(_))return!0;if(p=r.config.start_date.valueOf(),v=r.config.end_date.valueOf(),+_.start_date>v||+_.end_date<+p)return!1}return!0}),n.attachEvent("onIdChange",function(f,_){r._update_flags(f,_);var p=r.getTask(_);n.isSilent()||(p.$split_subtask||p.rollup)&&r.eachParent(function(v){r.refreshTask(v.id)},_)}),n.attachEvent("onAfterUpdate",function(f){if(r._update_parents(f),r.getState("batchUpdate").batch_update)return!0;var _=n.getItem(f);_.$source||(_.$source=[]);for(var p=0;p<_.$source.length;p++)t.refresh(_.$source[p]);for(_.$target||(_.$target=[]),p=0;p<_.$target.length;p++)t.refresh(_.$target[p])}),n.attachEvent("onBeforeItemMove",function(f,_,p){return!c(f,r,n)||(console.log("The placeholder task cannot be moved to another position."),!1)}),n.attachEvent("onAfterItemMove",function(f,_,p){var v=r.getTask(f);this.getNextSibling(f)!==null?v.$drop_target=this.getNextSibling(f):this.getPrevSibling(f)!==null?v.$drop_target="next:"+this.getPrevSibling(f):v.$drop_target="next:null"}),n.attachEvent("onStoreUpdated",function(f,_,p){if(p=="delete"&&r._update_flags(f,null),!r.$services.getService("state").getState("batchUpdate").batch_update){if(r.config.fit_tasks&&p!=="paint"){var v=r.getState();l(r);var y=r.getState();if(+v.min_date!=+y.min_date||+v.max_date!=+y.max_date)return r.render(),r.callEvent("onScaleAdjusted",[]),!0}p=="add"||p=="move"||p=="delete"?r.$layout&&r.$layout.resize():f||t.refresh()}}),t.attachEvent("onAfterAdd",function(f,_){a(_)}),t.attachEvent("onAfterUpdate",function(f,_){s()}),t.attachEvent("onAfterDelete",function(f,_){i(_)}),t.attachEvent("onBeforeIdChange",function(f,_){i(r.mixin({id:f},r.$data.linksStore.getItem(_))),a(r.$data.linksStore.getItem(_))}),t.attachEvent("onFilterItem",function(f,_){if(!r.config.show_links)return!1;var p=e(_.source),v=e(_.target);return!(!p||!v||r._isAllowedUnscheduledTask(r.getTask(_.source))||r._isAllowedUnscheduledTask(r.getTask(_.target)))&&r.callEvent("onBeforeLinkDisplay",[f,_])}),function(){var f=u(38),_={};r.attachEvent("onBeforeTaskDelete",function(p,v){return _[p]=f.getSubtreeLinks(r,p),!0}),r.attachEvent("onAfterTaskDelete",function(p,v){_[p]&&r.$data.linksStore.silent(function(){for(var y in _[p])r.isLinkExists(y)&&r.$data.linksStore.removeItem(y),i(_[p][y]);_[p]=null})})}(),r.attachEvent("onAfterLinkDelete",function(f,_){r.refreshTask(_.source),r.refreshTask(_.target)}),r.attachEvent("onParse",s),d({source:t,target:r,events:{onItemLoading:"onLinkLoading",onBeforeAdd:"onBeforeLinkAdd",onAfterAdd:"onAfterLinkAdd",onBeforeUpdate:"onBeforeLinkUpdate",onAfterUpdate:"onAfterLinkUpdate",onBeforeDelete:"onBeforeLinkDelete",onAfterDelete:"onAfterLinkDelete",onIdChange:"onLinkIdChange"}}),d({source:n,target:r,events:{onItemLoading:"onTaskLoading",onBeforeAdd:"onBeforeTaskAdd",onAfterAdd:"onAfterTaskAdd",onBeforeUpdate:"onBeforeTaskUpdate",onAfterUpdate:"onAfterTaskUpdate",onBeforeDelete:"onBeforeTaskDelete",onAfterDelete:"onAfterTaskDelete",onIdChange:"onTaskIdChange",onBeforeItemMove:"onBeforeTaskMove",onAfterItemMove:"onAfterTaskMove",onFilterItem:"onBeforeTaskDisplay",onItemOpen:"onTaskOpened",onItemClose:"onTaskClosed",onBeforeSelect:"onBeforeTaskSelected",onAfterSelect:"onTaskSelected",onAfterUnselect:"onTaskUnselected"}}),r.$data={tasksStore:n,linksStore:t}}},function(T,C,u){(function(g,h){(function(l,c){if(!l.setImmediate){var r,o=1,n={},t=!1,e=l.document,a=Object.getPrototypeOf&&Object.getPrototypeOf(l);a=a&&a.setTimeout?a:l,{}.toString.call(l.process)==="[object process]"?r=function(d){h.nextTick(function(){s(d)})}:function(){if(l.postMessage&&!l.importScripts){var d=!0,f=l.onmessage;return l.onmessage=function(){d=!1},l.postMessage("","*"),l.onmessage=f,d}}()?function(){var d="setImmediate$"+Math.random()+"$",f=function(_){_.source===l&&typeof _.data=="string"&&_.data.indexOf(d)===0&&s(+_.data.slice(d.length))};l.addEventListener?l.addEventListener("message",f,!1):l.attachEvent("onmessage",f),r=function(_){l.postMessage(d+_,"*")}}():l.MessageChannel?function(){var d=new MessageChannel;d.port1.onmessage=function(f){s(f.data)},r=function(f){d.port2.postMessage(f)}}():e&&"onreadystatechange"in e.createElement("script")?function(){var d=e.documentElement;r=function(f){var _=e.createElement("script");_.onreadystatechange=function(){s(f),_.onreadystatechange=null,d.removeChild(_),_=null},d.appendChild(_)}}():r=function(d){setTimeout(s,0,d)},a.setImmediate=function(d){typeof d!="function"&&(d=new Function(""+d));for(var f=new Array(arguments.length-1),_=0;_<f.length;_++)f[_]=arguments[_+1];var p={callback:d,args:f};return n[o]=p,r(o),o++},a.clearImmediate=i}function i(d){delete n[d]}function s(d){if(t)setTimeout(s,0,d);else{var f=n[d];if(f){t=!0;try{(function(_){var p=_.callback,v=_.args;switch(v.length){case 0:p();break;case 1:p(v[0]);break;case 2:p(v[0],v[1]);break;case 3:p(v[0],v[1],v[2]);break;default:p.apply(c,v)}})(f)}finally{i(d),t=!1}}}}})(typeof self>"u"?g===void 0?this:g:self)}).call(this,u(15),u(43))},function(T,C,u){(function(g){var h=g!==void 0&&g||typeof self<"u"&&self||window,l=Function.prototype.apply;function c(r,o){this._id=r,this._clearFn=o}C.setTimeout=function(){return new c(l.call(setTimeout,h,arguments),clearTimeout)},C.setInterval=function(){return new c(l.call(setInterval,h,arguments),clearInterval)},C.clearTimeout=C.clearInterval=function(r){r&&r.close()},c.prototype.unref=c.prototype.ref=function(){},c.prototype.close=function(){this._clearFn.call(h,this._id)},C.enroll=function(r,o){clearTimeout(r._idleTimeoutId),r._idleTimeout=o},C.unenroll=function(r){clearTimeout(r._idleTimeoutId),r._idleTimeout=-1},C._unrefActive=C.active=function(r){clearTimeout(r._idleTimeoutId);var o=r._idleTimeout;o>=0&&(r._idleTimeoutId=setTimeout(function(){r._onTimeout&&r._onTimeout()},o))},u(211),C.setImmediate=typeof self<"u"&&self.setImmediate||g!==void 0&&g.setImmediate||this&&this.setImmediate,C.clearImmediate=typeof self<"u"&&self.clearImmediate||g!==void 0&&g.clearImmediate||this&&this.clearImmediate}).call(this,u(15))},function(T,C,u){(function(g,h,l){var c,r,o;function n(t){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */(function(t){n(C)=="object"&&T!==void 0?T.exports=t():(r=[],(o=typeof(c=t)=="function"?c.apply(C,r):c)===void 0||(T.exports=o))})(function(){return function t(e,a,i){function s(_,p){if(!a[_]){if(!e[_]){var v=typeof _dereq_=="function"&&_dereq_;if(!p&&v)return v(_,!0);if(d)return d(_,!0);var y=new Error("Cannot find module '"+_+"'");throw y.code="MODULE_NOT_FOUND",y}var m=a[_]={exports:{}};e[_][0].call(m.exports,function(k){var b=e[_][1][k];return s(b||k)},m,m.exports,t,e,a,i)}return a[_].exports}for(var d=typeof _dereq_=="function"&&_dereq_,f=0;f<i.length;f++)s(i[f]);return s}({1:[function(t,e,a){e.exports=function(i){var s=i._SomePromiseArray;function d(f){var _=new s(f),p=_.promise();return _.setHowMany(1),_.setUnwrap(),_.init(),p}i.any=function(f){return d(f)},i.prototype.any=function(){return d(this)}}},{}],2:[function(t,e,a){var i;try{throw new Error}catch(b){i=b}var s=t("./schedule"),d=t("./queue"),f=t("./util");function _(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new d(16),this._normalQueue=new d(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var b=this;this.drainQueues=function(){b._drainQueues()},this._schedule=s}function p(b,w,x){this._lateQueue.push(b,w,x),this._queueTick()}function v(b,w,x){this._normalQueue.push(b,w,x),this._queueTick()}function y(b){this._normalQueue._pushOne(b),this._queueTick()}function m(b){for(;b.length()>0;)k(b)}function k(b){var w=b.shift();if(typeof w!="function")w._settlePromises();else{var x=b.shift(),$=b.shift();w.call(x,$)}}_.prototype.setScheduler=function(b){var w=this._schedule;return this._schedule=b,this._customScheduler=!0,w},_.prototype.hasCustomScheduler=function(){return this._customScheduler},_.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},_.prototype.disableTrampolineIfNecessary=function(){f.hasDevTools&&(this._trampolineEnabled=!1)},_.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},_.prototype.fatalError=function(b,w){w?(g.stderr.write("Fatal "+(b instanceof Error?b.stack:b)+`
`),g.exit(2)):this.throwLater(b)},_.prototype.throwLater=function(b,w){if(arguments.length===1&&(w=b,b=function(){throw w}),typeof setTimeout<"u")setTimeout(function(){b(w)},0);else try{this._schedule(function(){b(w)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}},f.hasDevTools?(_.prototype.invokeLater=function(b,w,x){this._trampolineEnabled?p.call(this,b,w,x):this._schedule(function(){setTimeout(function(){b.call(w,x)},100)})},_.prototype.invoke=function(b,w,x){this._trampolineEnabled?v.call(this,b,w,x):this._schedule(function(){b.call(w,x)})},_.prototype.settlePromises=function(b){this._trampolineEnabled?y.call(this,b):this._schedule(function(){b._settlePromises()})}):(_.prototype.invokeLater=p,_.prototype.invoke=v,_.prototype.settlePromises=y),_.prototype._drainQueues=function(){m(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,m(this._lateQueue)},_.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},_.prototype._reset=function(){this._isTickUsed=!1},e.exports=_,e.exports.firstLineError=i},{"./queue":26,"./schedule":29,"./util":36}],3:[function(t,e,a){e.exports=function(i,s,d,f){var _=!1,p=function(k,b){this._reject(b)},v=function(k,b){b.promiseRejectionQueued=!0,b.bindingPromise._then(p,p,null,this,k)},y=function(k,b){!(50397184&this._bitField)&&this._resolveCallback(b.target)},m=function(k,b){b.promiseRejectionQueued||this._reject(k)};i.prototype.bind=function(k){_||(_=!0,i.prototype._propagateFrom=f.propagateFromFunction(),i.prototype._boundValue=f.boundValueFunction());var b=d(k),w=new i(s);w._propagateFrom(this,1);var x=this._target();if(w._setBoundTo(b),b instanceof i){var $={promiseRejectionQueued:!1,promise:w,target:x,bindingPromise:b};x._then(s,v,void 0,w,$),b._then(y,m,void 0,w,$),w._setOnCancel(b)}else w._resolveCallback(x);return w},i.prototype._setBoundTo=function(k){k!==void 0?(this._bitField=2097152|this._bitField,this._boundTo=k):this._bitField=-2097153&this._bitField},i.prototype._isBound=function(){return(2097152&this._bitField)==2097152},i.bind=function(k,b){return i.resolve(b).bind(k)}}},{}],4:[function(t,e,a){var i;typeof Promise<"u"&&(i=Promise);var s=t("./promise")();s.noConflict=function(){try{Promise===s&&(Promise=i)}catch{}return s},e.exports=s},{"./promise":22}],5:[function(t,e,a){var i=Object.create;if(i){var s=i(null),d=i(null);s[" size"]=d[" size"]=0}e.exports=function(f){var _=t("./util"),p=_.canEvaluate;_.isIdentifier;function v(k){return function(b,w){var x;if(b!=null&&(x=b[w]),typeof x!="function"){var $="Object "+_.classString(b)+" has no method '"+_.toString(w)+"'";throw new f.TypeError($)}return x}(k,this.pop()).apply(k,this)}function y(k){return k[this]}function m(k){var b=+this;return b<0&&(b=Math.max(0,b+k.length)),k[b]}f.prototype.call=function(k){var b=[].slice.call(arguments,1);return b.push(k),this._then(v,void 0,void 0,b,void 0)},f.prototype.get=function(k){var b;if(typeof k=="number")b=m;else if(p){var w=(void 0)(k);b=w!==null?w:y}else b=y;return this._then(b,void 0,void 0,k,void 0)}}},{"./util":36}],6:[function(t,e,a){e.exports=function(i,s,d,f){var _=t("./util"),p=_.tryCatch,v=_.errorObj,y=i._async;i.prototype.break=i.prototype.cancel=function(){if(!f.cancellation())return this._warn("cancellation is disabled");for(var m=this,k=m;m._isCancellable();){if(!m._cancelBy(k)){k._isFollowing()?k._followee().cancel():k._cancelBranched();break}var b=m._cancellationParent;if(b==null||!b._isCancellable()){m._isFollowing()?m._followee().cancel():m._cancelBranched();break}m._isFollowing()&&m._followee().cancel(),m._setWillBeCancelled(),k=m,m=b}},i.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},i.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},i.prototype._cancelBy=function(m){return m===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},i.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},i.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),y.invoke(this._cancelPromises,this,void 0))},i.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},i.prototype._unsetOnCancel=function(){this._onCancelField=void 0},i.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},i.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},i.prototype._doInvokeOnCancel=function(m,k){if(_.isArray(m))for(var b=0;b<m.length;++b)this._doInvokeOnCancel(m[b],k);else if(m!==void 0)if(typeof m=="function"){if(!k){var w=p(m).call(this._boundValue());w===v&&(this._attachExtraTrace(w.e),y.throwLater(w.e))}}else m._resultCancelled(this)},i.prototype._invokeOnCancel=function(){var m=this._onCancel();this._unsetOnCancel(),y.invoke(this._doInvokeOnCancel,this,m)},i.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},i.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(t,e,a){e.exports=function(i){var s=t("./util"),d=t("./es5").keys,f=s.tryCatch,_=s.errorObj;return function(p,v,y){return function(m){var k=y._boundValue();t:for(var b=0;b<p.length;++b){var w=p[b];if(w===Error||w!=null&&w.prototype instanceof Error){if(m instanceof w)return f(v).call(k,m)}else if(typeof w=="function"){var x=f(w).call(k,m);if(x===_)return x;if(x)return f(v).call(k,m)}else if(s.isObject(m)){for(var $=d(w),S=0;S<$.length;++S){var E=$[S];if(w[E]!=m[E])continue t}return f(v).call(k,m)}}return i}}}},{"./es5":13,"./util":36}],8:[function(t,e,a){e.exports=function(i){var s=!1,d=[];function f(){this._trace=new f.CapturedTrace(_())}function _(){var p=d.length-1;if(p>=0)return d[p]}return i.prototype._promiseCreated=function(){},i.prototype._pushContext=function(){},i.prototype._popContext=function(){return null},i._peekContext=i.prototype._peekContext=function(){},f.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,d.push(this._trace))},f.prototype._popContext=function(){if(this._trace!==void 0){var p=d.pop(),v=p._promiseCreated;return p._promiseCreated=null,v}return null},f.CapturedTrace=null,f.create=function(){if(s)return new f},f.deactivateLongStackTraces=function(){},f.activateLongStackTraces=function(){var p=i.prototype._pushContext,v=i.prototype._popContext,y=i._peekContext,m=i.prototype._peekContext,k=i.prototype._promiseCreated;f.deactivateLongStackTraces=function(){i.prototype._pushContext=p,i.prototype._popContext=v,i._peekContext=y,i.prototype._peekContext=m,i.prototype._promiseCreated=k,s=!1},s=!0,i.prototype._pushContext=f.prototype._pushContext,i.prototype._popContext=f.prototype._popContext,i._peekContext=i.prototype._peekContext=_,i.prototype._promiseCreated=function(){var b=this._peekContext();b&&b._promiseCreated==null&&(b._promiseCreated=this)}},f}},{}],9:[function(t,e,a){e.exports=function(i,s){var d,f,_,p=i._getDomain,v=i._async,y=t("./errors").Warning,m=t("./util"),k=t("./es5"),b=m.canAttachTrace,w=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,x=/\((?:timers\.js):\d+:\d+\)/,$=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,S=null,E=null,M=!1,D=m.env("BLUEBIRD_DEBUG")!=0,A=!(m.env("BLUEBIRD_WARNINGS")==0||!D&&!m.env("BLUEBIRD_WARNINGS")),I=!(m.env("BLUEBIRD_LONG_STACK_TRACES")==0||!D&&!m.env("BLUEBIRD_LONG_STACK_TRACES")),P=m.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(A||!!m.env("BLUEBIRD_W_FORGOTTEN_RETURN"));i.prototype.suppressUnhandledRejections=function(){var R=this._target();R._bitField=-1048577&R._bitField|524288},i.prototype._ensurePossibleRejectionHandled=function(){if(!(524288&this._bitField)){this._setRejectionIsUnhandled();var R=this;setTimeout(function(){R._notifyUnhandledRejection()},1)}},i.prototype._notifyUnhandledRejectionIsHandled=function(){_t("rejectionHandled",d,void 0,this)},i.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},i.prototype._returnedNonUndefined=function(){return(268435456&this._bitField)!=0},i.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var R=this._settledValue();this._setUnhandledRejectionIsNotified(),_t("unhandledRejection",f,R,this)}},i.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},i.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},i.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},i.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},i.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},i.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},i.prototype._warn=function(R,z,q){return nt(R,z,q||this)},i.onPossiblyUnhandledRejection=function(R){var z=p();f=typeof R=="function"?z===null?R:m.domainBind(z,R):void 0},i.onUnhandledRejectionHandled=function(R){var z=p();d=typeof R=="function"?z===null?R:m.domainBind(z,R):void 0};var H=function(){};i.longStackTraces=function(){if(v.haveItemsQueued()&&!ht.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!ht.longStackTraces&&vt()){var R=i.prototype._captureStackTrace,z=i.prototype._attachExtraTrace,q=i.prototype._dereferenceTrace;ht.longStackTraces=!0,H=function(){if(v.haveItemsQueued()&&!ht.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);i.prototype._captureStackTrace=R,i.prototype._attachExtraTrace=z,i.prototype._dereferenceTrace=q,s.deactivateLongStackTraces(),v.enableTrampoline(),ht.longStackTraces=!1},i.prototype._captureStackTrace=ct,i.prototype._attachExtraTrace=ut,i.prototype._dereferenceTrace=B,s.activateLongStackTraces(),v.disableTrampolineIfNecessary()}},i.hasLongStackTraces=function(){return ht.longStackTraces&&vt()};var O=function(){try{if(typeof CustomEvent=="function"){var R=new CustomEvent("CustomEvent");return m.global.dispatchEvent(R),function(z,q){var G={detail:q,cancelable:!0};k.defineProperty(G,"promise",{value:q.promise}),k.defineProperty(G,"reason",{value:q.reason});var it=new CustomEvent(z.toLowerCase(),G);return!m.global.dispatchEvent(it)}}return typeof Event=="function"?(R=new Event("CustomEvent"),m.global.dispatchEvent(R),function(z,q){var G=new Event(z.toLowerCase(),{cancelable:!0});return G.detail=q,k.defineProperty(G,"promise",{value:q.promise}),k.defineProperty(G,"reason",{value:q.reason}),!m.global.dispatchEvent(G)}):((R=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),m.global.dispatchEvent(R),function(z,q){var G=document.createEvent("CustomEvent");return G.initCustomEvent(z.toLowerCase(),!1,!0,q),!m.global.dispatchEvent(G)})}catch{}return function(){return!1}}(),V=m.isNode?function(){return g.emit.apply(g,arguments)}:m.global?function(R){var z="on"+R.toLowerCase(),q=m.global[z];return!!q&&(q.apply(m.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function j(R,z){return{promise:z}}var Y={promiseCreated:j,promiseFulfilled:j,promiseRejected:j,promiseResolved:j,promiseCancelled:j,promiseChained:function(R,z,q){return{promise:z,child:q}},warning:function(R,z){return{warning:z}},unhandledRejection:function(R,z,q){return{reason:z,promise:q}},rejectionHandled:j},N=function(R){var z=!1;try{z=V.apply(null,arguments)}catch(G){v.throwLater(G),z=!0}var q=!1;try{q=O(R,Y[R].apply(null,arguments))}catch(G){v.throwLater(G),q=!0}return q||z};function X(){return!1}function Q(R,z,q){var G=this;try{R(z,q,function(it){if(typeof it!="function")throw new TypeError("onCancel must be a function, got: "+m.toString(it));G._attachCancellationCallback(it)})}catch(it){return it}}function Z(R){if(!this._isCancellable())return this;var z=this._onCancel();z!==void 0?m.isArray(z)?z.push(R):this._setOnCancel([z,R]):this._setOnCancel(R)}function L(){return this._onCancelField}function F(R){this._onCancelField=R}function W(){this._cancellationParent=void 0,this._onCancelField=void 0}function U(R,z){if(1&z){this._cancellationParent=R;var q=R._branchesRemainingToCancel;q===void 0&&(q=0),R._branchesRemainingToCancel=q+1}2&z&&R._isBound()&&this._setBoundTo(R._boundTo)}i.config=function(R){if("longStackTraces"in(R=Object(R))&&(R.longStackTraces?i.longStackTraces():!R.longStackTraces&&i.hasLongStackTraces()&&H()),"warnings"in R){var z=R.warnings;ht.warnings=!!z,P=ht.warnings,m.isObject(z)&&"wForgottenReturn"in z&&(P=!!z.wForgottenReturn)}if("cancellation"in R&&R.cancellation&&!ht.cancellation){if(v.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");i.prototype._clearCancellationData=W,i.prototype._propagateFrom=U,i.prototype._onCancel=L,i.prototype._setOnCancel=F,i.prototype._attachCancellationCallback=Z,i.prototype._execute=Q,K=U,ht.cancellation=!0}return"monitoring"in R&&(R.monitoring&&!ht.monitoring?(ht.monitoring=!0,i.prototype._fireEvent=N):!R.monitoring&&ht.monitoring&&(ht.monitoring=!1,i.prototype._fireEvent=X)),i},i.prototype._fireEvent=X,i.prototype._execute=function(R,z,q){try{R(z,q)}catch(G){return G}},i.prototype._onCancel=function(){},i.prototype._setOnCancel=function(R){},i.prototype._attachCancellationCallback=function(R){},i.prototype._captureStackTrace=function(){},i.prototype._attachExtraTrace=function(){},i.prototype._dereferenceTrace=function(){},i.prototype._clearCancellationData=function(){},i.prototype._propagateFrom=function(R,z){};var K=function(R,z){2&z&&R._isBound()&&this._setBoundTo(R._boundTo)};function et(){var R=this._boundTo;return R!==void 0&&R instanceof i?R.isFulfilled()?R.value():void 0:R}function ct(){this._trace=new yt(this._peekContext())}function ut(R,z){if(b(R)){var q=this._trace;if(q!==void 0&&z&&(q=q._parent),q!==void 0)q.attachExtraTrace(R);else if(!R.__stackCleaned__){var G=at(R);m.notEnumerableProp(R,"stack",G.message+`
`+G.stack.join(`
`)),m.notEnumerableProp(R,"__stackCleaned__",!0)}}}function B(){this._trace=void 0}function nt(R,z,q){if(ht.warnings){var G,it=new y(R);if(z)q._attachExtraTrace(it);else if(ht.longStackTraces&&(G=i._peekContext()))G.attachExtraTrace(it);else{var tt=at(it);it.stack=tt.message+`
`+tt.stack.join(`
`)}N("warning",it)||rt(it,"",!0)}}function ot(R){for(var z=[],q=0;q<R.length;++q){var G=R[q],it=G==="    (No stack trace)"||S.test(G),tt=it&&kt(G);it&&!tt&&(M&&G.charAt(0)!==" "&&(G="    "+G),z.push(G))}return z}function at(R){var z=R.stack,q=R.toString();return z=typeof z=="string"&&z.length>0?function(G){for(var it=G.stack.replace(/\s+$/g,"").split(`
`),tt=0;tt<it.length;++tt){var J=it[tt];if(J==="    (No stack trace)"||S.test(J))break}return tt>0&&G.name!="SyntaxError"&&(it=it.slice(tt)),it}(R):["    (No stack trace)"],{message:q,stack:R.name=="SyntaxError"?z:ot(z)}}function rt(R,z,q){if(typeof console<"u"){var G;if(m.isObject(R)){var it=R.stack;G=z+E(it,R)}else G=z+String(R);typeof _=="function"?_(G,q):typeof console.log!="function"&&n(console.log)!=="object"||console.log(G)}}function _t(R,z,q,G){var it=!1;try{typeof z=="function"&&(it=!0,R==="rejectionHandled"?z(G):z(q,G))}catch(tt){v.throwLater(tt)}R==="unhandledRejection"?N(R,q,G)||it||rt(q,"Unhandled rejection "):N(R,G)}function pt(R){var z;if(typeof R=="function")z="[function "+(R.name||"anonymous")+"]";else{if(z=R&&typeof R.toString=="function"?R.toString():m.toString(R),/\[object [a-zA-Z0-9$_]+\]/.test(z))try{z=JSON.stringify(R)}catch{}z.length===0&&(z="(empty array)")}return"(<"+function(q){return q.length<41?q:q.substr(0,38)+"..."}(z)+">, no stack trace)"}function vt(){return typeof Mt=="function"}var kt=function(){return!1},wt=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function bt(R){var z=R.match(wt);if(z)return{fileName:z[1],line:parseInt(z[2],10)}}function yt(R){this._parent=R,this._promisesCreated=0;var z=this._length=1+(R===void 0?0:R._length);Mt(this,yt),z>32&&this.uncycle()}m.inherits(yt,Error),s.CapturedTrace=yt,yt.prototype.uncycle=function(){var R=this._length;if(!(R<2)){for(var z=[],q={},G=0,it=this;it!==void 0;++G)z.push(it),it=it._parent;for(G=(R=this._length=G)-1;G>=0;--G){var tt=z[G].stack;q[tt]===void 0&&(q[tt]=G)}for(G=0;G<R;++G){var J=q[z[G].stack];if(J!==void 0&&J!==G){J>0&&(z[J-1]._parent=void 0,z[J-1]._length=1),z[G]._parent=void 0,z[G]._length=1;var st=G>0?z[G-1]:this;J<R-1?(st._parent=z[J+1],st._parent.uncycle(),st._length=st._parent._length+1):(st._parent=void 0,st._length=1);for(var ft=st._length+1,dt=G-2;dt>=0;--dt)z[dt]._length=ft,ft++;return}}}},yt.prototype.attachExtraTrace=function(R){if(!R.__stackCleaned__){this.uncycle();for(var z=at(R),q=z.message,G=[z.stack],it=this;it!==void 0;)G.push(ot(it.stack.split(`
`))),it=it._parent;(function(tt){for(var J=tt[0],st=1;st<tt.length;++st){for(var ft=tt[st],dt=J.length-1,xt=J[dt],gt=-1,mt=ft.length-1;mt>=0;--mt)if(ft[mt]===xt){gt=mt;break}for(mt=gt;mt>=0;--mt){var Et=ft[mt];if(J[dt]!==Et)break;J.pop(),dt--}J=ft}})(G),function(tt){for(var J=0;J<tt.length;++J)(tt[J].length===0||J+1<tt.length&&tt[J][0]===tt[J+1][0])&&(tt.splice(J,1),J--)}(G),m.notEnumerableProp(R,"stack",function(tt,J){for(var st=0;st<J.length-1;++st)J[st].push("From previous event:"),J[st]=J[st].join(`
`);return st<J.length&&(J[st]=J[st].join(`
`)),tt+`
`+J.join(`
`)}(q,G)),m.notEnumerableProp(R,"__stackCleaned__",!0)}};var Mt=function(){var R=/^\s*at\s*/,z=function(tt,J){return typeof tt=="string"?tt:J.name!==void 0&&J.message!==void 0?J.toString():pt(J)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,S=R,E=z;var q=Error.captureStackTrace;return kt=function(tt){return w.test(tt)},function(tt,J){Error.stackTraceLimit+=6,q(tt,J),Error.stackTraceLimit-=6}}var G,it=new Error;if(typeof it.stack=="string"&&it.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return S=/@/,E=z,M=!0,function(tt){tt.stack=new Error().stack};try{throw new Error}catch(tt){G="stack"in tt}return"stack"in it||!G||typeof Error.stackTraceLimit!="number"?(E=function(tt,J){return typeof tt=="string"?tt:n(J)!=="object"&&typeof J!="function"||J.name===void 0||J.message===void 0?pt(J):J.toString()},null):(S=R,E=z,function(tt){Error.stackTraceLimit+=6;try{throw new Error}catch(J){tt.stack=J.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&console.warn!==void 0&&(_=function(R){console.warn(R)},m.isNode&&g.stderr.isTTY?_=function(R,z){var q=z?"\x1B[33m":"\x1B[31m";console.warn(q+R+`\x1B[0m
`)}:m.isNode||typeof new Error().stack!="string"||(_=function(R,z){console.warn("%c"+R,z?"color: darkorange":"color: red")}));var ht={warnings:A,longStackTraces:!1,cancellation:!1,monitoring:!1};return I&&i.longStackTraces(),{longStackTraces:function(){return ht.longStackTraces},warnings:function(){return ht.warnings},cancellation:function(){return ht.cancellation},monitoring:function(){return ht.monitoring},propagateFromFunction:function(){return K},boundValueFunction:function(){return et},checkForgottenReturns:function(R,z,q,G,it){if(R===void 0&&z!==null&&P){if(it!==void 0&&it._returnedNonUndefined()||!(65535&G._bitField))return;q&&(q+=" ");var tt="",J="";if(z._trace){for(var st=z._trace.stack.split(`
`),ft=ot(st),dt=ft.length-1;dt>=0;--dt){var xt=ft[dt];if(!x.test(xt)){var gt=xt.match($);gt&&(tt="at "+gt[1]+":"+gt[2]+":"+gt[3]+" ");break}}if(ft.length>0){var mt=ft[0];for(dt=0;dt<st.length;++dt)if(st[dt]===mt){dt>0&&(J=`
`+st[dt-1]);break}}}var Et="a promise was created in a "+q+"handler "+tt+"but was not returned from it, see http://goo.gl/rRqMUw"+J;G._warn(Et,!0,z)}},setBounds:function(R,z){if(vt()){for(var q,G,it=R.stack.split(`
`),tt=z.stack.split(`
`),J=-1,st=-1,ft=0;ft<it.length;++ft)if(dt=bt(it[ft])){q=dt.fileName,J=dt.line;break}for(ft=0;ft<tt.length;++ft){var dt;if(dt=bt(tt[ft])){G=dt.fileName,st=dt.line;break}}J<0||st<0||!q||!G||q!==G||J>=st||(kt=function(xt){if(w.test(xt))return!0;var gt=bt(xt);return!!(gt&&gt.fileName===q&&J<=gt.line&&gt.line<=st)})}},warn:nt,deprecated:function(R,z){var q=R+" is deprecated and will be removed in a future version.";return z&&(q+=" Use "+z+" instead."),nt(q)},CapturedTrace:yt,fireDomEvent:O,fireGlobalEvent:V}}},{"./errors":12,"./es5":13,"./util":36}],10:[function(t,e,a){e.exports=function(i){function s(){return this.value}function d(){throw this.reason}i.prototype.return=i.prototype.thenReturn=function(f){return f instanceof i&&f.suppressUnhandledRejections(),this._then(s,void 0,void 0,{value:f},void 0)},i.prototype.throw=i.prototype.thenThrow=function(f){return this._then(d,void 0,void 0,{reason:f},void 0)},i.prototype.catchThrow=function(f){if(arguments.length<=1)return this._then(void 0,d,void 0,{reason:f},void 0);var _=arguments[1];return this.caught(f,function(){throw _})},i.prototype.catchReturn=function(f){if(arguments.length<=1)return f instanceof i&&f.suppressUnhandledRejections(),this._then(void 0,s,void 0,{value:f},void 0);var _=arguments[1];return _ instanceof i&&_.suppressUnhandledRejections(),this.caught(f,function(){return _})}}},{}],11:[function(t,e,a){e.exports=function(i,s){var d=i.reduce,f=i.all;function _(){return f(this)}i.prototype.each=function(p){return d(this,p,s,0)._then(_,void 0,void 0,this,void 0)},i.prototype.mapSeries=function(p){return d(this,p,s,s)},i.each=function(p,v){return d(p,v,s,0)._then(_,void 0,void 0,p,void 0)},i.mapSeries=function(p,v){return d(p,v,s,s)}}},{}],12:[function(t,e,a){var i,s,d=t("./es5"),f=d.freeze,_=t("./util"),p=_.inherits,v=_.notEnumerableProp;function y(D,A){function I(P){if(!(this instanceof I))return new I(P);v(this,"message",typeof P=="string"?P:A),v(this,"name",D),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return p(I,Error),I}var m=y("Warning","warning"),k=y("CancellationError","cancellation error"),b=y("TimeoutError","timeout error"),w=y("AggregateError","aggregate error");try{i=TypeError,s=RangeError}catch{i=y("TypeError","type error"),s=y("RangeError","range error")}for(var x="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),$=0;$<x.length;++$)typeof Array.prototype[x[$]]=="function"&&(w.prototype[x[$]]=Array.prototype[x[$]]);d.defineProperty(w.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),w.prototype.isOperational=!0;var S=0;function E(D){if(!(this instanceof E))return new E(D);v(this,"name","OperationalError"),v(this,"message",D),this.cause=D,this.isOperational=!0,D instanceof Error?(v(this,"message",D.message),v(this,"stack",D.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}w.prototype.toString=function(){var D=Array(4*S+1).join(" "),A=`
`+D+`AggregateError of:
`;S++,D=Array(4*S+1).join(" ");for(var I=0;I<this.length;++I){for(var P=this[I]===this?"[Circular AggregateError]":this[I]+"",H=P.split(`
`),O=0;O<H.length;++O)H[O]=D+H[O];A+=(P=H.join(`
`))+`
`}return S--,A},p(E,Error);var M=Error.__BluebirdErrorTypes__;M||(M=f({CancellationError:k,TimeoutError:b,OperationalError:E,RejectionError:E,AggregateError:w}),d.defineProperty(Error,"__BluebirdErrorTypes__",{value:M,writable:!1,enumerable:!1,configurable:!1})),e.exports={Error,TypeError:i,RangeError:s,CancellationError:M.CancellationError,OperationalError:M.OperationalError,TimeoutError:M.TimeoutError,AggregateError:M.AggregateError,Warning:m}},{"./es5":13,"./util":36}],13:[function(t,e,a){var i=function(){return this===void 0}();if(i)e.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:i,propertyIsWritable:function(p,v){var y=Object.getOwnPropertyDescriptor(p,v);return!(y&&!y.writable&&!y.set)}};else{var s={}.hasOwnProperty,d={}.toString,f={}.constructor.prototype,_=function(p){var v=[];for(var y in p)s.call(p,y)&&v.push(y);return v};e.exports={isArray:function(p){try{return d.call(p)==="[object Array]"}catch{return!1}},keys:_,names:_,defineProperty:function(p,v,y){return p[v]=y.value,p},getDescriptor:function(p,v){return{value:p[v]}},freeze:function(p){return p},getPrototypeOf:function(p){try{return Object(p).constructor.prototype}catch{return f}},isES5:i,propertyIsWritable:function(){return!0}}}},{}],14:[function(t,e,a){e.exports=function(i,s){var d=i.map;i.prototype.filter=function(f,_){return d(this,f,_,s)},i.filter=function(f,_,p){return d(f,_,p,s)}}},{}],15:[function(t,e,a){e.exports=function(i,s,d){var f=t("./util"),_=i.CancellationError,p=f.errorObj,v=t("./catch_filter")(d);function y($,S,E){this.promise=$,this.type=S,this.handler=E,this.called=!1,this.cancelPromise=null}function m($){this.finallyHandler=$}function k($,S){return $.cancelPromise!=null&&(arguments.length>1?$.cancelPromise._reject(S):$.cancelPromise._cancel(),$.cancelPromise=null,!0)}function b(){return x.call(this,this.promise._target()._settledValue())}function w($){if(!k(this,$))return p.e=$,p}function x($){var S=this.promise,E=this.handler;if(!this.called){this.called=!0;var M=this.isFinallyHandler()?E.call(S._boundValue()):E.call(S._boundValue(),$);if(M===d)return M;if(M!==void 0){S._setReturnedNonUndefined();var D=s(M,S);if(D instanceof i){if(this.cancelPromise!=null){if(D._isCancelled()){var A=new _("late cancellation observer");return S._attachExtraTrace(A),p.e=A,p}D.isPending()&&D._attachCancellationCallback(new m(this))}return D._then(b,w,void 0,this,void 0)}}}return S.isRejected()?(k(this),p.e=$,p):(k(this),$)}return y.prototype.isFinallyHandler=function(){return this.type===0},m.prototype._resultCancelled=function(){k(this.finallyHandler)},i.prototype._passThrough=function($,S,E,M){return typeof $!="function"?this.then():this._then(E,M,void 0,new y(this,S,$),void 0)},i.prototype.lastly=i.prototype.finally=function($){return this._passThrough($,0,x,x)},i.prototype.tap=function($){return this._passThrough($,1,x)},i.prototype.tapCatch=function($){var S=arguments.length;if(S===1)return this._passThrough($,1,void 0,x);var E,M=new Array(S-1),D=0;for(E=0;E<S-1;++E){var A=arguments[E];if(!f.isObject(A))return i.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+f.classString(A)));M[D++]=A}M.length=D;var I=arguments[E];return this._passThrough(v(M,I,this),1,void 0,x)},y}},{"./catch_filter":7,"./util":36}],16:[function(t,e,a){e.exports=function(i,s,d,f,_,p){var v=t("./errors").TypeError,y=t("./util"),m=y.errorObj,k=y.tryCatch,b=[];function w(x,$,S,E){if(p.cancellation()){var M=new i(d),D=this._finallyPromise=new i(d);this._promise=M.lastly(function(){return D}),M._captureStackTrace(),M._setOnCancel(this)}else(this._promise=new i(d))._captureStackTrace();this._stack=E,this._generatorFunction=x,this._receiver=$,this._generator=void 0,this._yieldHandlers=typeof S=="function"?[S].concat(b):b,this._yieldedPromise=null,this._cancellationPhase=!1}y.inherits(w,_),w.prototype._isResolved=function(){return this._promise===null},w.prototype._cleanup=function(){this._promise=this._generator=null,p.cancellation()&&this._finallyPromise!==null&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},w.prototype._promiseCancelled=function(){if(!this._isResolved()){var x;if(this._generator.return!==void 0)this._promise._pushContext(),x=k(this._generator.return).call(this._generator,void 0),this._promise._popContext();else{var $=new i.CancellationError("generator .return() sentinel");i.coroutine.returnSentinel=$,this._promise._attachExtraTrace($),this._promise._pushContext(),x=k(this._generator.throw).call(this._generator,$),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(x)}},w.prototype._promiseFulfilled=function(x){this._yieldedPromise=null,this._promise._pushContext();var $=k(this._generator.next).call(this._generator,x);this._promise._popContext(),this._continue($)},w.prototype._promiseRejected=function(x){this._yieldedPromise=null,this._promise._attachExtraTrace(x),this._promise._pushContext();var $=k(this._generator.throw).call(this._generator,x);this._promise._popContext(),this._continue($)},w.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof i){var x=this._yieldedPromise;this._yieldedPromise=null,x.cancel()}},w.prototype.promise=function(){return this._promise},w.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},w.prototype._continue=function(x){var $=this._promise;if(x===m)return this._cleanup(),this._cancellationPhase?$.cancel():$._rejectCallback(x.e,!1);var S=x.value;if(x.done===!0)return this._cleanup(),this._cancellationPhase?$.cancel():$._resolveCallback(S);var E=f(S,this._promise);if(E instanceof i||(E=function(D,A,I){for(var P=0;P<A.length;++P){I._pushContext();var H=k(A[P])(D);if(I._popContext(),H===m){I._pushContext();var O=i.reject(m.e);return I._popContext(),O}var V=f(H,I);if(V instanceof i)return V}return null}(E,this._yieldHandlers,this._promise))!==null){var M=(E=E._target())._bitField;50397184&M?33554432&M?i._async.invoke(this._promiseFulfilled,this,E._value()):16777216&M?i._async.invoke(this._promiseRejected,this,E._reason()):this._promiseCancelled():(this._yieldedPromise=E,E._proxy(this,null))}else this._promiseRejected(new v(`A value %s was yielded that could not be treated as a promise

    See http://goo.gl/MqrFmX

`.replace("%s",String(S))+`From coroutine:
`+this._stack.split(`
`).slice(1,-7).join(`
`)))},i.coroutine=function(x,$){if(typeof x!="function")throw new v(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var S=Object($).yieldHandler,E=w,M=new Error().stack;return function(){var D=x.apply(this,arguments),A=new E(void 0,void 0,S,M),I=A.promise();return A._generator=D,A._promiseFulfilled(void 0),I}},i.coroutine.addYieldHandler=function(x){if(typeof x!="function")throw new v("expecting a function but got "+y.classString(x));b.push(x)},i.spawn=function(x){if(p.deprecated("Promise.spawn()","Promise.coroutine()"),typeof x!="function")return s(`generatorFunction must be a function

    See http://goo.gl/MqrFmX
`);var $=new w(x,this),S=$.promise();return $._run(i.spawn),S}}},{"./errors":12,"./util":36}],17:[function(t,e,a){e.exports=function(i,s,d,f,_,p){var v=t("./util");v.canEvaluate,v.tryCatch,v.errorObj,i.join=function(){var y,m=arguments.length-1;m>0&&typeof arguments[m]=="function"&&(y=arguments[m]);var k=[].slice.call(arguments);y&&k.pop();var b=new s(k).promise();return y!==void 0?b.spread(y):b}}},{"./util":36}],18:[function(t,e,a){e.exports=function(i,s,d,f,_,p){var v=i._getDomain,y=t("./util"),m=y.tryCatch,k=y.errorObj,b=i._async;function w($,S,E,M){this.constructor$($),this._promise._captureStackTrace();var D=v();this._callback=D===null?S:y.domainBind(D,S),this._preservedValues=M===_?new Array(this.length()):null,this._limit=E,this._inFlight=0,this._queue=[],b.invoke(this._asyncInit,this,void 0)}function x($,S,E,M){if(typeof S!="function")return d("expecting a function but got "+y.classString(S));var D=0;if(E!==void 0){if(n(E)!=="object"||E===null)return i.reject(new TypeError("options argument must be an object but it is "+y.classString(E)));if(typeof E.concurrency!="number")return i.reject(new TypeError("'concurrency' must be a number but it is "+y.classString(E.concurrency)));D=E.concurrency}return new w($,S,D=typeof D=="number"&&isFinite(D)&&D>=1?D:0,M).promise()}y.inherits(w,s),w.prototype._asyncInit=function(){this._init$(void 0,-2)},w.prototype._init=function(){},w.prototype._promiseFulfilled=function($,S){var E=this._values,M=this.length(),D=this._preservedValues,A=this._limit;if(S<0){if(E[S=-1*S-1]=$,A>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(A>=1&&this._inFlight>=A)return E[S]=$,this._queue.push(S),!1;D!==null&&(D[S]=$);var I=this._promise,P=this._callback,H=I._boundValue();I._pushContext();var O=m(P).call(H,$,S,M),V=I._popContext();if(p.checkForgottenReturns(O,V,D!==null?"Promise.filter":"Promise.map",I),O===k)return this._reject(O.e),!0;var j=f(O,this._promise);if(j instanceof i){var Y=(j=j._target())._bitField;if(!(50397184&Y))return A>=1&&this._inFlight++,E[S]=j,j._proxy(this,-1*(S+1)),!1;if(!(33554432&Y))return 16777216&Y?(this._reject(j._reason()),!0):(this._cancel(),!0);O=j._value()}E[S]=O}return++this._totalResolved>=M&&(D!==null?this._filter(E,D):this._resolve(E),!0)},w.prototype._drainQueue=function(){for(var $=this._queue,S=this._limit,E=this._values;$.length>0&&this._inFlight<S;){if(this._isResolved())return;var M=$.pop();this._promiseFulfilled(E[M],M)}},w.prototype._filter=function($,S){for(var E=S.length,M=new Array(E),D=0,A=0;A<E;++A)$[A]&&(M[D++]=S[A]);M.length=D,this._resolve(M)},w.prototype.preservedValues=function(){return this._preservedValues},i.prototype.map=function($,S){return x(this,$,S,null)},i.map=function($,S,E,M){return x($,S,E,M)}}},{"./util":36}],19:[function(t,e,a){e.exports=function(i,s,d,f,_){var p=t("./util"),v=p.tryCatch;i.method=function(y){if(typeof y!="function")throw new i.TypeError("expecting a function but got "+p.classString(y));return function(){var m=new i(s);m._captureStackTrace(),m._pushContext();var k=v(y).apply(this,arguments),b=m._popContext();return _.checkForgottenReturns(k,b,"Promise.method",m),m._resolveFromSyncValue(k),m}},i.attempt=i.try=function(y){if(typeof y!="function")return f("expecting a function but got "+p.classString(y));var m,k=new i(s);if(k._captureStackTrace(),k._pushContext(),arguments.length>1){_.deprecated("calling Promise.try with more than 1 argument");var b=arguments[1],w=arguments[2];m=p.isArray(b)?v(y).apply(w,b):v(y).call(w,b)}else m=v(y)();var x=k._popContext();return _.checkForgottenReturns(m,x,"Promise.try",k),k._resolveFromSyncValue(m),k},i.prototype._resolveFromSyncValue=function(y){y===p.errorObj?this._rejectCallback(y.e,!1):this._resolveCallback(y,!0)}}},{"./util":36}],20:[function(t,e,a){var i=t("./util"),s=i.maybeWrapAsError,d=t("./errors").OperationalError,f=t("./es5"),_=/^(?:name|message|stack|cause)$/;function p(v){var y;if(function(w){return w instanceof Error&&f.getPrototypeOf(w)===Error.prototype}(v)){(y=new d(v)).name=v.name,y.message=v.message,y.stack=v.stack;for(var m=f.keys(v),k=0;k<m.length;++k){var b=m[k];_.test(b)||(y[b]=v[b])}return y}return i.markAsOriginatingFromRejection(v),v}e.exports=function(v,y){return function(m,k){if(v!==null){if(m){var b=p(s(m));v._attachExtraTrace(b),v._reject(b)}else if(y){var w=[].slice.call(arguments,1);v._fulfill(w)}else v._fulfill(k);v=null}}}},{"./errors":12,"./es5":13,"./util":36}],21:[function(t,e,a){e.exports=function(i){var s=t("./util"),d=i._async,f=s.tryCatch,_=s.errorObj;function p(m,k){if(!s.isArray(m))return v.call(this,m,k);var b=f(k).apply(this._boundValue(),[null].concat(m));b===_&&d.throwLater(b.e)}function v(m,k){var b=this._boundValue(),w=m===void 0?f(k).call(b,null):f(k).call(b,null,m);w===_&&d.throwLater(w.e)}function y(m,k){if(!m){var b=new Error(m+"");b.cause=m,m=b}var w=f(k).call(this._boundValue(),m);w===_&&d.throwLater(w.e)}i.prototype.asCallback=i.prototype.nodeify=function(m,k){if(typeof m=="function"){var b=v;k!==void 0&&Object(k).spread&&(b=p),this._then(b,y,void 0,this,m)}return this}}},{"./util":36}],22:[function(t,e,a){e.exports=function(){var i=function(){return new w(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},s=function(){return new N.PromiseInspection(this._target())},d=function(L){return N.reject(new w(L))};function f(){}var _,p={},v=t("./util");_=v.isNode?function(){var L=g.domain;return L===void 0&&(L=null),L}:function(){return null},v.notEnumerableProp(N,"_getDomain",_);var y=t("./es5"),m=t("./async"),k=new m;y.defineProperty(N,"_async",{value:k});var b=t("./errors"),w=N.TypeError=b.TypeError;N.RangeError=b.RangeError;var x=N.CancellationError=b.CancellationError;N.TimeoutError=b.TimeoutError,N.OperationalError=b.OperationalError,N.RejectionError=b.OperationalError,N.AggregateError=b.AggregateError;var $=function(){},S={},E={},M=t("./thenables")(N,$),D=t("./promise_array")(N,$,M,d,f),A=t("./context")(N),I=A.create,P=t("./debuggability")(N,A),H=(P.CapturedTrace,t("./finally")(N,M,E)),O=t("./catch_filter")(E),V=t("./nodeback"),j=v.errorObj,Y=v.tryCatch;function N(L){L!==$&&function(F,W){if(F==null||F.constructor!==N)throw new w(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof W!="function")throw new w("expecting a function but got "+v.classString(W))}(this,L),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(L),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function X(L){this.promise._resolveCallback(L)}function Q(L){this.promise._rejectCallback(L,!1)}function Z(L){var F=new N($);F._fulfillmentHandler0=L,F._rejectionHandler0=L,F._promise0=L,F._receiver0=L}return N.prototype.toString=function(){return"[object Promise]"},N.prototype.caught=N.prototype.catch=function(L){var F=arguments.length;if(F>1){var W,U=new Array(F-1),K=0;for(W=0;W<F-1;++W){var et=arguments[W];if(!v.isObject(et))return d("Catch statement predicate: expecting an object but got "+v.classString(et));U[K++]=et}return U.length=K,L=arguments[W],this.then(void 0,O(U,L,this))}return this.then(void 0,L)},N.prototype.reflect=function(){return this._then(s,s,void 0,this,void 0)},N.prototype.then=function(L,F){if(P.warnings()&&arguments.length>0&&typeof L!="function"&&typeof F!="function"){var W=".then() only accepts functions but was passed: "+v.classString(L);arguments.length>1&&(W+=", "+v.classString(F)),this._warn(W)}return this._then(L,F,void 0,void 0,void 0)},N.prototype.done=function(L,F){this._then(L,F,void 0,void 0,void 0)._setIsFinal()},N.prototype.spread=function(L){return typeof L!="function"?d("expecting a function but got "+v.classString(L)):this.all()._then(L,void 0,void 0,S,void 0)},N.prototype.toJSON=function(){var L={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(L.fulfillmentValue=this.value(),L.isFulfilled=!0):this.isRejected()&&(L.rejectionReason=this.reason(),L.isRejected=!0),L},N.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new D(this).promise()},N.prototype.error=function(L){return this.caught(v.originatesFromRejection,L)},N.getNewLibraryCopy=e.exports,N.is=function(L){return L instanceof N},N.fromNode=N.fromCallback=function(L){var F=new N($);F._captureStackTrace();var W=arguments.length>1&&!!Object(arguments[1]).multiArgs,U=Y(L)(V(F,W));return U===j&&F._rejectCallback(U.e,!0),F._isFateSealed()||F._setAsyncGuaranteed(),F},N.all=function(L){return new D(L).promise()},N.cast=function(L){var F=M(L);return F instanceof N||((F=new N($))._captureStackTrace(),F._setFulfilled(),F._rejectionHandler0=L),F},N.resolve=N.fulfilled=N.cast,N.reject=N.rejected=function(L){var F=new N($);return F._captureStackTrace(),F._rejectCallback(L,!0),F},N.setScheduler=function(L){if(typeof L!="function")throw new w("expecting a function but got "+v.classString(L));return k.setScheduler(L)},N.prototype._then=function(L,F,W,U,K){var et=K!==void 0,ct=et?K:new N($),ut=this._target(),B=ut._bitField;et||(ct._propagateFrom(this,3),ct._captureStackTrace(),U===void 0&&2097152&this._bitField&&(U=50397184&B?this._boundValue():ut===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,ct));var nt=_();if(50397184&B){var ot,at,rt=ut._settlePromiseCtx;33554432&B?(at=ut._rejectionHandler0,ot=L):16777216&B?(at=ut._fulfillmentHandler0,ot=F,ut._unsetRejectionIsUnhandled()):(rt=ut._settlePromiseLateCancellationObserver,at=new x("late cancellation observer"),ut._attachExtraTrace(at),ot=F),k.invoke(rt,ut,{handler:nt===null?ot:typeof ot=="function"&&v.domainBind(nt,ot),promise:ct,receiver:U,value:at})}else ut._addCallbacks(L,F,ct,U,nt);return ct},N.prototype._length=function(){return 65535&this._bitField},N.prototype._isFateSealed=function(){return(117506048&this._bitField)!=0},N.prototype._isFollowing=function(){return(67108864&this._bitField)==67108864},N.prototype._setLength=function(L){this._bitField=-65536&this._bitField|65535&L},N.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},N.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},N.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},N.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},N.prototype._isFinal=function(){return(4194304&this._bitField)>0},N.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},N.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},N.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},N.prototype._setAsyncGuaranteed=function(){k.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},N.prototype._receiverAt=function(L){var F=L===0?this._receiver0:this[4*L-4+3];if(F!==p)return F===void 0&&this._isBound()?this._boundValue():F},N.prototype._promiseAt=function(L){return this[4*L-4+2]},N.prototype._fulfillmentHandlerAt=function(L){return this[4*L-4+0]},N.prototype._rejectionHandlerAt=function(L){return this[4*L-4+1]},N.prototype._boundValue=function(){},N.prototype._migrateCallback0=function(L){L._bitField;var F=L._fulfillmentHandler0,W=L._rejectionHandler0,U=L._promise0,K=L._receiverAt(0);K===void 0&&(K=p),this._addCallbacks(F,W,U,K,null)},N.prototype._migrateCallbackAt=function(L,F){var W=L._fulfillmentHandlerAt(F),U=L._rejectionHandlerAt(F),K=L._promiseAt(F),et=L._receiverAt(F);et===void 0&&(et=p),this._addCallbacks(W,U,K,et,null)},N.prototype._addCallbacks=function(L,F,W,U,K){var et=this._length();if(et>=65531&&(et=0,this._setLength(0)),et===0)this._promise0=W,this._receiver0=U,typeof L=="function"&&(this._fulfillmentHandler0=K===null?L:v.domainBind(K,L)),typeof F=="function"&&(this._rejectionHandler0=K===null?F:v.domainBind(K,F));else{var ct=4*et-4;this[ct+2]=W,this[ct+3]=U,typeof L=="function"&&(this[ct+0]=K===null?L:v.domainBind(K,L)),typeof F=="function"&&(this[ct+1]=K===null?F:v.domainBind(K,F))}return this._setLength(et+1),et},N.prototype._proxy=function(L,F){this._addCallbacks(void 0,void 0,F,L,null)},N.prototype._resolveCallback=function(L,F){if(!(117506048&this._bitField)){if(L===this)return this._rejectCallback(i(),!1);var W=M(L,this);if(!(W instanceof N))return this._fulfill(L);F&&this._propagateFrom(W,2);var U=W._target();if(U!==this){var K=U._bitField;if(50397184&K)if(33554432&K)this._fulfill(U._value());else if(16777216&K)this._reject(U._reason());else{var ut=new x("late cancellation observer");U._attachExtraTrace(ut),this._reject(ut)}else{var et=this._length();et>0&&U._migrateCallback0(this);for(var ct=1;ct<et;++ct)U._migrateCallbackAt(this,ct);this._setFollowing(),this._setLength(0),this._setFollowee(U)}}else this._reject(i())}},N.prototype._rejectCallback=function(L,F,W){var U=v.ensureErrorObject(L),K=U===L;if(!K&&!W&&P.warnings()){var et="a promise was rejected with a non-error: "+v.classString(L);this._warn(et,!0)}this._attachExtraTrace(U,!!F&&K),this._reject(L)},N.prototype._resolveFromExecutor=function(L){if(L!==$){var F=this;this._captureStackTrace(),this._pushContext();var W=!0,U=this._execute(L,function(K){F._resolveCallback(K)},function(K){F._rejectCallback(K,W)});W=!1,this._popContext(),U!==void 0&&F._rejectCallback(U,!0)}},N.prototype._settlePromiseFromHandler=function(L,F,W,U){var K=U._bitField;if(!(65536&K)){var et;U._pushContext(),F===S?W&&typeof W.length=="number"?et=Y(L).apply(this._boundValue(),W):(et=j).e=new w("cannot .spread() a non-array: "+v.classString(W)):et=Y(L).call(F,W);var ct=U._popContext();!(65536&(K=U._bitField))&&(et===E?U._reject(W):et===j?U._rejectCallback(et.e,!1):(P.checkForgottenReturns(et,ct,"",U,this),U._resolveCallback(et)))}},N.prototype._target=function(){for(var L=this;L._isFollowing();)L=L._followee();return L},N.prototype._followee=function(){return this._rejectionHandler0},N.prototype._setFollowee=function(L){this._rejectionHandler0=L},N.prototype._settlePromise=function(L,F,W,U){var K=L instanceof N,et=this._bitField,ct=(134217728&et)!=0;65536&et?(K&&L._invokeInternalOnCancel(),W instanceof H&&W.isFinallyHandler()?(W.cancelPromise=L,Y(F).call(W,U)===j&&L._reject(j.e)):F===s?L._fulfill(s.call(W)):W instanceof f?W._promiseCancelled(L):K||L instanceof D?L._cancel():W.cancel()):typeof F=="function"?K?(ct&&L._setAsyncGuaranteed(),this._settlePromiseFromHandler(F,W,U,L)):F.call(W,U,L):W instanceof f?W._isResolved()||(33554432&et?W._promiseFulfilled(U,L):W._promiseRejected(U,L)):K&&(ct&&L._setAsyncGuaranteed(),33554432&et?L._fulfill(U):L._reject(U))},N.prototype._settlePromiseLateCancellationObserver=function(L){var F=L.handler,W=L.promise,U=L.receiver,K=L.value;typeof F=="function"?W instanceof N?this._settlePromiseFromHandler(F,U,K,W):F.call(U,K,W):W instanceof N&&W._reject(K)},N.prototype._settlePromiseCtx=function(L){this._settlePromise(L.promise,L.handler,L.receiver,L.value)},N.prototype._settlePromise0=function(L,F,W){var U=this._promise0,K=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(U,L,K,F)},N.prototype._clearCallbackDataAtIndex=function(L){var F=4*L-4;this[F+2]=this[F+3]=this[F+0]=this[F+1]=void 0},N.prototype._fulfill=function(L){var F=this._bitField;if(!((117506048&F)>>>16)){if(L===this){var W=i();return this._attachExtraTrace(W),this._reject(W)}this._setFulfilled(),this._rejectionHandler0=L,(65535&F)>0&&(134217728&F?this._settlePromises():k.settlePromises(this),this._dereferenceTrace())}},N.prototype._reject=function(L){var F=this._bitField;if(!((117506048&F)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=L,this._isFinal())return k.fatalError(L,v.isNode);(65535&F)>0?k.settlePromises(this):this._ensurePossibleRejectionHandled()}},N.prototype._fulfillPromises=function(L,F){for(var W=1;W<L;W++){var U=this._fulfillmentHandlerAt(W),K=this._promiseAt(W),et=this._receiverAt(W);this._clearCallbackDataAtIndex(W),this._settlePromise(K,U,et,F)}},N.prototype._rejectPromises=function(L,F){for(var W=1;W<L;W++){var U=this._rejectionHandlerAt(W),K=this._promiseAt(W),et=this._receiverAt(W);this._clearCallbackDataAtIndex(W),this._settlePromise(K,U,et,F)}},N.prototype._settlePromises=function(){var L=this._bitField,F=65535&L;if(F>0){if(16842752&L){var W=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,W,L),this._rejectPromises(F,W)}else{var U=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,U,L),this._fulfillPromises(F,U)}this._setLength(0)}this._clearCancellationData()},N.prototype._settledValue=function(){var L=this._bitField;return 33554432&L?this._rejectionHandler0:16777216&L?this._fulfillmentHandler0:void 0},N.defer=N.pending=function(){return P.deprecated("Promise.defer","new Promise"),{promise:new N($),resolve:X,reject:Q}},v.notEnumerableProp(N,"_makeSelfResolutionError",i),t("./method")(N,$,M,d,P),t("./bind")(N,$,M,P),t("./cancel")(N,D,d,P),t("./direct_resolve")(N),t("./synchronous_inspection")(N),t("./join")(N,D,M,$,k,_),N.Promise=N,N.version="3.5.4",t("./map.js")(N,D,d,M,$,P),t("./call_get.js")(N),t("./using.js")(N,d,M,I,$,P),t("./timers.js")(N,$,P),t("./generators.js")(N,d,$,M,f,P),t("./nodeify.js")(N),t("./promisify.js")(N,$),t("./props.js")(N,D,M,d),t("./race.js")(N,$,M,d),t("./reduce.js")(N,D,d,M,$,P),t("./settle.js")(N,D,P),t("./some.js")(N,D,d),t("./filter.js")(N,$),t("./each.js")(N,$),t("./any.js")(N),v.toFastProperties(N),v.toFastProperties(N.prototype),Z({a:1}),Z({b:2}),Z({c:3}),Z(1),Z(function(){}),Z(void 0),Z(!1),Z(new N($)),P.setBounds(m.firstLineError,v.lastLineError),N}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(t,e,a){e.exports=function(i,s,d,f,_){var p=t("./util");p.isArray;function v(y){var m=this._promise=new i(s);y instanceof i&&m._propagateFrom(y,3),m._setOnCancel(this),this._values=y,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return p.inherits(v,_),v.prototype.length=function(){return this._length},v.prototype.promise=function(){return this._promise},v.prototype._init=function y(m,k){var b=d(this._values,this._promise);if(b instanceof i){var w=(b=b._target())._bitField;if(this._values=b,(50397184&w)==0)return this._promise._setAsyncGuaranteed(),b._then(y,this._reject,void 0,this,k);if(!(33554432&w))return 16777216&w?this._reject(b._reason()):this._cancel();b=b._value()}if((b=p.asArray(b))!==null)b.length!==0?this._iterate(b):k===-5?this._resolveEmptyArray():this._resolve(function($){switch($){case-2:return[];case-3:return{};case-6:return new Map}}(k));else{var x=f("expecting an array or an iterable object but got "+p.classString(b)).reason();this._promise._rejectCallback(x,!1)}},v.prototype._iterate=function(y){var m=this.getActualLength(y.length);this._length=m,this._values=this.shouldCopyValues()?new Array(m):this._values;for(var k=this._promise,b=!1,w=null,x=0;x<m;++x){var $=d(y[x],k);w=$ instanceof i?($=$._target())._bitField:null,b?w!==null&&$.suppressUnhandledRejections():w!==null?50397184&w?b=33554432&w?this._promiseFulfilled($._value(),x):16777216&w?this._promiseRejected($._reason(),x):this._promiseCancelled(x):($._proxy(this,x),this._values[x]=$):b=this._promiseFulfilled($,x)}b||k._setAsyncGuaranteed()},v.prototype._isResolved=function(){return this._values===null},v.prototype._resolve=function(y){this._values=null,this._promise._fulfill(y)},v.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},v.prototype._reject=function(y){this._values=null,this._promise._rejectCallback(y,!1)},v.prototype._promiseFulfilled=function(y,m){return this._values[m]=y,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},v.prototype._promiseCancelled=function(){return this._cancel(),!0},v.prototype._promiseRejected=function(y){return this._totalResolved++,this._reject(y),!0},v.prototype._resultCancelled=function(){if(!this._isResolved()){var y=this._values;if(this._cancel(),y instanceof i)y.cancel();else for(var m=0;m<y.length;++m)y[m]instanceof i&&y[m].cancel()}},v.prototype.shouldCopyValues=function(){return!0},v.prototype.getActualLength=function(y){return y},v}},{"./util":36}],24:[function(t,e,a){e.exports=function(i,s){var d={},f=t("./util"),_=t("./nodeback"),p=f.withAppended,v=f.maybeWrapAsError,y=f.canEvaluate,m=t("./errors").TypeError,k={__isPromisified__:!0},b=new RegExp("^(?:"+["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"].join("|")+")$"),w=function(I){return f.isIdentifier(I)&&I.charAt(0)!=="_"&&I!=="constructor"};function x(I){return!b.test(I)}function $(I){try{return I.__isPromisified__===!0}catch{return!1}}function S(I,P,H){var O=f.getDataPropertyOrDefault(I,P+H,k);return!!O&&$(O)}function E(I,P,H,O){for(var V=f.inheritedDataKeys(I),j=[],Y=0;Y<V.length;++Y){var N=V[Y],X=I[N],Q=O===w||w(N);typeof X!="function"||$(X)||S(I,N,P)||!O(N,X,I,Q)||j.push(N,X)}return function(Z,L,F){for(var W=0;W<Z.length;W+=2){var U=Z[W];if(F.test(U)){for(var K=U.replace(F,""),et=0;et<Z.length;et+=2)if(Z[et]===K)throw new m(`Cannot promisify an API that has normal methods with '%s'-suffix

    See http://goo.gl/MqrFmX
`.replace("%s",L))}}}(j,P,H),j}var M=function(I){return I.replace(/([$])/,"\\$")},D=y?void 0:function(I,P,H,O,V,j){var Y=function(){return this}(),N=I;function X(){var Q=P;P===d&&(Q=this);var Z=new i(s);Z._captureStackTrace();var L=typeof N=="string"&&this!==Y?this[N]:I,F=_(Z,j);try{L.apply(Q,p(arguments,F))}catch(W){Z._rejectCallback(v(W),!0,!0)}return Z._isFateSealed()||Z._setAsyncGuaranteed(),Z}return typeof N=="string"&&(I=O),f.notEnumerableProp(X,"__isPromisified__",!0),X};function A(I,P,H,O,V){for(var j=new RegExp(M(P)+"$"),Y=E(I,P,j,H),N=0,X=Y.length;N<X;N+=2){var Q=Y[N],Z=Y[N+1],L=Q+P;if(O===D)I[L]=D(Q,d,Q,Z,P,V);else{var F=O(Z,function(){return D(Q,d,Q,Z,P,V)});f.notEnumerableProp(F,"__isPromisified__",!0),I[L]=F}}return f.toFastProperties(I),I}i.promisify=function(I,P){if(typeof I!="function")throw new m("expecting a function but got "+f.classString(I));if($(I))return I;var H=function(O,V,j){return D(O,V,void 0,O,null,j)}(I,(P=Object(P)).context===void 0?d:P.context,!!P.multiArgs);return f.copyDescriptors(I,H,x),H},i.promisifyAll=function(I,P){if(typeof I!="function"&&n(I)!=="object")throw new m(`the target of promisifyAll must be an object or a function

    See http://goo.gl/MqrFmX
`);var H=!!(P=Object(P)).multiArgs,O=P.suffix;typeof O!="string"&&(O="Async");var V=P.filter;typeof V!="function"&&(V=w);var j=P.promisifier;if(typeof j!="function"&&(j=D),!f.isIdentifier(O))throw new RangeError(`suffix must be a valid identifier

    See http://goo.gl/MqrFmX
`);for(var Y=f.inheritedDataKeys(I),N=0;N<Y.length;++N){var X=I[Y[N]];Y[N]!=="constructor"&&f.isClass(X)&&(A(X.prototype,O,V,j,H),A(X,O,V,j,H))}return A(I,O,V,j,H)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(t,e,a){e.exports=function(i,s,d,f){var _,p=t("./util"),v=p.isObject,y=t("./es5");typeof Map=="function"&&(_=Map);var m=function(){var w=0,x=0;function $(S,E){this[w]=S,this[w+x]=E,w++}return function(S){x=S.size,w=0;var E=new Array(2*S.size);return S.forEach($,E),E}}();function k(w){var x,$=!1;if(_!==void 0&&w instanceof _)x=m(w),$=!0;else{var S=y.keys(w),E=S.length;x=new Array(2*E);for(var M=0;M<E;++M){var D=S[M];x[M]=w[D],x[M+E]=D}}this.constructor$(x),this._isMap=$,this._init$(void 0,$?-6:-3)}function b(w){var x,$=d(w);return v($)?(x=$ instanceof i?$._then(i.props,void 0,void 0,void 0,void 0):new k($).promise(),$ instanceof i&&x._propagateFrom($,2),x):f(`cannot await properties of a non-object

    See http://goo.gl/MqrFmX
`)}p.inherits(k,s),k.prototype._init=function(){},k.prototype._promiseFulfilled=function(w,x){if(this._values[x]=w,++this._totalResolved>=this._length){var $;if(this._isMap)$=function(D){for(var A=new _,I=D.length/2|0,P=0;P<I;++P){var H=D[I+P],O=D[P];A.set(H,O)}return A}(this._values);else{$={};for(var S=this.length(),E=0,M=this.length();E<M;++E)$[this._values[E+S]]=this._values[E]}return this._resolve($),!0}return!1},k.prototype.shouldCopyValues=function(){return!1},k.prototype.getActualLength=function(w){return w>>1},i.prototype.props=function(){return b(this)},i.props=function(w){return b(w)}}},{"./es5":13,"./util":36}],26:[function(t,e,a){function i(s){this._capacity=s,this._length=0,this._front=0}i.prototype._willBeOverCapacity=function(s){return this._capacity<s},i.prototype._pushOne=function(s){var d=this.length();this._checkCapacity(d+1),this[this._front+d&this._capacity-1]=s,this._length=d+1},i.prototype.push=function(s,d,f){var _=this.length()+3;if(this._willBeOverCapacity(_))return this._pushOne(s),this._pushOne(d),void this._pushOne(f);var p=this._front+_-3;this._checkCapacity(_);var v=this._capacity-1;this[p+0&v]=s,this[p+1&v]=d,this[p+2&v]=f,this._length=_},i.prototype.shift=function(){var s=this._front,d=this[s];return this[s]=void 0,this._front=s+1&this._capacity-1,this._length--,d},i.prototype.length=function(){return this._length},i.prototype._checkCapacity=function(s){this._capacity<s&&this._resizeTo(this._capacity<<1)},i.prototype._resizeTo=function(s){var d=this._capacity;this._capacity=s,function(f,_,p,v,y){for(var m=0;m<y;++m)p[m+v]=f[m+_],f[m+_]=void 0}(this,0,this,d,this._front+this._length&d-1)},e.exports=i},{}],27:[function(t,e,a){e.exports=function(i,s,d,f){var _=t("./util"),p=function(y){return y.then(function(m){return v(m,y)})};function v(y,m){var k=d(y);if(k instanceof i)return p(k);if((y=_.asArray(y))===null)return f("expecting an array or an iterable object but got "+_.classString(y));var b=new i(s);m!==void 0&&b._propagateFrom(m,3);for(var w=b._fulfill,x=b._reject,$=0,S=y.length;$<S;++$){var E=y[$];(E!==void 0||$ in y)&&i.cast(E)._then(w,x,void 0,b,null)}return b}i.race=function(y){return v(y,void 0)},i.prototype.race=function(){return v(this,void 0)}}},{"./util":36}],28:[function(t,e,a){e.exports=function(i,s,d,f,_,p){var v=i._getDomain,y=t("./util"),m=y.tryCatch;function k(S,E,M,D){this.constructor$(S);var A=v();this._fn=A===null?E:y.domainBind(A,E),M!==void 0&&(M=i.resolve(M))._attachCancellationCallback(this),this._initialValue=M,this._currentCancellable=null,this._eachValues=D===_?Array(this._length):D===0?null:void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function b(S,E){this.isFulfilled()?E._resolve(S):E._reject(S)}function w(S,E,M,D){return typeof E!="function"?d("expecting a function but got "+y.classString(E)):new k(S,E,M,D).promise()}function x(S){this.accum=S,this.array._gotAccum(S);var E=f(this.value,this.array._promise);return E instanceof i?(this.array._currentCancellable=E,E._then($,void 0,void 0,this,void 0)):$.call(this,E)}function $(S){var E,M=this.array,D=M._promise,A=m(M._fn);D._pushContext(),(E=M._eachValues!==void 0?A.call(D._boundValue(),S,this.index,this.length):A.call(D._boundValue(),this.accum,S,this.index,this.length))instanceof i&&(M._currentCancellable=E);var I=D._popContext();return p.checkForgottenReturns(E,I,M._eachValues!==void 0?"Promise.each":"Promise.reduce",D),E}y.inherits(k,s),k.prototype._gotAccum=function(S){this._eachValues!==void 0&&this._eachValues!==null&&S!==_&&this._eachValues.push(S)},k.prototype._eachComplete=function(S){return this._eachValues!==null&&this._eachValues.push(S),this._eachValues},k.prototype._init=function(){},k.prototype._resolveEmptyArray=function(){this._resolve(this._eachValues!==void 0?this._eachValues:this._initialValue)},k.prototype.shouldCopyValues=function(){return!1},k.prototype._resolve=function(S){this._promise._resolveCallback(S),this._values=null},k.prototype._resultCancelled=function(S){if(S===this._initialValue)return this._cancel();this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof i&&this._currentCancellable.cancel(),this._initialValue instanceof i&&this._initialValue.cancel())},k.prototype._iterate=function(S){var E,M;this._values=S;var D=S.length;if(this._initialValue!==void 0?(E=this._initialValue,M=0):(E=i.resolve(S[0]),M=1),this._currentCancellable=E,!E.isRejected())for(;M<D;++M){var A={accum:null,value:S[M],index:M,length:D,array:this};E=E._then(x,void 0,void 0,A,void 0)}this._eachValues!==void 0&&(E=E._then(this._eachComplete,void 0,void 0,this,void 0)),E._then(b,b,void 0,E,this)},i.prototype.reduce=function(S,E){return w(this,S,E,null)},i.reduce=function(S,E,M,D){return w(S,E,M,D)}}},{"./util":36}],29:[function(t,e,a){var i,s=t("./util"),d=s.getNativePromise();if(s.isNode&&typeof MutationObserver>"u"){var f=h.setImmediate,_=g.nextTick;i=s.isRecentNode?function(v){f.call(h,v)}:function(v){_.call(g,v)}}else if(typeof d=="function"&&typeof d.resolve=="function"){var p=d.resolve();i=function(v){p.then(v)}}else i=typeof MutationObserver>"u"||typeof window<"u"&&window.navigator&&(window.navigator.standalone||window.cordova)?l!==void 0?function(v){l(v)}:typeof setTimeout<"u"?function(v){setTimeout(v,0)}:function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}:function(){var v=document.createElement("div"),y={attributes:!0},m=!1,k=document.createElement("div");return new MutationObserver(function(){v.classList.toggle("foo"),m=!1}).observe(k,y),function(b){var w=new MutationObserver(function(){w.disconnect(),b()});w.observe(v,y),m||(m=!0,k.classList.toggle("foo"))}}();e.exports=i},{"./util":36}],30:[function(t,e,a){e.exports=function(i,s,d){var f=i.PromiseInspection;function _(p){this.constructor$(p)}t("./util").inherits(_,s),_.prototype._promiseResolved=function(p,v){return this._values[p]=v,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},_.prototype._promiseFulfilled=function(p,v){var y=new f;return y._bitField=33554432,y._settledValueField=p,this._promiseResolved(v,y)},_.prototype._promiseRejected=function(p,v){var y=new f;return y._bitField=16777216,y._settledValueField=p,this._promiseResolved(v,y)},i.settle=function(p){return d.deprecated(".settle()",".reflect()"),new _(p).promise()},i.prototype.settle=function(){return i.settle(this)}}},{"./util":36}],31:[function(t,e,a){e.exports=function(i,s,d){var f=t("./util"),_=t("./errors").RangeError,p=t("./errors").AggregateError,v=f.isArray,y={};function m(b){this.constructor$(b),this._howMany=0,this._unwrap=!1,this._initialized=!1}function k(b,w){if((0|w)!==w||w<0)return d(`expecting a positive integer

    See http://goo.gl/MqrFmX
`);var x=new m(b),$=x.promise();return x.setHowMany(w),x.init(),$}f.inherits(m,s),m.prototype._init=function(){if(this._initialized)if(this._howMany!==0){this._init$(void 0,-5);var b=v(this._values);!this._isResolved()&&b&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}else this._resolve([])},m.prototype.init=function(){this._initialized=!0,this._init()},m.prototype.setUnwrap=function(){this._unwrap=!0},m.prototype.howMany=function(){return this._howMany},m.prototype.setHowMany=function(b){this._howMany=b},m.prototype._promiseFulfilled=function(b){return this._addFulfilled(b),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),this.howMany()===1&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},m.prototype._promiseRejected=function(b){return this._addRejected(b),this._checkOutcome()},m.prototype._promiseCancelled=function(){return this._values instanceof i||this._values==null?this._cancel():(this._addRejected(y),this._checkOutcome())},m.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var b=new p,w=this.length();w<this._values.length;++w)this._values[w]!==y&&b.push(this._values[w]);return b.length>0?this._reject(b):this._cancel(),!0}return!1},m.prototype._fulfilled=function(){return this._totalResolved},m.prototype._rejected=function(){return this._values.length-this.length()},m.prototype._addRejected=function(b){this._values.push(b)},m.prototype._addFulfilled=function(b){this._values[this._totalResolved++]=b},m.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},m.prototype._getRangeError=function(b){var w="Input array must contain at least "+this._howMany+" items but contains only "+b+" items";return new _(w)},m.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},i.some=function(b,w){return k(b,w)},i.prototype.some=function(b){return k(this,b)},i._SomePromiseArray=m}},{"./errors":12,"./util":36}],32:[function(t,e,a){e.exports=function(i){function s(m){m!==void 0?(m=m._target(),this._bitField=m._bitField,this._settledValueField=m._isFateSealed()?m._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}s.prototype._settledValue=function(){return this._settledValueField};var d=s.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},f=s.prototype.error=s.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},_=s.prototype.isFulfilled=function(){return(33554432&this._bitField)!=0},p=s.prototype.isRejected=function(){return(16777216&this._bitField)!=0},v=s.prototype.isPending=function(){return(50397184&this._bitField)==0},y=s.prototype.isResolved=function(){return(50331648&this._bitField)!=0};s.prototype.isCancelled=function(){return(8454144&this._bitField)!=0},i.prototype.__isCancelled=function(){return(65536&this._bitField)==65536},i.prototype._isCancelled=function(){return this._target().__isCancelled()},i.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!=0},i.prototype.isPending=function(){return v.call(this._target())},i.prototype.isRejected=function(){return p.call(this._target())},i.prototype.isFulfilled=function(){return _.call(this._target())},i.prototype.isResolved=function(){return y.call(this._target())},i.prototype.value=function(){return d.call(this._target())},i.prototype.reason=function(){var m=this._target();return m._unsetRejectionIsUnhandled(),f.call(m)},i.prototype._value=function(){return this._settledValue()},i.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},i.PromiseInspection=s}},{}],33:[function(t,e,a){e.exports=function(i,s){var d=t("./util"),f=d.errorObj,_=d.isObject,p={}.hasOwnProperty;return function(v,y){if(_(v)){if(v instanceof i)return v;var m=function(b){try{return function(w){return w.then}(b)}catch(w){return f.e=w,f}}(v);if(m===f){y&&y._pushContext();var k=i.reject(m.e);return y&&y._popContext(),k}if(typeof m=="function")return function(b){try{return p.call(b,"_promise0")}catch{return!1}}(v)?(k=new i(s),v._then(k._fulfill,k._reject,void 0,k,null),k):function(b,w,x){var $=new i(s),S=$;x&&x._pushContext(),$._captureStackTrace(),x&&x._popContext();var E=!0,M=d.tryCatch(w).call(b,function(D){$&&($._resolveCallback(D),$=null)},function(D){$&&($._rejectCallback(D,E,!0),$=null)});return E=!1,$&&M===f&&($._rejectCallback(M.e,!0,!0),$=null),S}(v,m,y)}return v}}},{"./util":36}],34:[function(t,e,a){e.exports=function(i,s,d){var f=t("./util"),_=i.TimeoutError;function p(b){this.handle=b}p.prototype._resultCancelled=function(){clearTimeout(this.handle)};var v=function(b){return y(+this).thenReturn(b)},y=i.delay=function(b,w){var x,$;return w!==void 0?(x=i.resolve(w)._then(v,null,null,b,void 0),d.cancellation()&&w instanceof i&&x._setOnCancel(w)):(x=new i(s),$=setTimeout(function(){x._fulfill()},+b),d.cancellation()&&x._setOnCancel(new p($)),x._captureStackTrace()),x._setAsyncGuaranteed(),x};i.prototype.delay=function(b){return y(b,this)};function m(b){return clearTimeout(this.handle),b}function k(b){throw clearTimeout(this.handle),b}i.prototype.timeout=function(b,w){var x,$;b=+b;var S=new p(setTimeout(function(){x.isPending()&&function(E,M,D){var A;A=typeof M!="string"?M instanceof Error?M:new _("operation timed out"):new _(M),f.markAsOriginatingFromRejection(A),E._attachExtraTrace(A),E._reject(A),D!=null&&D.cancel()}(x,w,$)},b));return d.cancellation()?($=this.then(),(x=$._then(m,k,void 0,S,void 0))._setOnCancel(S)):x=this._then(m,k,void 0,S,void 0),x}}},{"./util":36}],35:[function(t,e,a){e.exports=function(i,s,d,f,_,p){var v=t("./util"),y=t("./errors").TypeError,m=t("./util").inherits,k=v.errorObj,b=v.tryCatch,w={};function x(A){setTimeout(function(){throw A},0)}function $(A,I){var P=0,H=A.length,O=new i(_);return function V(){if(P>=H)return O._fulfill();var j=function(Y){var N=d(Y);return N!==Y&&typeof Y._isDisposable=="function"&&typeof Y._getDisposer=="function"&&Y._isDisposable()&&N._setDisposable(Y._getDisposer()),N}(A[P++]);if(j instanceof i&&j._isDisposable()){try{j=d(j._getDisposer().tryDispose(I),A.promise)}catch(Y){return x(Y)}if(j instanceof i)return j._then(V,x,null,null,null)}V()}(),O}function S(A,I,P){this._data=A,this._promise=I,this._context=P}function E(A,I,P){this.constructor$(A,I,P)}function M(A){return S.isDisposer(A)?(this.resources[this.index]._setDisposable(A),A.promise()):A}function D(A){this.length=A,this.promise=null,this[A-1]=null}S.prototype.data=function(){return this._data},S.prototype.promise=function(){return this._promise},S.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():w},S.prototype.tryDispose=function(A){var I=this.resource(),P=this._context;P!==void 0&&P._pushContext();var H=I!==w?this.doDispose(I,A):null;return P!==void 0&&P._popContext(),this._promise._unsetDisposable(),this._data=null,H},S.isDisposer=function(A){return A!=null&&typeof A.resource=="function"&&typeof A.tryDispose=="function"},m(E,S),E.prototype.doDispose=function(A,I){return this.data().call(A,A,I)},D.prototype._resultCancelled=function(){for(var A=this.length,I=0;I<A;++I){var P=this[I];P instanceof i&&P.cancel()}},i.using=function(){var A=arguments.length;if(A<2)return s("you must pass at least 2 arguments to Promise.using");var I,P=arguments[A-1];if(typeof P!="function")return s("expecting a function but got "+v.classString(P));var H=!0;A===2&&Array.isArray(arguments[0])?(A=(I=arguments[0]).length,H=!1):(I=arguments,A--);for(var O=new D(A),V=0;V<A;++V){var j=I[V];if(S.isDisposer(j)){var Y=j;(j=j.promise())._setDisposable(Y)}else{var N=d(j);N instanceof i&&(j=N._then(M,null,null,{resources:O,index:V},void 0))}O[V]=j}var X=new Array(O.length);for(V=0;V<X.length;++V)X[V]=i.resolve(O[V]).reflect();var Q=i.all(X).then(function(L){for(var F=0;F<L.length;++F){var W=L[F];if(W.isRejected())return k.e=W.error(),k;if(!W.isFulfilled())return void Q.cancel();L[F]=W.value()}Z._pushContext(),P=b(P);var U=H?P.apply(void 0,L):P(L),K=Z._popContext();return p.checkForgottenReturns(U,K,"Promise.using",Z),U}),Z=Q.lastly(function(){var L=new i.PromiseInspection(Q);return $(O,L)});return O.promise=Z,Z._setOnCancel(O),Z},i.prototype._setDisposable=function(A){this._bitField=131072|this._bitField,this._disposer=A},i.prototype._isDisposable=function(){return(131072&this._bitField)>0},i.prototype._getDisposer=function(){return this._disposer},i.prototype._unsetDisposable=function(){this._bitField=-131073&this._bitField,this._disposer=void 0},i.prototype.disposer=function(A){if(typeof A=="function")return new E(A,this,f());throw new y}}},{"./errors":12,"./util":36}],36:[function(t,e,a){var i=t("./es5"),s=typeof navigator>"u",d={e:{}},f,_=typeof self<"u"?self:typeof window<"u"?window:h!==void 0?h:this!==void 0?this:null;function p(){try{var B=f;return f=null,B.apply(this,arguments)}catch(nt){return d.e=nt,d}}function v(B){return f=B,p}var y=function(B,nt){var ot={}.hasOwnProperty;function at(){for(var rt in this.constructor=B,this.constructor$=nt,nt.prototype)ot.call(nt.prototype,rt)&&rt.charAt(rt.length-1)!=="$"&&(this[rt+"$"]=nt.prototype[rt])}return at.prototype=nt.prototype,B.prototype=new at,B.prototype};function m(B){return B==null||B===!0||B===!1||typeof B=="string"||typeof B=="number"}function k(B){return typeof B=="function"||n(B)==="object"&&B!==null}function b(B){return m(B)?new Error(O(B)):B}function w(B,nt){var ot,at=B.length,rt=new Array(at+1);for(ot=0;ot<at;++ot)rt[ot]=B[ot];return rt[ot]=nt,rt}function x(B,nt,ot){if(!i.isES5)return{}.hasOwnProperty.call(B,nt)?B[nt]:void 0;var at=Object.getOwnPropertyDescriptor(B,nt);return at!=null?at.get==null&&at.set==null?at.value:ot:void 0}function $(B,nt,ot){if(m(B))return B;var at={value:ot,configurable:!0,enumerable:!1,writable:!0};return i.defineProperty(B,nt,at),B}function S(B){throw B}var E=function(){var B=[Array.prototype,Object.prototype,Function.prototype],nt=function(rt){for(var _t=0;_t<B.length;++_t)if(B[_t]===rt)return!0;return!1};if(i.isES5){var ot=Object.getOwnPropertyNames;return function(rt){for(var _t=[],pt=Object.create(null);rt!=null&&!nt(rt);){var vt;try{vt=ot(rt)}catch{return _t}for(var kt=0;kt<vt.length;++kt){var wt=vt[kt];if(!pt[wt]){pt[wt]=!0;var bt=Object.getOwnPropertyDescriptor(rt,wt);bt!=null&&bt.get==null&&bt.set==null&&_t.push(wt)}}rt=i.getPrototypeOf(rt)}return _t}}var at={}.hasOwnProperty;return function(rt){if(nt(rt))return[];var _t=[];t:for(var pt in rt)if(at.call(rt,pt))_t.push(pt);else{for(var vt=0;vt<B.length;++vt)if(at.call(B[vt],pt))continue t;_t.push(pt)}return _t}}(),M=/this\s*\.\s*\S+\s*=/;function D(B){try{if(typeof B=="function"){var nt=i.names(B.prototype),ot=i.isES5&&nt.length>1,at=nt.length>0&&!(nt.length===1&&nt[0]==="constructor"),rt=M.test(B+"")&&i.names(B).length>0;if(ot||at||rt)return!0}return!1}catch{return!1}}function A(B){function nt(){}nt.prototype=B;var ot=new nt;function at(){return n(ot.foo)}return at(),at(),B}var I=/^[a-z$_][a-z$_0-9]*$/i;function P(B){return I.test(B)}function H(B,nt,ot){for(var at=new Array(B),rt=0;rt<B;++rt)at[rt]=nt+rt+ot;return at}function O(B){try{return B+""}catch{return"[no string representation]"}}function V(B){return B instanceof Error||B!==null&&n(B)==="object"&&typeof B.message=="string"&&typeof B.name=="string"}function j(B){try{$(B,"isOperational",!0)}catch{}}function Y(B){return B!=null&&(B instanceof Error.__BluebirdErrorTypes__.OperationalError||B.isOperational===!0)}function N(B){return V(B)&&i.propertyIsWritable(B,"stack")}var X="stack"in new Error?function(B){return N(B)?B:new Error(O(B))}:function(B){if(N(B))return B;try{throw new Error(O(B))}catch(nt){return nt}};function Q(B){return{}.toString.call(B)}function Z(B,nt,ot){for(var at=i.names(B),rt=0;rt<at.length;++rt){var _t=at[rt];if(ot(_t))try{i.defineProperty(nt,_t,i.getDescriptor(B,_t))}catch{}}}var L=function(B){return i.isArray(B)?B:null};if(typeof Symbol<"u"&&Symbol.iterator){var F=typeof Array.from=="function"?function(B){return Array.from(B)}:function(B){for(var nt,ot=[],at=B[Symbol.iterator]();!(nt=at.next()).done;)ot.push(nt.value);return ot};L=function(B){return i.isArray(B)?B:B!=null&&typeof B[Symbol.iterator]=="function"?F(B):null}}var W=g!==void 0&&Q(g).toLowerCase()==="[object process]",U=g!==void 0&&g.env!==void 0;function K(B){return U?g.env[B]:void 0}function et(){if(typeof Promise=="function")try{var B=new Promise(function(){});if({}.toString.call(B)==="[object Promise]")return Promise}catch{}}function ct(B,nt){return B.bind(nt)}var ut={isClass:D,isIdentifier:P,inheritedDataKeys:E,getDataPropertyOrDefault:x,thrower:S,isArray:i.isArray,asArray:L,notEnumerableProp:$,isPrimitive:m,isObject:k,isError:V,canEvaluate:s,errorObj:d,tryCatch:v,inherits:y,withAppended:w,maybeWrapAsError:b,toFastProperties:A,filledRange:H,toString:O,canAttachTrace:N,ensureErrorObject:X,originatesFromRejection:Y,markAsOriginatingFromRejection:j,classString:Q,copyDescriptors:Z,hasDevTools:typeof chrome<"u"&&chrome&&typeof chrome.loadTimes=="function",isNode:W,hasEnvVariables:U,env:K,global:_,getNativePromise:et,domainBind:ct};ut.isRecentNode=ut.isNode&&function(){var B;return g.versions&&g.versions.node?B=g.versions.node.split(".").map(Number):g.version&&(B=g.version.split(".").map(Number)),B[0]===0&&B[1]>10||B[0]>0}(),ut.isNode&&ut.toFastProperties(g);try{throw new Error}catch(B){ut.lastLineError=B}e.exports=ut},{"./es5":13}]},{},[4])(4)}),typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)}).call(this,u(43),u(15),u(212).setImmediate)},function(T,C,u){T.exports=u(213)},function(T,C,u){var g=u(0);T.exports=function(){var h={};return{getState:function(l){if(h[l])return h[l].method();var c={};for(var r in h)h[r].internal||g.mixin(c,h[r].method(),!0);return c},registerProvider:function(l,c,r){h[l]={method:c,internal:r}},unregisterProvider:function(l){delete h[l]}}}},function(T,C){T.exports=function(u){var g={};function h(l,c,r){r=r||l;var o=u.config,n=u.templates;u.config[l]&&g[r]!=o[l]&&(c&&n[r]||(n[r]=u.date.date_to_str(o[l]),g[r]=o[l]))}return{initTemplates:function(){var l=u.locale.labels;l.gantt_save_btn=l.icon_save,l.gantt_cancel_btn=l.icon_cancel,l.gantt_delete_btn=l.icon_delete;var c=u.date,r=c.date_to_str,o=u.config,n=r(o.xml_date||o.date_format,o.server_utc),t=c.str_to_date(o.xml_date||o.date_format,o.server_utc);h("date_scale",!0,void 0,u.config,u.templates),h("date_grid",!0,"grid_date_format",u.config,u.templates),h("task_date",!0,void 0,u.config,u.templates),u.mixin(u.templates,{xml_format:void 0,format_date:n,xml_date:void 0,parse_date:t,progress_text:function(e,a,i){return""},grid_header_class:function(e,a){return""},task_text:function(e,a,i){return i.text},task_class:function(e,a,i){return""},task_end_date:function(e){return u.templates.task_date(e)},grid_row_class:function(e,a,i){return""},task_row_class:function(e,a,i){return""},timeline_cell_class:function(e,a){return""},timeline_cell_content:function(e,a){return""},scale_cell_class:function(e){return""},scale_row_class:function(e){return""},grid_indent:function(e){return"<div class='gantt_tree_indent'></div>"},grid_folder:function(e){return"<div class='gantt_tree_icon gantt_folder_"+(e.$open?"open":"closed")+"'></div>"},grid_file:function(e){return"<div class='gantt_tree_icon gantt_file'></div>"},grid_open:function(e){return"<div class='gantt_tree_icon gantt_"+(e.$open?"close":"open")+"'></div>"},grid_blank:function(e){return"<div class='gantt_tree_icon gantt_blank'></div>"},date_grid:function(e,a,i){return a&&u.isUnscheduledTask(a)&&u.config.show_unscheduled?u.templates.task_unscheduled_time(a):u.templates.grid_date_format(e,i)},task_time:function(e,a,i){return u.isUnscheduledTask(i)&&u.config.show_unscheduled?u.templates.task_unscheduled_time(i):u.templates.task_date(e)+" - "+u.templates.task_end_date(a)},task_unscheduled_time:function(e){return""},time_picker:r(o.time_picker),link_class:function(e){return""},link_description:function(e){var a=u.getTask(e.source),i=u.getTask(e.target);return"<b>"+a.text+"</b> &ndash;  <b>"+i.text+"</b>"},drag_link:function(e,a,i,s){e=u.getTask(e);var d=u.locale.labels,f="<b>"+e.text+"</b> "+(a?d.link_start:d.link_end)+"<br/>";return i&&(f+="<b> "+(i=u.getTask(i)).text+"</b> "+(s?d.link_start:d.link_end)+"<br/>"),f},drag_link_class:function(e,a,i,s){var d="";return e&&i&&(d=" "+(u.isLinkAllowed(e,i,a,s)?"gantt_link_allow":"gantt_link_deny")),"gantt_link_tooltip"+d},tooltip_date_format:c.date_to_str("%Y-%m-%d"),tooltip_text:function(e,a,i){return"<b>Task:</b> "+i.text+"<br/><b>Start date:</b> "+u.templates.tooltip_date_format(e)+"<br/><b>End date:</b> "+u.templates.tooltip_date_format(a)}})},initTemplate:h}}},function(T,C,u){var g=u(4),h=u(0),l=u(44),c=u(16),r=u(1);T.exports=function(o){function n(e){return{target:e.target||e.srcElement,pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY,metaKey:e.metaKey,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,altKey:e.altKey}}function t(e,a){this._obj=e,this._settings=a||{},g(this);var i=this.getInputMethods();this._drag_start_timer=null,o.attachEvent("onGanttScroll",h.bind(function(f,_){this.clearDragTimer()},this));for(var s={passive:!1},d=0;d<i.length;d++)h.bind(function(f){o.event(e,f.down,h.bind(function(p){f.accessor(p)&&(a.preventDefault&&a.selector&&r.closest(p.target,a.selector)&&p.preventDefault(),o.config.touch&&p.timeStamp&&p.timeStamp-0<300||(this._settings.original_target=n(p),o.config.touch?(this.clearDragTimer(),this._drag_start_timer=setTimeout(h.bind(function(){o.getState().lightbox||this.dragStart(e,p,f)},this),o.config.touch_drag)):this.dragStart(e,p,f)))},this),s);var _=document.body;o.event(_,f.up,h.bind(function(p){f.accessor(p)&&this.clearDragTimer()},this),s)},this)(i[d])}return t.prototype={traceDragEvents:function(e,a){var i=h.bind(function(v){return this.dragMove(e,v,a.accessor)},this);h.bind(function(v){return this.dragScroll(e,v)},this);var s=h.bind(function(v){if(!this.config.started||!h.defined(this.config.updates_per_second)||l(this,this.config.updates_per_second)){var y=i(v);if(y)try{v&&v.preventDefault&&v.cancelable&&v.preventDefault()}catch{}return y}},this),d=r.getRootNode(o.$root),f=this.config.mousemoveContainer||r.getRootNode(o.$root),_={passive:!1},p=h.bind(function(v){return o.eventRemove(f,a.move,s),o.eventRemove(d,a.up,p,_),this.dragEnd(e)},this);o.event(f,a.move,s,_),o.event(d,a.up,p,_)},checkPositionChange:function(e){var a=e.x-this.config.pos.x,i=e.y-this.config.pos.y;return Math.sqrt(Math.pow(Math.abs(a),2)+Math.pow(Math.abs(i),2))>this.config.sensitivity},initDnDMarker:function(){var e=this.config.marker=document.createElement("div");e.className="gantt_drag_marker",e.innerHTML="",document.body.appendChild(e)},backupEventTarget:function(e,a){if(o.config.touch){var i=a(e),s=i.target||i.srcElement,d=s.cloneNode(!0);this.config.original_target=n(i),this.config.original_target.target=d,this.config.backup_element=s,s.parentNode.appendChild(d),s.style.display="none",(this.config.mousemoveContainer||document.body).appendChild(s)}},getInputMethods:function(){var e=[];if(e.push({move:"mousemove",down:"mousedown",up:"mouseup",accessor:function(i){return i}}),o.config.touch){var a=!0;try{document.createEvent("TouchEvent")}catch{a=!1}a?e.push({move:"touchmove",down:"touchstart",up:"touchend",accessor:function(i){return i.touches&&i.touches.length>1?null:i.touches[0]?{target:document.elementFromPoint(i.touches[0].clientX,i.touches[0].clientY),pageX:i.touches[0].pageX,pageY:i.touches[0].pageY,clientX:i.touches[0].clientX,clientY:i.touches[0].clientY}:i}}):c.navigator.pointerEnabled?e.push({move:"pointermove",down:"pointerdown",up:"pointerup",accessor:function(i){return i.pointerType=="mouse"?null:i}}):c.navigator.msPointerEnabled&&e.push({move:"MSPointerMove",down:"MSPointerDown",up:"MSPointerUp",accessor:function(i){return i.pointerType==i.MSPOINTER_TYPE_MOUSE?null:i}})}return e},clearDragTimer:function(){this._drag_start_timer&&(clearTimeout(this._drag_start_timer),this._drag_start_timer=null)},dragStart:function(e,a,i){this.config&&this.config.started||(this.config={obj:e,marker:null,started:!1,pos:this.getPosition(a),sensitivity:4},this._settings&&h.mixin(this.config,this._settings,!0),this.traceDragEvents(e,i),o._prevent_touch_scroll=!0,document.body.className+=" gantt_noselect",o.config.touch&&this.dragMove(e,a,i.accessor))},dragMove:function(e,a,i){var s=i(a);if(!s)return!1;if(!this.config.marker&&!this.config.started){var d=this.getPosition(s);if(o.config.touch||this.checkPositionChange(d)){if(this.config.started=!0,this.config.ignore=!1,this.callEvent("onBeforeDragStart",[e,this.config.original_target])===!1)return this.config.ignore=!0,!1;this.backupEventTarget(a,i),this.initDnDMarker(),o._touch_feedback(),this.callEvent("onAfterDragStart",[e,this.config.original_target])}else this.config.ignore=!0}return this.config.ignore?!1:a.targetTouches&&!s.target?void 0:(s.pos=this.getPosition(s),this.config.marker.style.left=s.pos.x+"px",this.config.marker.style.top=s.pos.y+"px",this.callEvent("onDragMove",[e,s]),!0)},dragEnd:function(e){var a=this.config.backup_element;a&&a.parentNode&&a.parentNode.removeChild(a),o._prevent_touch_scroll=!1,this.config.marker&&(this.config.marker.parentNode.removeChild(this.config.marker),this.config.marker=null,this.callEvent("onDragEnd",[])),this.config.started=!1,document.body.className=document.body.className.replace(" gantt_noselect","")},getPosition:function(e){var a=0,i=0;return e.pageX||e.pageY?(a=e.pageX,i=e.pageY):(e.clientX||e.clientY)&&(a=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:a,y:i}}},t}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g={date_to_str:function(h,l,c){return function(r){return h.replace(/%[a-zA-Z]/g,function(o){switch(o){case"%d":return l?c.date.to_fixed(r.getUTCDate()):c.date.to_fixed(r.getDate());case"%m":return l?c.date.to_fixed(r.getUTCMonth()+1):c.date.to_fixed(r.getMonth()+1);case"%j":return l?r.getUTCDate():r.getDate();case"%n":return l?r.getUTCMonth()+1:r.getMonth()+1;case"%y":return l?c.date.to_fixed(r.getUTCFullYear()%100):c.date.to_fixed(r.getFullYear()%100);case"%Y":return l?r.getUTCFullYear():r.getFullYear();case"%D":return l?c.locale.date.day_short[r.getUTCDay()]:c.locale.date.day_short[r.getDay()];case"%l":return l?c.locale.date.day_full[r.getUTCDay()]:c.locale.date.day_full[r.getDay()];case"%M":return l?c.locale.date.month_short[r.getUTCMonth()]:c.locale.date.month_short[r.getMonth()];case"%F":return l?c.locale.date.month_full[r.getUTCMonth()]:c.locale.date.month_full[r.getMonth()];case"%h":return l?c.date.to_fixed((r.getUTCHours()+11)%12+1):c.date.to_fixed((r.getHours()+11)%12+1);case"%g":return l?(r.getUTCHours()+11)%12+1:(r.getHours()+11)%12+1;case"%G":return l?r.getUTCHours():r.getHours();case"%H":return l?c.date.to_fixed(r.getUTCHours()):c.date.to_fixed(r.getHours());case"%i":return l?c.date.to_fixed(r.getUTCMinutes()):c.date.to_fixed(r.getMinutes());case"%a":return l?r.getUTCHours()>11?"pm":"am":r.getHours()>11?"pm":"am";case"%A":return l?r.getUTCHours()>11?"PM":"AM":r.getHours()>11?"PM":"AM";case"%s":return l?c.date.to_fixed(r.getUTCSeconds()):c.date.to_fixed(r.getSeconds());case"%W":return l?c.date.to_fixed(c.date.getUTCISOWeek(r)):c.date.to_fixed(c.date.getISOWeek(r));default:return o}})}},str_to_date:function(h,l,c){return function(r){for(var o=[0,0,1,0,0,0],n=r.match(/[a-zA-Z]+|[0-9]+/g),t=h.match(/%[a-zA-Z]/g),e=0;e<t.length;e++)switch(t[e]){case"%j":case"%d":o[2]=n[e]||1;break;case"%n":case"%m":o[1]=(n[e]||1)-1;break;case"%y":o[0]=1*n[e]+(n[e]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":o[3]=n[e]||0;break;case"%i":o[4]=n[e]||0;break;case"%Y":o[0]=n[e]||0;break;case"%a":case"%A":o[3]=o[3]%12+((n[e]||"").toLowerCase()==="am"?0:12);break;case"%s":o[5]=n[e]||0;break;case"%M":o[1]=c.locale.date.month_short_hash[n[e]]||0;break;case"%F":o[1]=c.locale.date.month_full_hash[n[e]]||0}return l?new Date(Date.UTC(o[0],o[1],o[2],o[3],o[4],o[5])):new Date(o[0],o[1],o[2],o[3],o[4],o[5])}}};C.default=g},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g={date_to_str:function(h,l,c){h=h.replace(/%[a-zA-Z]/g,function(o){switch(o){case"%d":return'"+to_fixed(date.get'+(l?"UTC":"")+'Date())+"';case"%m":return'"+to_fixed((date.get'+(l?"UTC":"")+'Month()+1))+"';case"%j":return'"+date.get'+(l?"UTC":"")+'Date()+"';case"%n":return'"+(date.get'+(l?"UTC":"")+'Month()+1)+"';case"%y":return'"+to_fixed(date.get'+(l?"UTC":"")+'FullYear()%100)+"';case"%Y":return'"+date.get'+(l?"UTC":"")+'FullYear()+"';case"%D":return'"+locale.date.day_short[date.get'+(l?"UTC":"")+'Day()]+"';case"%l":return'"+locale.date.day_full[date.get'+(l?"UTC":"")+'Day()]+"';case"%M":return'"+locale.date.month_short[date.get'+(l?"UTC":"")+'Month()]+"';case"%F":return'"+locale.date.month_full[date.get'+(l?"UTC":"")+'Month()]+"';case"%h":return'"+to_fixed((date.get'+(l?"UTC":"")+'Hours()+11)%12+1)+"';case"%g":return'"+((date.get'+(l?"UTC":"")+'Hours()+11)%12+1)+"';case"%G":return'"+date.get'+(l?"UTC":"")+'Hours()+"';case"%H":return'"+to_fixed(date.get'+(l?"UTC":"")+'Hours())+"';case"%i":return'"+to_fixed(date.get'+(l?"UTC":"")+'Minutes())+"';case"%a":return'"+(date.get'+(l?"UTC":"")+'Hours()>11?"pm":"am")+"';case"%A":return'"+(date.get'+(l?"UTC":"")+'Hours()>11?"PM":"AM")+"';case"%s":return'"+to_fixed(date.get'+(l?"UTC":"")+'Seconds())+"';case"%W":return'"+to_fixed(getISOWeek(date))+"';case"%w":return'"+to_fixed(getWeek(date))+"';default:return o}});var r=new Function("date","to_fixed","locale","getISOWeek","getWeek",'return "'+h+'";');return function(o){return r(o,c.date.to_fixed,c.locale,c.date.getISOWeek,c.date.getWeek)}},str_to_date:function(h,l,c){for(var r="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",o=h.match(/%[a-zA-Z]/g),n=0;n<o.length;n++)switch(o[n]){case"%j":case"%d":r+="set[2]=temp["+n+"]||1;";break;case"%n":case"%m":r+="set[1]=(temp["+n+"]||1)-1;";break;case"%y":r+="set[0]=temp["+n+"]*1+(temp["+n+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":r+="set[3]=temp["+n+"]||0;";break;case"%i":r+="set[4]=temp["+n+"]||0;";break;case"%Y":r+="set[0]=temp["+n+"]||0;";break;case"%a":case"%A":r+="set[3]=set[3]%12+((temp["+n+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":r+="set[5]=temp["+n+"]||0;";break;case"%M":r+="set[1]=locale.date.month_short_hash[temp["+n+"]]||0;";break;case"%F":r+="set[1]=locale.date.month_full_hash[temp["+n+"]]||0;"}var t="set[0],set[1],set[2],set[3],set[4],set[5]";l&&(t=" Date.UTC("+t+")");var e=new Function("date","locale","var set=[0,0,1,0,0,0]; "+r+" return new Date("+t+");");return function(a){return e(a,c.locale)}}};C.default=g},function(T,C,u){var g=u(219).default,h=u(218).default;T.exports=function(l){var c=null;function r(){var o=!1;return l.config.csp==="auto"?(c===null&&function(){try{new Function("canUseCsp = false;")}catch{c=!0}}(),o=c):o=l.config.csp,o}return{init:function(){for(var o=l.locale,n=o.date.month_short,t=o.date.month_short_hash={},e=0;e<n.length;e++)t[n[e]]=e;for(n=o.date.month_full,t=o.date.month_full_hash={},e=0;e<n.length;e++)t[n[e]]=e},date_part:function(o){var n=new Date(o);return o.setHours(0),this.hour_start(o),o.getHours()&&(o.getDate()<n.getDate()||o.getMonth()<n.getMonth()||o.getFullYear()<n.getFullYear())&&o.setTime(o.getTime()+36e5*(24-o.getHours())),o},time_part:function(o){return(o.valueOf()/1e3-60*o.getTimezoneOffset())%86400},week_start:function(o){var n=o.getDay();return l.config.start_on_monday&&(n===0?n=6:n--),this.date_part(this.add(o,-1*n,"day"))},month_start:function(o){return o.setDate(1),this.date_part(o)},quarter_start:function(o){this.month_start(o);var n,t=o.getMonth();return n=t>=9?9:t>=6?6:t>=3?3:0,o.setMonth(n),o},year_start:function(o){return o.setMonth(0),this.month_start(o)},day_start:function(o){return this.date_part(o)},hour_start:function(o){return o.getMinutes()&&o.setMinutes(0),this.minute_start(o),o},minute_start:function(o){return o.getSeconds()&&o.setSeconds(0),o.getMilliseconds()&&o.setMilliseconds(0),o},_add_days:function(o,n,t){o.setDate(o.getDate()+n);var e=n>=0,a=!t.getHours()&&o.getHours(),i=o.getDate()<=t.getDate()||o.getMonth()<t.getMonth()||o.getFullYear()<t.getFullYear();return e&&a&&i&&o.setTime(o.getTime()+36e5*(24-o.getHours())),n>1&&a&&o.setHours(0),o},add:function(o,n,t){var e=new Date(o.valueOf());switch(t){case"day":e=this._add_days(e,n,o);break;case"week":e=this._add_days(e,7*n,o);break;case"month":e.setMonth(e.getMonth()+n);break;case"year":e.setYear(e.getFullYear()+n);break;case"hour":e.setTime(e.getTime()+60*n*60*1e3);break;case"minute":e.setTime(e.getTime()+60*n*1e3);break;default:return this["add_"+t](o,n,t)}return e},add_quarter:function(o,n){return this.add(o,3*n,"month")},to_fixed:function(o){return o<10?"0"+o:o},copy:function(o){return new Date(o.valueOf())},date_to_str:function(o,n){var t=g;return r()&&(t=h),t.date_to_str(o,n,l)},str_to_date:function(o,n){var t=g;return r()&&(t=h),t.str_to_date(o,n,l)},getISOWeek:function(o){return l.date._getWeekNumber(o,!0)},_getWeekNumber:function(o,n){if(!o)return!1;var t=o.getDay();n&&t===0&&(t=7);var e=new Date(o.valueOf());e.setDate(o.getDate()+(4-t));var a=e.getFullYear(),i=Math.round((e.getTime()-new Date(a,0,1).getTime())/864e5);return 1+Math.floor(i/7)},getWeek:function(o){return l.date._getWeekNumber(o,l.config.start_on_monday)},getUTCISOWeek:function(o){return l.date.getISOWeek(o)},convert_to_utc:function(o){return new Date(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds())},parseDate:function(o,n){return o&&!o.getFullYear&&(typeof n!="function"&&(n=typeof n=="string"?n==="parse_date"||n==="xml_date"?l.defined(l.templates.xml_date)?l.templates.xml_date:l.templates.parse_date:l.defined(l.templates[n])?l.templates[n]:l.date.str_to_date(n):l.defined(l.templates.xml_date)?l.templates.xml_date:l.templates.parse_date),o=o?n(o):null),o}}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(g){if(typeof g=="string"||typeof g=="number")return g;var h="";for(var l in g){var c="";g.hasOwnProperty(l)&&(c=l+"="+(c=typeof g[l]=="string"?encodeURIComponent(g[l]):typeof g[l]=="number"?g[l]:encodeURIComponent(JSON.stringify(g[l]))),h.length&&(c="&"+c),h+=c)}return h}},function(T,C,u){function g(o){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(o)}var h=u(8),l=u(16),c=u(221).default;function r(o,n){var t={method:o};if(n.length===0)throw new Error("Arguments list of query is wrong.");if(n.length===1)return typeof n[0]=="string"?(t.url=n[0],t.async=!0):(t.url=n[0].url,t.async=n[0].async||!0,t.callback=n[0].callback,t.headers=n[0].headers),n[0].data?typeof n[0].data!="string"?t.data=c(n[0].data):t.data=n[0].data:t.data="",t;switch(t.url=n[0],o){case"GET":case"DELETE":t.callback=n[1],t.headers=n[2];break;case"POST":case"PUT":n[1]?typeof n[1]!="string"?t.data=c(n[1]):t.data=n[1]:t.data="",t.callback=n[2],t.headers=n[3]}return t}T.exports=function(o){return{cache:!0,method:"get",parse:function(n){return typeof n!="string"?n:(n=n.replace(/^[\s]+/,""),typeof DOMParser>"u"||h.isIE?l.ActiveXObject!==void 0&&((t=new l.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(n)):t=new DOMParser().parseFromString(n,"text/xml"),t);var t},xmltop:function(n,t,e){if(t.status===void 0||t.status<400){var a=t.responseXML?t.responseXML||t:this.parse(t.responseText||t);if(a&&a.documentElement!==null&&!a.getElementsByTagName("parsererror").length)return a.getElementsByTagName(n)[0]}return e!==-1&&o.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],e]),document.createElement("DIV")},xpath:function(n,t){if(t.nodeName||(t=t.responseXML||t),h.isIE)return t.selectNodes(n)||[];for(var e,a=[],i=(t.ownerDocument||t).evaluate(n,t,null,XPathResult.ANY_TYPE,null);e=i.iterateNext();)a.push(e);return a},query:function(n){return this._call(n.method||"GET",n.url,n.data||"",n.async||!0,n.callback,n.headers)},get:function(n,t,e){var a=r("GET",arguments);return this.query(a)},getSync:function(n,t){var e=r("GET",arguments);return e.async=!1,this.query(e)},put:function(n,t,e,a){var i=r("PUT",arguments);return this.query(i)},del:function(n,t,e){var a=r("DELETE",arguments);return this.query(a)},post:function(n,t,e,a){(arguments.length==1||arguments.length==2&&typeof t=="function")&&(t="");var i=r("POST",arguments);return this.query(i)},postSync:function(n,t,e){t=t===null?"":String(t);var a=r("POST",arguments);return a.async=!1,this.query(a)},_call:function(n,t,e,a,i,s){return new o.Promise(function(d,f){var _=(typeof XMLHttpRequest>"u"?"undefined":g(XMLHttpRequest))!==void 0?new XMLHttpRequest:new l.ActiveXObject("Microsoft.XMLHTTP"),p=navigator.userAgent.match(/AppleWebKit/)!==null&&navigator.userAgent.match(/Qt/)!==null&&navigator.userAgent.match(/Safari/)!==null;a&&(_.onreadystatechange=function(){if(_.readyState==4||p&&_.readyState==3){if((_.status!=200||_.responseText==="")&&!o.callEvent("onAjaxError",[_]))return;setTimeout(function(){typeof i=="function"&&i.apply(l,[{xmlDoc:_,filePath:t}]),d(_),typeof i=="function"&&(i=null,_=null)},0)}});var v=!this||!this.cache;if(n=="GET"&&v&&(t+=(t.indexOf("?")>=0?"&":"?")+"dhxr"+new Date().getTime()+"=1"),_.open(n,t,a),s)for(var y in s)_.setRequestHeader(y,s[y]);else n.toUpperCase()=="POST"||n=="PUT"||n=="DELETE"?_.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):n=="GET"&&(e=null);if(_.setRequestHeader("X-Requested-With","XMLHttpRequest"),_.send(e),!a)return{xmlDoc:_,filePath:t}})},urlSeparator:function(n){return n.indexOf("?")!=-1?"&":"?"}}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),T.exports=function(){return{layout:{css:"gantt_container",rows:[{cols:[{view:"grid",scrollX:"scrollHor",scrollY:"scrollVer"},{resizer:!0,width:1},{view:"timeline",scrollX:"scrollHor",scrollY:"scrollVer"},{view:"scrollbar",id:"scrollVer"}]},{view:"scrollbar",id:"scrollHor",height:20}]},links:{finish_to_start:"0",start_to_start:"1",finish_to_finish:"2",start_to_finish:"3"},types:{task:"task",project:"project",milestone:"milestone"},auto_types:!1,duration_unit:"day",work_time:!1,correct_work_time:!1,skip_off_time:!1,cascade_delete:!0,autosize:!1,autosize_min_width:0,autoscroll:!0,autoscroll_speed:30,deepcopy_on_parse:!1,show_links:!0,show_task_cells:!0,static_background:!1,static_background_cells:!0,branch_loading:!1,branch_loading_property:"$has_child",show_loading:!1,show_chart:!0,show_grid:!0,min_duration:36e5,date_format:"%d-%m-%Y %H:%i",xml_date:void 0,start_on_monday:!0,server_utc:!1,show_progress:!0,fit_tasks:!1,select_task:!0,scroll_on_click:!0,smart_rendering:!0,preserve_scroll:!0,readonly:!1,container_resize_timeout:20,date_grid:"%Y-%m-%d",drag_links:!0,drag_progress:!0,drag_resize:!0,drag_project:!1,drag_move:!0,drag_mode:{resize:"resize",progress:"progress",move:"move",ignore:"ignore"},round_dnd_dates:!0,link_wrapper_width:20,root_id:0,autofit:!1,columns:[{name:"text",tree:!0,width:"*",resize:!0},{name:"start_date",align:"center",resize:!0},{name:"duration",align:"center"},{name:"add",width:44}],scale_offset_minimal:!0,inherit_scale_class:!1,scales:[{unit:"day",step:1,date:"%d %M"}],time_step:60,duration_step:1,task_date:"%d %F %Y",time_picker:"%H:%i",task_attribute:"data-task-id",link_attribute:"data-link-id",layer_attribute:"data-layer",buttons_left:["gantt_save_btn","gantt_cancel_btn"],_migrate_buttons:{dhx_save_btn:"gantt_save_btn",dhx_cancel_btn:"gantt_cancel_btn",dhx_delete_btn:"gantt_delete_btn"},buttons_right:["gantt_delete_btn"],lightbox:{sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"time",type:"duration",map_to:"auto"}],project_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",readonly:!0,map_to:"auto"}],milestone_sections:[{name:"description",height:70,map_to:"text",type:"textarea",focus:!0},{name:"type",type:"typeselect",map_to:"type"},{name:"time",type:"duration",single_date:!0,map_to:"auto"}]},drag_lightbox:!0,sort:!1,details_on_create:!0,details_on_dblclick:!0,initial_scroll:!0,task_scroll_offset:100,order_branch:!1,order_branch_free:!1,task_height:void 0,bar_height:"full",min_column_width:70,min_grid_column_width:70,grid_resizer_column_attribute:"data-column-index",keep_grid_width:!1,grid_resize:!1,grid_elastic_columns:!1,show_tasks_outside_timescale:!1,show_unscheduled:!0,resize_rows:!1,task_grid_row_resizer_attribute:"data-row-index",min_task_grid_row_height:30,readonly_property:"readonly",editable_property:"editable",calendar_property:"calendar_id",resource_calendars:{},dynamic_resource_calendars:!1,inherit_calendar:!1,type_renderers:{},open_tree_initially:!1,optimize_render:!0,prevent_default_scroll:!1,show_errors:!0,wai_aria_attributes:!0,smart_scales:!0,rtl:!1,placeholder_task:!1,horizontal_scroll_key:"shiftKey",drag_timeline:{useKey:void 0,ignore:".gantt_task_line, .gantt_task_link"},drag_multiple:!0,csp:"auto"}}},function(T,C){T.exports=function(){var u={};return{services:{},setService:function(g,h){u[g]=h},getService:function(g){return u[g]?u[g]():null},dropService:function(g){u[g]&&delete u[g]},destructor:function(){for(var g in u)if(u[g]){var h=u[g];h&&h.destructor&&h.destructor()}u=null}}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=function(){return function(h){var l=this;for(var c in this.addExtension=function(r,o){l._extensions[r]=o},this.getExtension=function(r){return l._extensions[r]},this._extensions={},h)this._extensions[c]=h[c]}}();C.default=g},function(T,C){T.exports={KEY_CODES:{UP:38,DOWN:40,LEFT:37,RIGHT:39,SPACE:32,ENTER:13,DELETE:46,ESC:27,TAB:9}}},function(T,C,u){function g(h){return(g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(h)}T.exports=function(h){var l=new function(){this.constants=u(226),this.version="8.0.1",this.license="gpl",this.templates={},this.ext={},this.keys={edit_save:this.constants.KEY_CODES.ENTER,edit_cancel:this.constants.KEY_CODES.ESC}},c=new(u(225)).default(h),r={};l.plugins=function(s){for(var d in s)if(s[d]&&!r[d]){var f=c.getExtension(d);f&&(f(l),r[d]=!0)}return r},l.$services=u(224)(),l.config=u(223)(),l.ajax=u(222)(l),l.date=u(220)(l);var o=u(217)(l);l.$services.setService("dnd",function(){return o});var n=u(216)(l);l.$services.setService("templateLoader",function(){return n}),u(4)(l);var t=new(u(215));t.registerProvider("global",function(){var s={min_date:l._min_date,max_date:l._max_date,selected_task:null};return l.$data&&l.$data.tasksStore&&(s.selected_task=l.$data.tasksStore.getSelectedId()),s}),l.getState=t.getState,l.$services.setService("state",function(){return t});var e=u(0);e.mixin(l,e),l.Promise=u(214),l.env=u(8),u(210)(l);var a=u(204);l.dataProcessor=a.DEPRECATED_api,l.createDataProcessor=a.createDataProcessor,u(199)(l),u(189)(l),u(188)(l),u(180)(l),u(179)(l),u(178)(l),u(165)(l),u(164).default(l),u(163)(l),u(162)(l),u(161)(l),u(158)(l),u(157).default(l);var i=u(156).default();return l.i18n={addLocale:i.addLocale,setLocale:function(s){if(typeof s=="string"){var d=i.getLocale(s);d||(d=i.getLocale("en")),l.locale=d}else if(s)if(l.locale)for(var f in s)s[f]&&g(s[f])==="object"?(l.locale[f]||(l.locale[f]={}),l.mixin(l.locale[f],s[f],!0)):l.locale[f]=s[f];else l.locale=s},getLocale:i.getLocale},l.i18n.setLocale("en"),l}},function(T,C,u){u(28);var g=u(227);T.exports=function(h){var l=g(h);return l.env.isNode||u(122)(l),l}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=10,h=function(){function l(c){var r=this;this.maxSteps=g,this.undoEnabled=!0,this.redoEnabled=!0,this.action={create:function(o){return{commands:o?o.slice():[]}},invert:function(o){for(var n,t=r._gantt.copy(o),e=r.command,a=0;a<o.commands.length;a++){var i=t.commands[a]=e.invert(t.commands[a]);i.type!==e.type.update&&i.type!==e.type.move||(n=[i.oldValue,i.value],i.value=n[0],i.oldValue=n[1])}return t}},this.command={entity:null,type:null,create:function(o,n,t,e){var a=r._gantt;return{entity:e,type:t,value:a.copy(o),oldValue:a.copy(n||o)}},invert:function(o){var n=r._gantt.copy(o);return n.type=r.command.inverseCommands(o.type),n},inverseCommands:function(o){var n=r._gantt,t=r.command.type;switch(o){case t.update:return t.update;case t.remove:return t.add;case t.add:return t.remove;case t.move:return t.move;default:return n.assert(!1,"Invalid command "+o),null}}},this._undoStack=[],this._redoStack=[],this._gantt=c}return l.prototype.getUndoStack=function(){return this._undoStack},l.prototype.getRedoStack=function(){return this._redoStack},l.prototype.clearUndoStack=function(){this._undoStack=[]},l.prototype.clearRedoStack=function(){this._redoStack=[]},l.prototype.updateConfigs=function(){var c=this._gantt;this.maxSteps=c.config.undo_steps||g,this.command.entity=c.config.undo_types,this.command.type=c.config.undo_actions,this.undoEnabled=!!c.config.undo,this.redoEnabled=!!c.config.redo},l.prototype.undo=function(){var c=this._gantt;if(this.updateConfigs(),this.undoEnabled){var r=this._pop(this._undoStack);if(r&&this._reorderCommands(r),c.callEvent("onBeforeUndo",[r])!==!1&&r)return this._applyAction(this.action.invert(r)),this._push(this._redoStack,c.copy(r)),void c.callEvent("onAfterUndo",[r]);c.callEvent("onAfterUndo",[null])}},l.prototype.redo=function(){var c=this._gantt;if(this.updateConfigs(),this.redoEnabled){var r=this._pop(this._redoStack);if(r&&this._reorderCommands(r),c.callEvent("onBeforeRedo",[r])!==!1&&r)return this._applyAction(r),this._push(this._undoStack,c.copy(r)),void c.callEvent("onAfterRedo",[r]);c.callEvent("onAfterRedo",[null])}},l.prototype.logAction=function(c){this._push(this._undoStack,c),this._redoStack=[]},l.prototype._push=function(c,r){var o=this._gantt;if(r.commands.length){var n=c===this._undoStack?"onBeforeUndoStack":"onBeforeRedoStack";if(o.callEvent(n,[r])!==!1&&r.commands.length){for(c.push(r);c.length>this.maxSteps;)c.shift();return r}}},l.prototype._pop=function(c){return c.pop()},l.prototype._reorderCommands=function(c){var r={any:0,link:1,task:2},o={move:1,any:0};c.commands.sort(function(n,t){if(n.entity==="task"&&t.entity==="task")return n.type!==t.type?(o[t.type]||0)-(o[n.type]||0):n.type==="move"&&n.oldValue&&t.oldValue&&t.oldValue.parent===n.oldValue.parent?n.oldValue.$index-t.oldValue.$index:0;var e=r[n.entity]||r.any;return(r[t.entity]||r.any)-e})},l.prototype._applyAction=function(c){var r=null,o=this.command.entity,n=this.command.type,t=this._gantt,e={};e[o.task]={add:"addTask",get:"getTask",update:"updateTask",remove:"deleteTask",move:"moveTask",isExists:"isTaskExists"},e[o.link]={add:"addLink",get:"getLink",update:"updateLink",remove:"deleteLink",isExists:"isLinkExists"},t.batchUpdate(function(){for(var a=0;a<c.commands.length;a++){r=c.commands[a];var i=e[r.entity][r.type],s=e[r.entity].get,d=e[r.entity].isExists;if(r.type===n.add)t[i](r.oldValue,r.oldValue.parent,r.oldValue.$local_index);else if(r.type===n.remove)t[d](r.value.id)&&t[i](r.value.id);else if(r.type===n.update){var f=t[s](r.value.id);for(var _ in r.value)_.startsWith("$")||_.startsWith("_")||(f[_]=r.value[_]);t[i](r.value.id)}else r.type===n.move&&(t[i](r.value.id,r.value.$local_index,r.value.parent),t.callEvent("onRowDragEnd",[r.value.id]))}})},l}();C.Undo=h},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g={onBeforeUndo:"onAfterUndo",onBeforeRedo:"onAfterRedo"},h=["onTaskDragStart","onAfterTaskUpdate","onAfterTaskDelete","onBeforeBatchUpdate"],l=function(){function c(r,o){this._batchAction=null,this._batchMode=!1,this._ignore=!1,this._ignoreMoveEvents=!1,this._initialTasks={},this._initialLinks={},this._nestedTasks={},this._nestedLinks={},this._undo=r,this._gantt=o,this._attachEvents()}return c.prototype.store=function(r,o,n){return n===void 0&&(n=!1),o===this._gantt.config.undo_types.task?this._storeTask(r,n):o===this._gantt.config.undo_types.link&&this._storeLink(r,n)},c.prototype.isMoveEventsIgnored=function(){return this._ignoreMoveEvents},c.prototype.toggleIgnoreMoveEvents=function(r){this._ignoreMoveEvents=r||!1},c.prototype.startIgnore=function(){this._ignore=!0},c.prototype.stopIgnore=function(){this._ignore=!1},c.prototype.startBatchAction=function(){var r=this;this._timeout||(this._timeout=setTimeout(function(){r.stopBatchAction(),r._timeout=null},10)),this._ignore||this._batchMode||(this._batchMode=!0,this._batchAction=this._undo.action.create())},c.prototype.stopBatchAction=function(){if(!this._ignore){var r=this._undo;this._batchAction&&r.logAction(this._batchAction),this._batchMode=!1,this._batchAction=null}},c.prototype.onTaskAdded=function(r){this._ignore||this._storeTaskCommand(r,this._undo.command.type.add)},c.prototype.onTaskUpdated=function(r){this._ignore||this._storeTaskCommand(r,this._undo.command.type.update)},c.prototype.onTaskMoved=function(r){if(!this._ignore){r.$local_index=this._gantt.getTaskIndex(r.id);var o=this.getInitialTask(r.id);if(r.$local_index===o.$local_index&&this._gantt.getParent(r)===this._gantt.getParent(o))return;this._storeEntityCommand(r,this.getInitialTask(r.id),this._undo.command.type.move,this._undo.command.entity.task)}},c.prototype.onTaskDeleted=function(r){if(!this._ignore){if(this._storeTaskCommand(r,this._undo.command.type.remove),this._nestedTasks[r.id])for(var o=this._nestedTasks[r.id],n=0;n<o.length;n++)this._storeTaskCommand(o[n],this._undo.command.type.remove);if(this._nestedLinks[r.id]){var t=this._nestedLinks[r.id];for(n=0;n<t.length;n++)this._storeLinkCommand(t[n],this._undo.command.type.remove)}}},c.prototype.onLinkAdded=function(r){this._ignore||this._storeLinkCommand(r,this._undo.command.type.add)},c.prototype.onLinkUpdated=function(r){this._ignore||this._storeLinkCommand(r,this._undo.command.type.update)},c.prototype.onLinkDeleted=function(r){this._ignore||this._storeLinkCommand(r,this._undo.command.type.remove)},c.prototype.setNestedTasks=function(r,o){for(var n=this._gantt,t=null,e=[],a=this._getLinks(n.getTask(r)),i=0;i<o.length;i++)t=this.setInitialTask(o[i]),a=a.concat(this._getLinks(t)),e.push(t);var s={};for(i=0;i<a.length;i++)s[a[i]]=!0;var d=[];for(var i in s)d.push(this.setInitialLink(i));this._nestedTasks[r]=e,this._nestedLinks[r]=d},c.prototype.setInitialTask=function(r,o){var n=this._gantt;if(o||!this._initialTasks[r]||!this._batchMode){var t=n.copy(n.getTask(r));t.$index=n.getGlobalTaskIndex(r),t.$local_index=n.getTaskIndex(r),this.setInitialTaskObject(r,t)}return this._initialTasks[r]},c.prototype.getInitialTask=function(r){return this._initialTasks[r]},c.prototype.clearInitialTasks=function(){this._initialTasks={}},c.prototype.setInitialTaskObject=function(r,o){this._initialTasks[r]=o},c.prototype.setInitialLink=function(r,o){return this._initialLinks[r]&&this._batchMode||(this._initialLinks[r]=this._gantt.copy(this._gantt.getLink(r))),this._initialLinks[r]},c.prototype.getInitialLink=function(r){return this._initialLinks[r]},c.prototype.clearInitialLinks=function(){this._initialLinks={}},c.prototype._attachEvents=function(){var r=this,o=null,n=this._gantt,t=function(){o||(o=setTimeout(function(){o=null}),r.clearInitialTasks(),n.eachTask(function(s){r.setInitialTask(s.id)}),r.clearInitialLinks(),n.getLinks().forEach(function(s){r.setInitialLink(s.id)}))},e=function(s){return n.copy(n.getTask(s))};for(var a in g)n.attachEvent(a,function(){return r.startIgnore(),!0}),n.attachEvent(g[a],function(){return r.stopIgnore(),!0});for(a=0;a<h.length;a++)n.attachEvent(h[a],function(){return r.startBatchAction(),!0});n.attachEvent("onParse",function(){r._undo.clearUndoStack(),r._undo.clearRedoStack(),t()}),n.attachEvent("onAfterTaskAdd",function(s,d){r.setInitialTask(s,!0),r.onTaskAdded(d)}),n.attachEvent("onAfterTaskUpdate",function(s,d){r.onTaskUpdated(d)}),n.attachEvent("onAfterTaskDelete",function(s,d){r.onTaskDeleted(d)}),n.attachEvent("onAfterLinkAdd",function(s,d){r.setInitialLink(s,!0),r.onLinkAdded(d)}),n.attachEvent("onAfterLinkUpdate",function(s,d){r.onLinkUpdated(d)}),n.attachEvent("onAfterLinkDelete",function(s,d){r.onLinkDeleted(d)}),n.attachEvent("onRowDragEnd",function(s,d){return r.onTaskMoved(e(s)),r.toggleIgnoreMoveEvents(),!0}),n.attachEvent("onBeforeTaskDelete",function(s){r.store(s,n.config.undo_types.task);var d=[];return t(),n.eachTask(function(f){d.push(f.id)},s),r.setNestedTasks(s,d),!0});var i=n.getDatastore("task");i.attachEvent("onBeforeItemMove",function(s,d,f){return r.isMoveEventsIgnored()||t(),!0}),i.attachEvent("onAfterItemMove",function(s,d,f){return r.isMoveEventsIgnored()||r.onTaskMoved(e(s)),!0}),n.attachEvent("onRowDragStart",function(s,d,f){return r.toggleIgnoreMoveEvents(!0),t(),!0}),n.attachEvent("onBeforeTaskDrag",function(s){return r.store(s,n.config.undo_types.task)}),n.attachEvent("onLightbox",function(s){return r.store(s,n.config.undo_types.task)}),n.attachEvent("onBeforeTaskAutoSchedule",function(s){return r.store(s.id,n.config.undo_types.task),!0}),n.ext.inlineEditors&&n.ext.inlineEditors.attachEvent("onEditStart",function(s){r.store(s.id,n.config.undo_types.task)})},c.prototype._storeCommand=function(r){var o=this._undo;if(o.updateConfigs(),o.undoEnabled)if(this._batchMode)this._batchAction.commands.push(r);else{var n=o.action.create([r]);o.logAction(n)}},c.prototype._storeEntityCommand=function(r,o,n,t){var e=this._undo.command.create(r,o,n,t);this._storeCommand(e)},c.prototype._storeTaskCommand=function(r,o){this._gantt.isTaskExists(r.id)&&(r.$local_index=this._gantt.getTaskIndex(r.id)),this._storeEntityCommand(r,this.getInitialTask(r.id),o,this._undo.command.entity.task)},c.prototype._storeLinkCommand=function(r,o){this._storeEntityCommand(r,this.getInitialLink(r.id),o,this._undo.command.entity.link)},c.prototype._getLinks=function(r){return r.$source.concat(r.$target)},c.prototype._storeTask=function(r,o){var n=this;o===void 0&&(o=!1);var t=this._gantt;return this.setInitialTask(r,o),t.eachTask(function(e){n.setInitialTask(e.id)},r),!0},c.prototype._storeLink=function(r,o){return o===void 0&&(o=!1),this.setInitialLink(r,o),!0},c}();C.Monitor=l},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=u(230),h=u(229);C.default=function(l){var c=new h.Undo(l),r=new g.Monitor(c,l);function o(s,d,f){s&&(s.id===d&&(s.id=f),s.parent===d&&(s.parent=f))}function n(s,d,f){o(s.value,d,f),o(s.oldValue,d,f)}function t(s,d,f){s&&(s.source===d&&(s.source=f),s.target===d&&(s.target=f))}function e(s,d,f){t(s.value,d,f),t(s.oldValue,d,f)}function a(s,d,f){for(var _=c,p=0;p<s.length;p++)for(var v=s[p],y=0;y<v.commands.length;y++)v.commands[y].entity===_.command.entity.task?n(v.commands[y],d,f):v.commands[y].entity===_.command.entity.link&&e(v.commands[y],d,f)}function i(s,d,f){for(var _=c,p=0;p<s.length;p++)for(var v=s[p],y=0;y<v.commands.length;y++){var m=v.commands[y];m.entity===_.command.entity.link&&(m.value&&m.value.id===d&&(m.value.id=f),m.oldValue&&m.oldValue.id===d&&(m.oldValue.id=f))}}l.config.undo=!0,l.config.redo=!0,l.config.undo_types={link:"link",task:"task"},l.config.undo_actions={update:"update",remove:"remove",add:"add",move:"move"},l.ext||(l.ext={}),l.ext.undo={undo:function(){return c.undo()},redo:function(){return c.redo()},getUndoStack:function(){return c.getUndoStack()},getRedoStack:function(){return c.getRedoStack()},clearUndoStack:function(){return c.clearUndoStack()},clearRedoStack:function(){return c.clearRedoStack()},saveState:function(s,d){return r.store(s,d,!0)}},l.undo=l.ext.undo.undo,l.redo=l.ext.undo.redo,l.getUndoStack=l.ext.undo.getUndoStack,l.getRedoStack=l.ext.undo.getRedoStack,l.clearUndoStack=l.ext.undo.clearUndoStack,l.clearRedoStack=l.ext.undo.clearRedoStack,l.attachEvent("onTaskIdChange",function(s,d){var f=c;a(f.getUndoStack(),s,d),a(f.getRedoStack(),s,d)}),l.attachEvent("onLinkIdChange",function(s,d){var f=c;i(f.getUndoStack(),s,d),i(f.getRedoStack(),s,d)}),l.attachEvent("onGanttReady",function(){c.updateConfigs()})}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=u(1),h=function(){function l(c){this._gantt=c}return l.prototype.getNode=function(){var c=this._gantt;return this._tooltipNode||(this._tooltipNode=document.createElement("div"),this._tooltipNode.className="gantt_tooltip",c._waiAria.tooltipAttr(this._tooltipNode)),this._tooltipNode},l.prototype.setViewport=function(c){return this._root=c,this},l.prototype.show=function(c,r){var o=this._gantt,n=document.body,t=this.getNode();if(g.isChildOf(t,n)||(this.hide(),n.appendChild(t)),this._isLikeMouseEvent(c)){var e=this._calculateTooltipPosition(c);r=e.top,c=e.left}return t.style.top=r+"px",t.style.left=c+"px",o._waiAria.tooltipVisibleAttr(t),this},l.prototype.hide=function(){var c=this._gantt,r=this.getNode();return r&&r.parentNode&&r.parentNode.removeChild(r),c._waiAria.tooltipHiddenAttr(r),this},l.prototype.setContent=function(c){return this.getNode().innerHTML=c,this},l.prototype._isLikeMouseEvent=function(c){return!(!c||typeof c!="object")&&"clientX"in c&&"clientY"in c},l.prototype._getViewPort=function(){return this._root||document.body},l.prototype._calculateTooltipPosition=function(c){var r=this._gantt,o=this._getViewPortSize(),n=this.getNode(),t={top:0,left:0,width:n.offsetWidth,height:n.offsetHeight,bottom:0,right:0},e=r.config.tooltip_offset_x,a=r.config.tooltip_offset_y,i=document.body,s=g.getRelativeEventPosition(c,i),d=g.getNodePosition(i);s.y+=d.y,t.top=s.y,t.left=s.x,t.top+=a,t.left+=e,t.bottom=t.top+t.height,t.right=t.left+t.width;var f=window.scrollY+i.scrollTop;return t.top<o.top-f?(t.top=o.top,t.bottom=t.top+t.height):t.bottom>o.bottom&&(t.bottom=o.bottom,t.top=t.bottom-t.height),t.left<o.left?(t.left=o.left,t.right=o.left+t.width):t.right>o.right&&(t.right=o.right,t.left=t.right-t.width),s.x>=t.left&&s.x<=t.right&&(t.left=s.x-t.width-e,t.right=t.left+t.width),s.y>=t.top&&s.y<=t.bottom&&(t.top=s.y-t.height-a,t.bottom=t.top+t.height),t},l.prototype._getViewPortSize=function(){var c,r=this._gantt,o=this._getViewPort(),n=o,t=window.scrollY+document.body.scrollTop,e=window.scrollX+document.body.scrollLeft;return o===r.$task_data?(n=r.$task,t=0,e=0,c=g.getNodePosition(r.$task)):c=g.getNodePosition(n),{left:c.x+e,top:c.y+t,width:c.width,height:c.height,bottom:c.y+c.height+t,right:c.x+c.width+e}},l}();C.Tooltip=h},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=u(45),h=u(1),l=u(2),c=u(232),r=function(){function o(n){this._listeners={},this.tooltip=new c.Tooltip(n),this._gantt=n,this._domEvents=g(),this._initDelayedFunctions()}return o.prototype.destructor=function(){this.tooltip.hide(),this._domEvents.detachAll()},o.prototype.hideTooltip=function(){this.delayHide()},o.prototype.attach=function(n){var t=this,e=document.body,a=this._gantt;n.global||(e=a.$root);var i=null,s=function(d){var f=h.getTargetNode(d),_=h.closest(f,n.selector);if(!h.isChildOf(f,t.tooltip.getNode())){var p=function(){i=_,n.onmouseenter(d,_)};i?_&&_===i?n.onmousemove(d,_):(n.onmouseleave(d,i),i=null,_&&_!==i&&p()):_&&p()}};this.detach(n.selector),this._domEvents.attach(e,"mousemove",s),this._listeners[n.selector]={node:e,handler:s}},o.prototype.detach=function(n){var t=this._listeners[n];t&&this._domEvents.detach(t.node,"mousemove",t.handler)},o.prototype.tooltipFor=function(n){var t=this,e=function(a){var i=a;return document.createEventObject&&!document.createEvent&&(i=document.createEventObject(a)),i};this._initDelayedFunctions(),this.attach({selector:n.selector,global:n.global,onmouseenter:function(a,i){var s=n.html(a,i);s&&t.delayShow(e(a),s)},onmousemove:function(a,i){var s=n.html(a,i);s?t.delayShow(e(a),s):(t.delayShow.$cancelTimeout(),t.delayHide())},onmouseleave:function(){t.delayShow.$cancelTimeout(),t.delayHide()}})},o.prototype._initDelayedFunctions=function(){var n=this,t=this._gantt;this.delayShow&&this.delayShow.$cancelTimeout(),this.delayHide&&this.delayHide.$cancelTimeout(),this.tooltip.hide(),this.delayShow=l.delay(function(e,a){t.callEvent("onBeforeTooltip",[e])===!1?n.tooltip.hide():(n.tooltip.setContent(a),n.tooltip.show(e))},t.config.tooltip_timeout||1),this.delayHide=l.delay(function(){n.delayShow.$cancelTimeout(),n.tooltip.hide()},t.config.tooltip_hide_timeout||1)},o}();C.TooltipManager=r},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=u(233);C.default=function(h){h.config.tooltip_timeout=30,h.config.tooltip_offset_y=20,h.config.tooltip_offset_x=10,h.config.tooltip_hide_timeout=30;var l=new g.TooltipManager(h);h.ext.tooltips=l,h.attachEvent("onGanttReady",function(){l.tooltipFor({selector:"["+h.config.task_attribute+"]:not(.gantt_task_row)",html:function(c){if(!h.config.touch||h.config.touch_tooltip){var r=h.locate(c);if(h.isTaskExists(r)){var o=h.getTask(r);return h.templates.tooltip_text(o.start_date,o.end_date,o)}return null}},global:!1})}),h.attachEvent("onDestroy",function(){l.destructor()}),h.attachEvent("onLightbox",function(){l.hideTooltip()}),h.attachEvent("onBeforeTooltip",function(){if(h.getState().link_source_id)return!1}),h.attachEvent("onGanttScroll",function(){l.hideTooltip()})}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=function(){function h(l){var c=this;this.show=function(r,o){o===void 0?c._showForTask(r):c._showAtCoordinates(r,o)},this.hide=function(r){var o=c._gantt,n=c._quickInfoBox;c._quickInfoBoxId=0;var t=c._quickInfoTask;if(c._quickInfoTask=null,n&&n.parentNode){if(o.config.quick_info_detached)return o.callEvent("onAfterQuickInfo",[t]),n.parentNode.removeChild(n);n.className+=" gantt_qi_hidden",n.style.right==="auto"?n.style.left="-350px":n.style.right="-350px",r&&(n.style.left=n.style.right="",n.parentNode.removeChild(n)),o.callEvent("onAfterQuickInfo",[t])}},this.getNode=function(){return c._quickInfoBox?c._quickInfoBox:null},this.setContainer=function(r){r&&(c._container=typeof r=="string"?document.getElementById(r):r)},this.setContent=function(r){var o=c._gantt,n={taskId:null,header:{title:"",date:""},content:"",buttons:o.config.quickinfo_buttons};r||(r=n),r.taskId||(r.taskId=n.taskId),r.header||(r.header=n.header),r.header.title||(r.header.title=n.header.title),r.header.date||(r.header.date=n.header.date),r.content||(r.content=n.content),r.buttons||(r.buttons=n.buttons);var t=c.getNode();t||(t=c._createQuickInfoElement()),r.taskId&&(c._quickInfoBoxId=r.taskId);var e=t.querySelector(".gantt_cal_qi_title"),a=e.querySelector(".gantt_cal_qi_tcontent"),i=e.querySelector(".gantt_cal_qi_tdate"),s=t.querySelector(".gantt_cal_qi_content"),d=t.querySelector(".gantt_cal_qi_controls");o._waiAria.quickInfoHeader(t,[r.header.title,r.header.date].join(" ")),a.innerHTML=r.header.title,i.innerHTML=r.header.date,r.header.title||r.header.date?e.style.display="":e.style.display="none",s.innerHTML=r.content;var f=r.buttons;f.length?d.style.display="":d.style.display="none";for(var _="",p=0;p<f.length;p++){var v=o._waiAria.quickInfoButtonAttrString(o.locale.labels[f[p]]);_+='<div class="gantt_qi_big_icon '+f[p]+'" title="'+o.locale.labels[f[p]]+'" '+v+"><div class='gantt_menu_icon "+f[p]+"'></div><div>"+o.locale.labels[f[p]]+"</div></div>"}d.innerHTML=_,o.eventRemove(t,"click",c._qiButtonClickHandler),o.eventRemove(t,"keypress",c._qiKeyPressHandler),o.event(t,"click",c._qiButtonClickHandler),o.event(t,"keypress",c._qiKeyPressHandler)},this._qiButtonClickHandler=function(r){r=r||event,c._qi_button_click(r.target||r.srcElement)},this._qiKeyPressHandler=function(r){var o=(r=r||event).which||event.keyCode;o!==13&&o!==32||setTimeout(function(){c._qi_button_click(r.target||r.srcElement)},1)},this._gantt=l}return h.prototype._showAtCoordinates=function(l,c){this.hide(!0),this._quickInfoBoxId=0,this._quickInfoTask=null,this._quickInfoBox||(this._createQuickInfoElement(),this.setContent()),this._appendAtCoordinates(l,c),this._gantt.callEvent("onQuickInfo",[null])},h.prototype._showForTask=function(l){var c=this._gantt;if((l!==this._quickInfoBoxId||!c.utils.dom.isChildOf(this._quickInfoBox,document.body))&&c.config.show_quick_info){this.hide(!0);var r=this._getContainer(),o=this._get_event_counter_part(l,6,r.xViewport,r.yViewport);o&&(this._quickInfoBox=this._init_quick_info(l),this._quickInfoTask=l,this._quickInfoBox.className=this._prepare_quick_info_classname(l),this._fill_quick_data(l),this._show_quick_info(o,6),c.callEvent("onQuickInfo",[l]))}},h.prototype._get_event_counter_part=function(l,c,r,o){var n=this._gantt,t=n.getTaskNode(l);if(!t&&!(t=n.getTaskRowNode(l)))return null;var e=0,a=c+t.offsetTop+t.offsetHeight,i=t;if(n.utils.dom.isChildOf(i,r))for(;i&&i!==r;)e+=i.offsetLeft,i=i.offsetParent;var s=n.getScrollState();return i?{left:e,top:a,dx:e+t.offsetWidth/2-s.x>r.offsetWidth/2?1:0,dy:a+t.offsetHeight/2-s.y>o.offsetHeight/2?1:0,width:t.offsetWidth,height:t.offsetHeight}:null},h.prototype._createQuickInfoElement=function(){var l=this,c=this._gantt,r=document.createElement("div");r.className+="gantt_cal_quick_info",c._waiAria.quickInfoAttr(r);var o='<div class="gantt_cal_qi_title" '+c._waiAria.quickInfoHeaderAttrString()+'><div class="gantt_cal_qi_tcontent"></div><div  class="gantt_cal_qi_tdate"></div></div><div class="gantt_cal_qi_content"></div>';if(o+='<div class="gantt_cal_qi_controls">',o+="</div>",r.innerHTML=o,c.config.quick_info_detached){var n=this._getContainer();c.event(n.parent,"scroll",function(){l.hide()})}return this._quickInfoBox=r,r},h.prototype._init_quick_info=function(l){var c=this._gantt,r=c.getTask(l);return typeof this._quickInfoReadonly=="boolean"&&c.isReadonly(r)!==this._quickInfoReadonly&&(this.hide(!0),this._quickInfoBox=null),this._quickInfoReadonly=c.isReadonly(r),this._quickInfoBox||(this._quickInfoBox=this._createQuickInfoElement()),this._quickInfoBox},h.prototype._prepare_quick_info_classname=function(l){var c=this._gantt,r=c.getTask(l),o="gantt_cal_quick_info",n=c.templates.quick_info_class(r.start_date,r.end_date,r);return n&&(o+=" "+n),o},h.prototype._fill_quick_data=function(l){var c=this._gantt,r=c.getTask(l);this._quickInfoBoxId=l;var o=[];if(this._quickInfoReadonly)for(var n=c.config.quickinfo_buttons,t={icon_delete:!0,icon_edit:!0},e=0;e<n.length;e++)this._quickInfoReadonly&&t[n[e]]||o.push(n[e]);else o=c.config.quickinfo_buttons;this.setContent({header:{title:c.templates.quick_info_title(r.start_date,r.end_date,r),date:c.templates.quick_info_date(r.start_date,r.end_date,r)},content:c.templates.quick_info_content(r.start_date,r.end_date,r),buttons:o})},h.prototype._appendAtCoordinates=function(l,c){var r=this._quickInfoBox,o=this._getContainer();r.parentNode&&r.parentNode.nodeName.toLowerCase()!=="#document-fragment"||o.parent.appendChild(r),r.style.left=l+"px",r.style.top=c+"px"},h.prototype._show_quick_info=function(l,c){var r=this._gantt,o=this._quickInfoBox;if(r.config.quick_info_detached){var n=this._getContainer();o.parentNode&&o.parentNode.nodeName.toLowerCase()!=="#document-fragment"||n.parent.appendChild(o);var t=o.offsetWidth,e=o.offsetHeight,a=r.getScrollState(),i=n.xViewport,s=n.yViewport,d=i.offsetWidth+a.x-t,f=l.top-a.y+e,_=l.top;f>s.offsetHeight/2&&(_=l.top-(e+l.height+2*c))<a.y&&f<=s.offsetHeight&&(_=l.top),_<a.y&&(_=a.y);var p=Math.min(Math.max(a.x,l.left-l.dx*(t-l.width)),d),v=_;this._appendAtCoordinates(p,v)}else o.style.top="20px",l.dx===1?(o.style.right="auto",o.style.left="-300px",setTimeout(function(){o.style.left="10px"},1)):(o.style.left="auto",o.style.right="-300px",setTimeout(function(){o.style.right="10px"},1)),o.className+=" gantt_qi_"+(l.dx===1?"left":"right"),r.$root.appendChild(o)},h.prototype._qi_button_click=function(l){var c=this._gantt,r=this._quickInfoBox;if(l&&l!==r){var o=l.className;if(o.indexOf("_icon")!==-1){var n=this._quickInfoBoxId;c.$click.buttons[o.split(" ")[1].replace("icon_","")](n)}else this._qi_button_click(l.parentNode)}},h.prototype._getContainer=function(){var l=this._gantt,c=this._container?this._container:l.$task_data;return c&&c.offsetHeight&&c.offsetWidth?{parent:c,xViewport:l.$task,yViewport:l.$task_data}:(c=this._container?this._container:l.$grid_data)&&c.offsetHeight&&c.offsetWidth?{parent:c,xViewport:l.$grid,yViewport:l.$grid_data}:{parent:this._container?this._container:l.$layout,xViewport:l.$layout,yViewport:l.$layout}},h}();C.QuickInfo=g},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=u(235);C.default=function(h){h.ext||(h.ext={}),h.ext.quickInfo=new g.QuickInfo(h),h.config.quickinfo_buttons=["icon_delete","icon_edit"],h.config.quick_info_detached=!0,h.config.show_quick_info=!0,h.templates.quick_info_title=function(n,t,e){return e.text.substr(0,50)},h.templates.quick_info_content=function(n,t,e){return e.details||e.text},h.templates.quick_info_date=function(n,t,e){return h.templates.task_time(n,t,e)},h.templates.quick_info_class=function(n,t,e){return""},h.attachEvent("onTaskClick",function(n,t){return h.utils.dom.closest(t.target,".gantt_add")||setTimeout(function(){h.ext.quickInfo.show(n)},0),!0});for(var l=["onViewChange","onLightbox","onBeforeTaskDelete","onBeforeDrag"],c=function(){return h.ext.quickInfo.hide(),!0},r=0;r<l.length;r++)h.attachEvent(l[r],c);function o(){return h.ext.quickInfo.hide(),h.ext.quickInfo._quickInfoBox=null,!0}h.attachEvent("onEmptyClick",function(n){var t=!0,e=document.querySelector(".gantt_cal_quick_info");e&&h.utils.dom.isChildOf(n.target,e)&&(t=!1),t&&c()}),h.attachEvent("onGanttReady",o),h.attachEvent("onDestroy",o),h.event(window,"keydown",function(n){n.keyCode===27&&h.ext.quickInfo.hide()})}},function(T,C,u){var g=u(2).replaceValidZeroId;T.exports=function(h){h.config.multiselect=!0,h.config.multiselect_one_level=!1,h._multiselect={_selected:{},_one_level:!1,_active:!0,_first_selected_when_shift:null,getDefaultSelected:function(){var l=this.getSelected();return l.length?l[l.length-1]:null},setFirstSelected:function(l){this._first_selected_when_shift=l},getFirstSelected:function(){return this._first_selected_when_shift},isActive:function(){return this.updateState(),this._active},updateState:function(){this._one_level=h.config.multiselect_one_level;var l=this._active;this._active=h.config.select_task,this._active!=l&&this.reset()},reset:function(){this._selected={}},setLastSelected:function(l){h.$data.tasksStore.silent(function(){var c=h.$data.tasksStore;l?c.select(l+""):c.unselect(null)})},getLastSelected:function(){var l=h.$data.tasksStore.getSelectedId();return l&&h.isTaskExists(l)?l:null},select:function(l,c){return!!(l&&h.callEvent("onBeforeTaskMultiSelect",[l,!0,c])&&h.callEvent("onBeforeTaskSelected",[l]))&&(this._selected[l]=!0,this.setLastSelected(l),this.afterSelect(l),h.callEvent("onTaskMultiSelect",[l,!0,c]),h.callEvent("onTaskSelected",[l]),!0)},toggle:function(l,c){this._selected[l]?this.unselect(l,c):this.select(l,c)},unselect:function(l,c){l&&h.callEvent("onBeforeTaskMultiSelect",[l,!1,c])&&(this._selected[l]=!1,this.getLastSelected()==l&&this.setLastSelected(this.getDefaultSelected()),this.afterSelect(l),h.callEvent("onTaskMultiSelect",[l,!1,c]),h.callEvent("onTaskUnselected",[l]))},isSelected:function(l){return!(!h.isTaskExists(l)||!this._selected[l])},getSelected:function(){var l=[];for(var c in this._selected)this._selected[c]&&h.isTaskExists(c)?l.push(c):this._selected[c]=!1;return l.sort(function(r,o){return h.getGlobalTaskIndex(r)>h.getGlobalTaskIndex(o)?1:-1}),l},forSelected:function(l){for(var c=this.getSelected(),r=0;r<c.length;r++)l(c[r])},isSameLevel:function(l){if(!this._one_level)return!0;var c=this.getLastSelected();return!c||!h.isTaskExists(c)||!h.isTaskExists(l)||h.calculateTaskLevel(h.getTask(c))==h.calculateTaskLevel(h.getTask(l))},afterSelect:function(l){h.isTaskExists(l)&&h._quickRefresh(function(){h.refreshTask(l)})},doSelection:function(l){if(!this.isActive()||h._is_icon_open_click(l))return!1;var c=h.locate(l);if(!c||!h.callEvent("onBeforeMultiSelect",[l]))return!1;var r=this.getSelected(),o=this.getFirstSelected(),n=!1,t=this.getLastSelected(),e=h.config.multiselect,a=function(){var s=h.ext.inlineEditors,d=s.getState(),f=s.locateCell(l.target);h.config.inline_editors_multiselect_open&&f&&s.getEditorConfig(f.columnName)&&(s.isVisible()&&d.id==f.id&&d.columnName==f.columnName||s.startEdit(f.id,f.columnName)),this.setFirstSelected(c),this.isSelected(c)||this.select(c,l),r=this.getSelected();for(var _=0;_<r.length;_++)r[_]!==c&&this.unselect(r[_],l)}.bind(this),i=function(){if(t){if(c){for(var s=h.getGlobalTaskIndex(this.getFirstSelected()),d=h.getGlobalTaskIndex(c),f=h.getGlobalTaskIndex(t),_=t;h.getGlobalTaskIndex(_)!==s;)this.unselect(_,l),_=s>f?h.getNext(_):h.getPrev(_);for(_=c;h.getGlobalTaskIndex(_)!==s;)this.select(_,l)&&!n&&(n=!0,o=_),_=s>d?h.getNext(_):h.getPrev(_)}}else t=c}.bind(this);return e&&(l.ctrlKey||l.metaKey)?(this.isSelected(c)||this.setFirstSelected(c),c&&this.toggle(c,l)):e&&l.shiftKey?(h.isTaskExists(this.getFirstSelected())&&this.getFirstSelected()!==null||this.setFirstSelected(c),r.length?i():a()):a(),this.isSelected(c)?this.setLastSelected(c):o?c==t&&this.setLastSelected(l.shiftKey?o:this.getDefaultSelected()):this.setLastSelected(null),this.getSelected().length||this.setLastSelected(null),this.getLastSelected()&&this.isSelected(this.getFirstSelected())||this.setFirstSelected(this.getLastSelected()),!0}},function(){var l=h.selectTask;h.selectTask=function(r){if(!(r=g(r,this.config.root_id)))return!1;var o=h._multiselect,n=r;return o.isActive()?(o.select(r,null)&&o.setLastSelected(r),o.setFirstSelected(o.getLastSelected())):n=l.call(this,r),n};var c=h.unselectTask;h.unselectTask=function(r){var o=h._multiselect,n=o.isActive();(r=r||o.getLastSelected())&&n&&(o.unselect(r,null),r==o.getLastSelected()&&o.setLastSelected(null),h.refreshTask(r),o.setFirstSelected(o.getLastSelected()));var t=r;return n||(t=c.call(this,r)),t},h.toggleTaskSelection=function(r){var o=h._multiselect;r&&o.isActive()&&(o.toggle(r),o.setFirstSelected(o.getLastSelected()))},h.getSelectedTasks=function(){var r=h._multiselect;return r.isActive(),r.getSelected()},h.eachSelectedTask=function(r){return this._multiselect.forSelected(r)},h.isSelectedTask=function(r){return this._multiselect.isSelected(r)},h.getLastSelectedTask=function(){return this._multiselect.getLastSelected()},h.attachEvent("onGanttReady",function(){var r=h.$data.tasksStore.isSelected;h.$data.tasksStore.isSelected=function(o){return h._multiselect.isActive()?h._multiselect.isSelected(o):r.call(this,o)}})}(),h.attachEvent("onTaskIdChange",function(l,c){var r=h._multiselect;if(!r.isActive())return!0;h.isSelectedTask(l)&&(r.unselect(l,null),r.select(c,null))}),h.attachEvent("onAfterTaskDelete",function(l,c){var r=h._multiselect;if(!r.isActive())return!0;r._selected[l]&&(r.unselect(l,null),r._selected[l]=!1,r.setLastSelected(r.getDefaultSelected())),r.forSelected(function(o){h.isTaskExists(o)||r.unselect(o,null)})}),h.attachEvent("onBeforeTaskMultiSelect",function(l,c,r){var o=h._multiselect;return!(c&&o.isActive()&&o._one_level)||o.isSameLevel(l)}),h.attachEvent("onTaskClick",function(l,c){return h._multiselect.doSelection(c)&&h.callEvent("onMultiSelect",[c]),!0})}},function(T,C){T.exports=function(u){function g(l){if(!u.config.show_markers||!l.start_date)return!1;var c=u.getState();if(!(+l.start_date>+c.max_date||(!l.end_date||+l.end_date<+c.min_date)&&+l.start_date<+c.min_date)){var r=document.createElement("div");r.setAttribute("data-marker-id",l.id);var o="gantt_marker";u.templates.marker_class&&(o+=" "+u.templates.marker_class(l)),l.css&&(o+=" "+l.css),l.title&&(r.title=l.title),r.className=o;var n=u.posFromDate(l.start_date);r.style.left=n+"px";var t=Math.max(u.getRowTop(u.getVisibleTaskCount()),0)+"px";if(u.config.timeline_placeholder&&(t=u.$container.scrollHeight+"px"),r.style.height=t,l.end_date){var e=u.posFromDate(l.end_date);r.style.width=Math.max(e-n,0)+"px"}return l.text&&(r.innerHTML="<div class='gantt_marker_content' >"+l.text+"</div>"),r}}function h(){if(u.$task_data){var l=document.createElement("div");l.className="gantt_marker_area",u.$task_data.appendChild(l),u.$marker_area=l}}u._markers||(u._markers=u.createDatastore({name:"marker",initItem:function(l){return l.id=l.id||u.uid(),l}})),u.config.show_markers=!0,u.attachEvent("onBeforeGanttRender",function(){u.$marker_area||h()}),u.attachEvent("onDataRender",function(){u.$marker_area||(h(),u.renderMarkers())}),u.attachEvent("onGanttLayoutReady",function(){u.attachEvent("onBeforeGanttRender",function(){h(),u.$services.getService("layers").createDataRender({name:"marker",defaultContainer:function(){return u.$marker_area}}).addLayer(g)},{once:!0})}),u.getMarker=function(l){return this._markers?this._markers.getItem(l):null},u.addMarker=function(l){return this._markers.addItem(l)},u.deleteMarker=function(l){return!!this._markers.exists(l)&&(this._markers.removeItem(l),!0)},u.updateMarker=function(l){this._markers.refresh(l)},u._getMarkers=function(){return this._markers.getItems()},u.renderMarkers=function(){this._markers.refresh()}}},function(T,C){T.exports=function(u){u.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new u.$keyboardNavigation.GanttNode,enable:function(){this.isActive=!0,this.setActiveNode(this.getActiveNode())},disable:function(){this.isActive=!1},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){var g;return(g=u.config.keyboard_navigation_cells?new u.$keyboardNavigation.TaskCell:new u.$keyboardNavigation.TaskRow).isValid()||(g=g.fallback()),g},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var g=this.activeNode;return g&&!g.isValid()&&(g=g.fallback()),g},fromDomElement:function(g){for(var h=[u.$keyboardNavigation.TaskRow,u.$keyboardNavigation.TaskCell,u.$keyboardNavigation.HeaderCell],l=0;l<h.length;l++)if(h[l].prototype.fromDomElement){var c=h[l].prototype.fromDomElement(g);if(c)return c}return null},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(g){var h=!0;this.activeNode&&this.activeNode.compareTo(g)&&(h=!1),this.isEnabled()&&(h&&this.blurNode(this.activeNode),this.activeNode=g,this.focusNode(this.activeNode,!h))},focusNode:function(g,h){g&&g.focus&&g.focus(h)},blurNode:function(g){g&&g.blur&&g.blur()},keyDownHandler:function(g){if(!u.$keyboardNavigation.isModal()&&this.isEnabled()&&!g.defaultPrevented){var h=this.globalNode,l=u.$keyboardNavigation.shortcuts.getCommandFromEvent(g),c=this.getActiveNode();u.$keyboardNavigation.facade.callEvent("onKeyDown",[l,g])!==!1&&(c?c.findHandler(l)?c.doAction(l,g):h.findHandler(l)&&h.doAction(l,g):this.setDefaultNode())}},_timeout:null,awaitsFocus:function(){return this._timeout!==null},delay:function(g,h){clearTimeout(this._timeout),this._timeout=setTimeout(u.bind(function(){this._timeout=null,g()},this),h||1)},clearDelay:function(){clearTimeout(this._timeout)}}}},function(T,C){T.exports=function(u){(function(){var g=[];function h(){return!!g.length}function l(e){setTimeout(function(){h()||u.$destroyed||u.focus()},1)}function c(e){u.eventRemove(e,"keydown",o),u.event(e,"keydown",o),g.push(e)}function r(){var e=g.pop();e&&u.eventRemove(e,"keydown",o),l()}function o(e){var a=e.currentTarget;(function(i){return i==g[g.length-1]})(a)&&u.$keyboardNavigation.trapFocus(a,e)}function n(){c(u.getLightbox())}u.attachEvent("onLightbox",n),u.attachEvent("onAfterLightbox",r),u.attachEvent("onLightboxChange",function(){r(),n()}),u.attachEvent("onAfterQuickInfo",function(){l()}),u.attachEvent("onMessagePopup",function(e){t=u.utils.dom.getActiveElement(),c(e)}),u.attachEvent("onAfterMessagePopup",function(){r(),setTimeout(function(){t&&(t.focus(),t=null)},1)});var t=null;u.$keyboardNavigation.isModal=h})()}},function(T,C,u){T.exports=function(g){var h=u(1),l=u(2).replaceValidZeroId;g.$keyboardNavigation.TaskCell=function(c,r){if(!(c=l(c,g.config.root_id))){var o=g.getChildren(g.config.root_id);o[0]&&(c=o[0])}this.taskId=c,this.columnIndex=r||0,g.isTaskExists(this.taskId)&&(this.index=g.getTaskIndex(this.taskId),this.globalIndex=g.getGlobalTaskIndex(this.taskId))},g.$keyboardNavigation.TaskCell.prototype=g._compose(g.$keyboardNavigation.TaskRow,{_handlers:null,isValid:function(){return g.$keyboardNavigation.TaskRow.prototype.isValid.call(this)&&!!g.getGridColumns()[this.columnIndex]},fallback:function(){var c=g.$keyboardNavigation.TaskRow.prototype.fallback.call(this),r=c;if(c instanceof g.$keyboardNavigation.TaskRow){for(var o=g.getGridColumns(),n=this.columnIndex;n>=0&&!o[n];)n--;o[n]&&(r=new g.$keyboardNavigation.TaskCell(c.taskId,n))}return r},fromDomElement:function(c){if(!g.config.keyboard_navigation_cells)return null;var r=g.locate(c);if(g.isTaskExists(r)){var o=0,n=h.locateAttribute(c,"data-column-index");return n&&(o=1*n.getAttribute("data-column-index")),new g.$keyboardNavigation.TaskCell(r,o)}return null},getNode:function(){if(g.isTaskExists(this.taskId)&&g.isTaskVisible(this.taskId)){if(g.config.show_grid){var c=g.$grid.querySelector(".gantt_row["+g.config.task_attribute+"='"+this.taskId+"']");return c?c.querySelector("[data-column-index='"+this.columnIndex+"']"):null}return g.getTaskNode(this.taskId)}},keys:{up:function(){var c=null,r=g.getPrev(this.taskId);c=g.isTaskExists(r)?new g.$keyboardNavigation.TaskCell(r,this.columnIndex):new g.$keyboardNavigation.HeaderCell(this.columnIndex),this.moveTo(c)},down:function(){var c=g.getNext(this.taskId);g.isTaskExists(c)&&this.moveTo(new g.$keyboardNavigation.TaskCell(c,this.columnIndex))},left:function(){this.columnIndex>0&&this.moveTo(new g.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex-1))},right:function(){var c=g.getGridColumns();this.columnIndex<c.length-1&&this.moveTo(new g.$keyboardNavigation.TaskCell(this.taskId,this.columnIndex+1))},end:function(){var c=g.getGridColumns();this.moveTo(new g.$keyboardNavigation.TaskCell(this.taskId,c.length-1))},home:function(){this.moveTo(new g.$keyboardNavigation.TaskCell(this.taskId,0))},pagedown:function(){g.getVisibleTaskCount()&&this.moveTo(new g.$keyboardNavigation.TaskCell(g.getTaskByIndex(g.getVisibleTaskCount()-1).id,this.columnIndex))},pageup:function(){g.getVisibleTaskCount()&&this.moveTo(new g.$keyboardNavigation.TaskCell(g.getTaskByIndex(0).id,this.columnIndex))}}}),g.$keyboardNavigation.TaskCell.prototype.bindAll(g.$keyboardNavigation.TaskRow.prototype.keys),g.$keyboardNavigation.TaskCell.prototype.bindAll(g.$keyboardNavigation.TaskCell.prototype.keys)}},function(T,C){T.exports=function(u){u.$keyboardNavigation.TaskRow=function(g){if(!g){var h=u.getChildren(u.config.root_id);h[0]&&(g=h[0])}this.taskId=g,u.isTaskExists(this.taskId)&&(this.index=u.getTaskIndex(this.taskId),this.globalIndex=u.getGlobalTaskIndex(this.taskId))},u.$keyboardNavigation.TaskRow.prototype=u._compose(u.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return u.isTaskExists(this.taskId)&&u.getTaskIndex(this.taskId)>-1},fallback:function(){if(!u.getVisibleTaskCount()){var g=new u.$keyboardNavigation.HeaderCell;return g.isValid()?g:null}var h=-1;if(u.getTaskByIndex(this.globalIndex-1))h=this.globalIndex-1;else if(u.getTaskByIndex(this.globalIndex+1))h=this.globalIndex+1;else for(var l=this.globalIndex;l>=0;){if(u.getTaskByIndex(l)){h=l;break}l--}if(h>-1)return new u.$keyboardNavigation.TaskRow(u.getTaskByIndex(h).id)},fromDomElement:function(g){if(u.config.keyboard_navigation_cells)return null;var h=u.locate(g);return u.isTaskExists(h)?new u.$keyboardNavigation.TaskRow(h):null},getNode:function(){if(u.isTaskExists(this.taskId)&&u.isTaskVisible(this.taskId))return u.config.show_grid?u.$grid.querySelector(".gantt_row["+u.config.task_attribute+"='"+this.taskId+"']"):u.getTaskNode(this.taskId)},focus:function(g){if(!g){var h,l,c=u.getTaskPosition(u.getTask(this.taskId)),r=u.getTaskHeight(this.taskId),o=u.getScrollState();h=u.$task?u.$task.offsetWidth:o.inner_width,l=u.$grid_data||u.$task_data?(u.$grid_data||u.$task_data).offsetHeight:o.inner_height,c.top<o.y||c.top+r>o.y+l?u.scrollTo(null,c.top-5*r):u.config.scroll_on_click&&u.config.show_chart&&(c.left>o.x+h?u.scrollTo(c.left-u.config.task_scroll_offset):c.left+c.width<o.x&&u.scrollTo(c.left+c.width-u.config.task_scroll_offset))}u.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this,[g]),function(){var n=u.$ui.getView("grid"),t=parseInt(n.$grid.scrollLeft),e=parseInt(n.$grid_data.scrollTop),a=n.$config.scrollX;if(a&&n.$config.scrollable){var i=u.$ui.getView(a);i&&i.scrollTo(t,e)}var s=n.$config.scrollY;if(s){var d=u.$ui.getView(s);d&&d.scrollTo(t,e)}}()},keys:{pagedown:function(){u.getVisibleTaskCount()&&this.moveTo(new u.$keyboardNavigation.TaskRow(u.getTaskByIndex(u.getVisibleTaskCount()-1).id))},pageup:function(){u.getVisibleTaskCount()&&this.moveTo(new u.$keyboardNavigation.TaskRow(u.getTaskByIndex(0).id))},up:function(){var g=null,h=u.getPrev(this.taskId);g=u.isTaskExists(h)?new u.$keyboardNavigation.TaskRow(h):new u.$keyboardNavigation.HeaderCell,this.moveTo(g)},down:function(){var g=u.getNext(this.taskId);u.isTaskExists(g)&&this.moveTo(new u.$keyboardNavigation.TaskRow(g))},"shift+down":function(){u.hasChild(this.taskId)&&!u.getTask(this.taskId).$open&&u.open(this.taskId)},"shift+up":function(){u.hasChild(this.taskId)&&u.getTask(this.taskId).$open&&u.close(this.taskId)},"shift+right":function(){if(!u.isReadonly(this)){var g=u.getPrevSibling(this.taskId);u.isTaskExists(g)&&!u.isChildOf(this.taskId,g)&&(u.getTask(g).$open=!0,u.moveTask(this.taskId,-1,g)!==!1&&u.updateTask(this.taskId))}},"shift+left":function(){if(!u.isReadonly(this)){var g=u.getParent(this.taskId);u.isTaskExists(g)&&u.moveTask(this.taskId,u.getTaskIndex(g)+1,u.getParent(g))!==!1&&u.updateTask(this.taskId)}},space:function(g){u.isSelectedTask(this.taskId)?u.unselectTask(this.taskId):u.selectTask(this.taskId)},"ctrl+left":function(g){u.close(this.taskId)},"ctrl+right":function(g){u.open(this.taskId)},delete:function(g){u.isReadonly(this)||u.$click.buttons.delete(this.taskId)},enter:function(){u.isReadonly(this)||u.showLightbox(this.taskId)},"ctrl+enter":function(){u.isReadonly(this)||u.createTask({},this.taskId)}}}),u.$keyboardNavigation.TaskRow.prototype.bindAll(u.$keyboardNavigation.TaskRow.prototype.keys)}},function(T,C,u){T.exports=function(g){var h=u(1);g.$keyboardNavigation.HeaderCell=function(l){this.index=l||0},g.$keyboardNavigation.HeaderCell.prototype=g._compose(g.$keyboardNavigation.KeyNavNode,{_handlers:null,isValid:function(){return!(!g.config.show_grid&&g.getVisibleTaskCount())&&(!!g.getGridColumns()[this.index]||!g.getVisibleTaskCount())},fallback:function(){if(!g.config.show_grid)return g.getVisibleTaskCount()?new g.$keyboardNavigation.TaskRow:null;for(var l=g.getGridColumns(),c=this.index;c>=0&&!l[c];)c--;return l[c]?new g.$keyboardNavigation.HeaderCell(c):null},fromDomElement:function(l){var c=h.locateClassName(l,"gantt_grid_head_cell");if(c){for(var r=0;c&&c.previousSibling;)c=c.previousSibling,r+=1;return new g.$keyboardNavigation.HeaderCell(r)}return null},getNode:function(){return g.$grid_scale.childNodes[this.index]},keys:{left:function(){this.index>0&&this.moveTo(new g.$keyboardNavigation.HeaderCell(this.index-1))},right:function(){var l=g.getGridColumns();this.index<l.length-1&&this.moveTo(new g.$keyboardNavigation.HeaderCell(this.index+1))},down:function(){var l,c=g.getChildren(g.config.root_id);g.isTaskExists(c[0])&&(l=c[0]),l&&(g.config.keyboard_navigation_cells?this.moveTo(new g.$keyboardNavigation.TaskCell(l,this.index)):this.moveTo(new g.$keyboardNavigation.TaskRow(l)))},end:function(){var l=g.getGridColumns();this.moveTo(new g.$keyboardNavigation.HeaderCell(l.length-1))},home:function(){this.moveTo(new g.$keyboardNavigation.HeaderCell(0))},"enter, space":function(){h.getActiveElement().click()},"ctrl+enter":function(){g.isReadonly(this)||g.createTask({},this.taskId)}}}),g.$keyboardNavigation.HeaderCell.prototype.bindAll(g.$keyboardNavigation.HeaderCell.prototype.keys)}},function(T,C){T.exports=function(u){u.$keyboardNavigation.KeyNavNode=function(){},u.$keyboardNavigation.KeyNavNode.prototype=u._compose(u.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(g){u.$keyboardNavigation.dispatcher.setActiveNode(g)},compareTo:function(g){if(!g)return!1;for(var h in this){if(!!this[h]!=!!g[h])return!1;var l=!(!this[h]||!this[h].toString),c=!(!g[h]||!g[h].toString);if(c!=l)return!1;if(c&&l){if(g[h].toString()!=this[h].toString())return!1}else if(g[h]!=this[h])return!1}return!0},getNode:function(){},focus:function(){var g=this.getNode();if(g){var h=u.$keyboardNavigation.facade;h.callEvent("onBeforeFocus",[g])!==!1&&g&&(g.setAttribute("tabindex","-1"),g.$eventAttached||(g.$eventAttached=!0,u.event(g,"focus",function(l){return l.preventDefault(),!1},!1)),u.utils.dom.isChildOf(document.activeElement,g)&&(g=document.activeElement),g.focus&&g.focus(),h.callEvent("onFocus",[this.getNode()]))}},blur:function(){var g=this.getNode();g&&(u.$keyboardNavigation.facade.callEvent("onBlur",[g]),g.setAttribute("tabindex","-1"))}})}},function(T,C){T.exports=function(u){u.$keyboardNavigation.GanttNode=function(){},u.$keyboardNavigation.GanttNode.prototype=u._compose(u.$keyboardNavigation.EventHandler,{focus:function(){u.focus()},blur:function(){},isEnabled:function(){return u.$container.hasAttribute("tabindex")},scrollHorizontal:function(g){var h=u.dateFromPos(u.getScrollState().x),l=u.getScale(),c=g<0?-l.step:l.step;h=u.date.add(h,c,l.unit),u.scrollTo(u.posFromDate(h))},scrollVertical:function(g){var h=u.getScrollState().y,l=u.config.row_height;u.scrollTo(null,h+(g<0?-1:1)*l)},keys:{"alt+left":function(g){this.scrollHorizontal(-1)},"alt+right":function(g){this.scrollHorizontal(1)},"alt+up":function(g){this.scrollVertical(-1)},"alt+down":function(g){this.scrollVertical(1)},"ctrl+z":function(){u.undo&&u.undo()},"ctrl+r":function(){u.redo&&u.redo()}}}),u.$keyboardNavigation.GanttNode.prototype.bindAll(u.$keyboardNavigation.GanttNode.prototype.keys)}},function(T,C,u){T.exports=function(g){(function(){var h=u(1);g.$keyboardNavigation.getFocusableNodes=h.getFocusableNodes,g.$keyboardNavigation.trapFocus=function(l,c){if(c.keyCode!=9)return!1;for(var r=g.$keyboardNavigation.getFocusableNodes(l),o=h.getActiveElement(),n=-1,t=0;t<r.length;t++)if(r[t]==o){n=t;break}if(c.shiftKey){if(n<=0){var e=r[r.length-1];if(e)return e.focus(),c.preventDefault(),!0}}else if(n>=r.length-1){var a=r[0];if(a)return a.focus(),c.preventDefault(),!0}return!1}})()}},function(T,C){T.exports=function(u){u.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(g){this._handlers||(this._handlers={});var h=u.$keyboardNavigation.shortcuts.getHash(g);return this._handlers[h]},doAction:function(g,h){var l=this.findHandler(g);if(l){if(u.$keyboardNavigation.facade.callEvent("onBeforeAction",[g,h])===!1)return;l.call(this,h),h.preventDefault?h.preventDefault():h.returnValue=!1}},bind:function(g,h){this._handlers||(this._handlers={});for(var l=u.$keyboardNavigation.shortcuts,c=l.parse(g),r=0;r<c.length;r++)this._handlers[l.getHash(c[r])]=h},unbind:function(g){for(var h=u.$keyboardNavigation.shortcuts,l=h.parse(g),c=0;c<l.length;c++)this._handlers[h.getHash(l[c])]&&delete this._handlers[h.getHash(l[c])]},bindAll:function(g){for(var h in g)this.bind(h,g[h])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}},function(T,C){T.exports=function(u){u.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(g){for(var h=[],l=this.getExpressions(this.trim(g)),c=0;c<l.length;c++){for(var r=this.getWords(l[c]),o=this.createCommand(),n=0;n<r.length;n++)this.commandKeys[r[n]]?o.modifiers[r[n]]=!0:this.specialKeys[r[n]]?o.keyCode=this.specialKeys[r[n]]:o.keyCode=r[n].charCodeAt(0);h.push(o)}return h},getCommandFromEvent:function(g){var h=this.createCommand();h.modifiers.shift=!!g.shiftKey,h.modifiers.alt=!!g.altKey,h.modifiers.ctrl=!!g.ctrlKey,h.modifiers.meta=!!g.metaKey,h.keyCode=g.which||g.keyCode,h.keyCode>=96&&h.keyCode<=105&&(h.keyCode-=48);var l=String.fromCharCode(h.keyCode);return l&&(h.keyCode=l.toLowerCase().charCodeAt(0)),h},getHashFromEvent:function(g){return this.getHash(this.getCommandFromEvent(g))},getHash:function(g){var h=[];for(var l in g.modifiers)g.modifiers[l]&&h.push(l);return h.push(g.keyCode),h.join(this.junctionChar)},getExpressions:function(g){return g.split(this.junctionChar)},getWords:function(g){return g.split(this.combinationChar)},trim:function(g){return g.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}}}},function(T,C,u){T.exports=function(g){var h=u(4);(function(l){l.config.keyboard_navigation=!0,l.config.keyboard_navigation_cells=!1,l.$keyboardNavigation={},l._compose=function(){for(var r=Array.prototype.slice.call(arguments,0),o={},n=0;n<r.length;n++){var t=r[n];for(var e in typeof t=="function"&&(t=new t),t)o[e]=t[e]}return o},u(248)(l),u(247)(l),u(246)(l),u(245)(l),u(244)(l),u(243)(l),u(242)(l),u(241)(l),u(240)(l),u(239)(l);var c=u(1);(function(){var r=l.$keyboardNavigation.dispatcher;r.isTaskFocused=function(m){var k=r.activeNode;return(k instanceof l.$keyboardNavigation.TaskRow||k instanceof l.$keyboardNavigation.TaskCell)&&k.taskId==m};var o=function(m){if(l.config.keyboard_navigation&&(l.config.keyboard_navigation_cells||!e(m))&&!a(m)&&!function(k){return!!c.closest(k.target,".gantt_cal_light")}(m))return r.keyDownHandler(m)},n=function(m){if(r.$preventDefault)return m.preventDefault(),l.$container.blur(),!1;r.awaitsFocus()||r.focusGlobalNode()},t=function(){if(r.isEnabled()){var m=!c.isChildOf(document.activeElement,l.$container)&&document.activeElement.localName!="body",k=r.getActiveNode();if(k&&!m){var b,w,x=k.getNode();x&&x.parentNode&&(b=x.parentNode.scrollTop,w=x.parentNode.scrollLeft),k.focus(!0),x&&x.parentNode&&(x.parentNode.scrollTop=b,x.parentNode.scrollLeft=w)}}};function e(m){return!!c.closest(m.target,".gantt_grid_editor_placeholder")}function a(m){return!!c.closest(m.target,".no_keyboard_navigation")}function i(m){if(!l.config.keyboard_navigation||!l.config.keyboard_navigation_cells&&e(m))return!0;if(!a(m)){var k,b=r.fromDomElement(m);b&&(r.activeNode instanceof l.$keyboardNavigation.TaskCell&&c.isChildOf(m.target,l.$task)&&(b=new l.$keyboardNavigation.TaskCell(b.taskId,r.activeNode.columnIndex)),k=b),k?r.isEnabled()?r.delay(function(){r.setActiveNode(k)}):r.activeNode=k:(r.$preventDefault=!0,setTimeout(function(){r.$preventDefault=!1},300))}}l.attachEvent("onDataRender",function(){l.config.keyboard_navigation&&t()}),l.attachEvent("onGanttRender",function(){l.eventRemove(l.$root,"keydown",o),l.eventRemove(l.$container,"focus",n),l.eventRemove(l.$container,"mousedown",i),l.config.keyboard_navigation?(l.event(l.$root,"keydown",o),l.event(l.$container,"focus",n),l.event(l.$container,"mousedown",i),l.$container.setAttribute("tabindex","0")):l.$container.removeAttribute("tabindex")});var s=l.attachEvent("onGanttReady",function(){if(l.detachEvent(s),l.$data.tasksStore.attachEvent("onStoreUpdated",function(k){if(l.config.keyboard_navigation&&r.isEnabled()){var b=r.getActiveNode();b&&b.taskId==k&&t()}}),l._smart_render){var m=l._smart_render._redrawTasks;l._smart_render._redrawTasks=function(k,b){if(l.config.keyboard_navigation&&r.isEnabled()){var w=r.getActiveNode();if(w&&w.taskId!==void 0){for(var x=!1,$=0;$<b.length;$++)if(b[$].id==w.taskId&&b[$].start_date){x=!0;break}x||b.push(l.getTask(w.taskId))}}return m.apply(this,arguments)}}}),d=null,f=!1;l.attachEvent("onTaskCreated",function(m){return d=m.id,!0}),l.attachEvent("onAfterTaskAdd",function(m,k){if(!l.config.keyboard_navigation)return!0;if(r.isEnabled()){if(m==d&&(f=!0,setTimeout(function(){f=!1,d=null})),f&&k.type==l.config.types.placeholder)return;var b=0,w=r.activeNode;w instanceof l.$keyboardNavigation.TaskCell&&(b=w.columnIndex);var x=l.config.keyboard_navigation_cells?l.$keyboardNavigation.TaskCell:l.$keyboardNavigation.TaskRow;k.type==l.config.types.placeholder&&l.config.placeholder_task.focusOnCreate===!1||r.setActiveNode(new x(m,b))}}),l.attachEvent("onTaskIdChange",function(m,k){if(!l.config.keyboard_navigation)return!0;var b=r.activeNode;return r.isTaskFocused(m)&&(b.taskId=k),!0});var _=setInterval(function(){l.config.keyboard_navigation&&(r.isEnabled()||r.enable())},500);function p(m){var k={gantt:l.$keyboardNavigation.GanttNode,headerCell:l.$keyboardNavigation.HeaderCell,taskRow:l.$keyboardNavigation.TaskRow,taskCell:l.$keyboardNavigation.TaskCell};return k[m]||k.gantt}function v(m){for(var k=l.getGridColumns(),b=0;b<k.length;b++)if(k[b].name==m)return b;return 0}l.attachEvent("onDestroy",function(){clearInterval(_)});var y={};h(y),l.mixin(y,{addShortcut:function(m,k,b){var w=p(b);w&&w.prototype.bind(m,k)},getShortcutHandler:function(m,k){var b=l.$keyboardNavigation.shortcuts.parse(m);if(b.length)return y.getCommandHandler(b[0],k)},getCommandHandler:function(m,k){var b=p(k);if(b&&m)return b.prototype.findHandler(m)},removeShortcut:function(m,k){var b=p(k);b&&b.prototype.unbind(m)},focus:function(m){var k,b=m?m.type:null,w=p(b);switch(b){case"taskCell":k=new w(m.id,v(m.column));break;case"taskRow":k=new w(m.id);break;case"headerCell":k=new w(v(m.column))}r.delay(function(){k?r.setActiveNode(k):(r.enable(),r.getActiveNode()?r.awaitsFocus()||r.enable():r.setDefaultNode())})},getActiveNode:function(){if(r.isEnabled()){var m=r.getActiveNode(),k=function(w){return w instanceof l.$keyboardNavigation.GanttNode?"gantt":w instanceof l.$keyboardNavigation.HeaderCell?"headerCell":w instanceof l.$keyboardNavigation.TaskRow?"taskRow":w instanceof l.$keyboardNavigation.TaskCell?"taskCell":null}(m),b=l.getGridColumns();switch(k){case"taskCell":return{type:"taskCell",id:m.taskId,column:b[m.columnIndex].name};case"taskRow":return{type:"taskRow",id:m.taskId};case"headerCell":return{type:"headerCell",column:b[m.index].name}}}return null}}),l.$keyboardNavigation.facade=y,l.ext.keyboardNavigation=y,l.focus=function(){y.focus()},l.addShortcut=y.addShortcut,l.getShortcutHandler=y.getShortcutHandler,l.removeShortcut=y.removeShortcut})()})(g)}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0}),C.default=function(g){function h(){var i=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return!(!i||i!==document.body)}function l(){try{return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled}catch(i){console.error("Fullscreen is not available:",i)}}g.$services.getService("state").registerProvider("fullscreen",function(){return l()?{fullscreen:h()}:void 0});var c={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},r={width:null,height:null,top:null,left:null,position:null,zIndex:null,modified:!1},o=null;function n(i,s){s.width=i.width,s.height=i.height,s.top=i.top,s.left=i.left,s.position=i.position,s.zIndex=i.zIndex}var t=!1;function e(){var i;g.$container&&(h()?t&&(i="onExpand",function(){var s=g.ext.fullscreen.getFullscreenElement(),d=document.body;n(s.style,r),c={overflow:d.style.overflow,padding:d.style.padding?d.style.padding:null,paddingTop:d.style.paddingTop?d.style.paddingTop:null,paddingRight:d.style.paddingRight?d.style.paddingRight:null,paddingBottom:d.style.paddingBottom?d.style.paddingBottom:null,paddingLeft:d.style.paddingLeft?d.style.paddingLeft:null},d.style.padding&&(d.style.padding="0"),d.style.paddingTop&&(d.style.paddingTop="0"),d.style.paddingRight&&(d.style.paddingRight="0"),d.style.paddingBottom&&(d.style.paddingBottom="0"),d.style.paddingLeft&&(d.style.paddingLeft="0"),d.style.overflow="hidden",s.style.width="100vw",s.style.height="100vh",s.style.top="0px",s.style.left="0px",s.style.position="absolute",s.style.zIndex=1,r.modified=!0,o=function(f){for(var _=f.parentNode,p=[];_&&_.style;)p.push({element:_,originalPositioning:_.style.position}),_.style.position="static",_=_.parentNode;return p}(s)}()):t&&(t=!1,i="onCollapse",function(){var s=g.ext.fullscreen.getFullscreenElement(),d=document.body;r.modified&&(c.padding&&(d.style.padding=c.padding),c.paddingTop&&(d.style.paddingTop=c.paddingTop),c.paddingRight&&(d.style.paddingRight=c.paddingRight),c.paddingBottom&&(d.style.paddingBottom=c.paddingBottom),c.paddingLeft&&(d.style.paddingLeft=c.paddingLeft),d.style.overflow=c.overflow,c={overflow:null,padding:null,paddingTop:null,paddingRight:null,paddingBottom:null,paddingLeft:null},n(r,s.style),r.modified=!1),function(f){f.forEach(function(_){_.element.style.position=_.originalPositioning})}(o),o=null}()),setTimeout(function(){g.render()}),setTimeout(function(){g.callEvent(i,[g.ext.fullscreen.getFullscreenElement()])}))}function a(){return!g.$container||!g.ext.fullscreen.getFullscreenElement()||!l()&&((console.warning||console.log)("The `fullscreen` feature not being allowed, or full-screen mode not being supported"),!0)}g.ext.fullscreen={expand:function(){if(!a()&&!h()&&g.callEvent("onBeforeExpand",[this.getFullscreenElement()])){t=!0;var i=document.body,s=i.webkitRequestFullscreen?[Element.ALLOW_KEYBOARD_INPUT]:[],d=i.msRequestFullscreen||i.mozRequestFullScreen||i.webkitRequestFullscreen||i.requestFullscreen;d&&d.apply(i,s)}},collapse:function(){if(!a()&&h()&&g.callEvent("onBeforeCollapse",[this.getFullscreenElement()])){var i=document.msExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.exitFullscreen;i&&i.apply(document)}},toggle:function(){a()||(h()?this.collapse():this.expand())},getFullscreenElement:function(){return g.$root}},g.expand=function(){g.ext.fullscreen.expand()},g.collapse=function(){g.ext.fullscreen.collapse()},g.attachEvent("onGanttReady",function(){g.event(document,"webkitfullscreenchange",e),g.event(document,"mozfullscreenchange",e),g.event(document,"MSFullscreenChange",e),g.event(document,"fullscreenChange",e),g.event(document,"fullscreenchange",e)})}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=function(){function h(l){var c=this;this._mouseDown=!1,this._calculateDirectionVector=function(){if(c._trace.length>=10){for(var r=c._trace.slice(c._trace.length-10),o=[],n=1;n<r.length;n++)o.push({x:r[n].x-r[n-1].x,y:r[n].y-r[n-1].y});var t={x:0,y:0};return o.forEach(function(e){t.x+=e.x,t.y+=e.y}),{magnitude:Math.sqrt(t.x*t.x+t.y*t.y),angleDegrees:180*Math.atan2(Math.abs(t.y),Math.abs(t.x))/Math.PI}}return null},this._applyDndReadyStyles=function(){c._timeline.$task.classList.add("gantt_timeline_move_available")},this._clearDndReadyStyles=function(){c._timeline.$task.classList.remove("gantt_timeline_move_available")},this._getScrollPosition=function(r){var o=c._gantt;return{x:o.$ui.getView(r.$config.scrollX).getScrollState().position,y:o.$ui.getView(r.$config.scrollY).getScrollState().position}},this._countNewScrollPosition=function(r){var o=c._calculateDirectionVector(),n=c._startPoint.x-r.x,t=c._startPoint.y-r.y;return o&&(o.angleDegrees<15?t=0:o.angleDegrees>75&&(n=0)),{x:c._scrollState.x+n,y:c._scrollState.y+t}},this._setScrollPosition=function(r,o){var n=c._gantt;requestAnimationFrame(function(){n.$ui.getView(r.$config.scrollX).scroll(o.x),n.$ui.getView(r.$config.scrollY).scroll(o.y)})},this._stopDrag=function(r){var o=c._gantt;if(c._trace=[],o.$root.classList.remove("gantt_noselect"),c._originalReadonly!==void 0&&(o.config.readonly=c._originalReadonly),c._originAutoscroll!==void 0&&(o.config.autoscroll=c._originAutoscroll),o.config.drag_timeline){var n=o.config.drag_timeline.useKey;if(n&&r[n]!==!0)return}c._mouseDown=!1},this._startDrag=function(r){var o=c._gantt;c._originAutoscroll=o.config.autoscroll,o.config.autoscroll=!1,o.$root.classList.add("gantt_noselect"),c._originalReadonly=o.config.readonly,o.config.readonly=!0,c._trace=[],c._mouseDown=!0;var n=c._getScrollPosition(c._timeline),t=n.x,e=n.y;c._scrollState={x:t,y:e},c._startPoint={x:r.clientX,y:r.clientY},c._trace.push(c._startPoint)},this._gantt=l,this._domEvents=l._createDomEventScope(),this._trace=[]}return h.create=function(l){return new h(l)},h.prototype.destructor=function(){this._domEvents.detachAll()},h.prototype.attach=function(l){var c=this;this._timeline=l;var r=this._gantt;this._domEvents.attach(l.$task,"mousedown",function(o){if(r.config.drag_timeline){var n=r.config.drag_timeline,t=n.useKey,e=n.ignore;if(n.enabled!==!1){var a=".gantt_task_line, .gantt_task_link";e!==void 0&&(a=e instanceof Array?e.join(", "):e),a&&r.utils.dom.closest(o.target,a)||t&&o[t]!==!0||c._startDrag(o)}}}),this._domEvents.attach(document,"keydown",function(o){if(r.config.drag_timeline){var n=r.config.drag_timeline.useKey;n&&o[n]===!0&&c._applyDndReadyStyles()}}),this._domEvents.attach(document,"keyup",function(o){if(r.config.drag_timeline){var n=r.config.drag_timeline.useKey;n&&o[n]===!1&&(c._clearDndReadyStyles(),c._stopDrag(o))}}),this._domEvents.attach(document,"mouseup",function(o){c._stopDrag(o)}),this._domEvents.attach(r.$root,"mouseup",function(o){c._stopDrag(o)}),this._domEvents.attach(document,"mouseleave",function(o){c._stopDrag(o)}),this._domEvents.attach(r.$root,"mouseleave",function(o){c._stopDrag(o)}),this._domEvents.attach(r.$root,"mousemove",function(o){if(r.config.drag_timeline){var n=r.config.drag_timeline.useKey;if(!n||o[n]===!0){var t=c._gantt.ext.clickDrag,e=(c._gantt.config.click_drag||{}).useKey;if((!t||!e||n||!o[e])&&c._mouseDown===!0){c._trace.push({x:o.clientX,y:o.clientY});var a=c._countNewScrollPosition({x:o.clientX,y:o.clientY});c._setScrollPosition(l,a),c._scrollState=a,c._startPoint={x:o.clientX,y:o.clientY}}}}})},h}();C.EventsManager=g},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=u(251);C.default=function(h){h.ext||(h.ext={}),h.ext.dragTimeline={create:function(){return g.EventsManager.create(h)}},h.config.drag_timeline={enabled:!0}}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=u(4),h=u(2),l=function(){function c(r,o,n){var t=this;this._el=document.createElement("div"),this.defaultRender=function(e,a){t._el||(t._el=document.createElement("div"));var i=t._el,s=Math.min(e.relative.top,a.relative.top),d=Math.max(e.relative.top,a.relative.top),f=Math.min(e.relative.left,a.relative.left),_=Math.max(e.relative.left,a.relative.left);if(t._singleRow){var p=t._getTaskPositionByTop(t._startPoint.relative.top);i.style.height=p.height+"px",i.style.top=p.top+"px"}else i.style.height=Math.abs(d-s)+"px",i.style.top=s+"px";return i.style.width=Math.abs(_-f)+"px",i.style.left=f+"px",i},this._gantt=o,this._view=n,this._viewPort=r.viewPort,this._el.classList.add(r.className),typeof r.callback=="function"&&(this._callback=r.callback),this.render=function(){var e;(e=r.render?r.render(t._startPoint,t._endPoint):t.defaultRender(t._startPoint,t._endPoint))!==t._el&&(t._el&&t._el.parentNode&&t._el.parentNode.removeChild(t._el),t._el=e),r.className!==""&&t._el.classList.add(r.className),t.draw()},h.isEventable(this._viewPort)||g(this._viewPort),this._singleRow=r.singleRow,this._useRequestAnimationFrame=r.useRequestAnimationFrame}return c.prototype.draw=function(){var r=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){r._viewPort.appendChild(r.getElement())});this._viewPort.appendChild(this.getElement())},c.prototype.clear=function(){var r=this;if(this._useRequestAnimationFrame)return requestAnimationFrame(function(){r._el.parentNode&&r._viewPort.removeChild(r._el)});this._el.parentNode&&this._viewPort.removeChild(this._el)},c.prototype.getElement=function(){return this._el},c.prototype.getViewPort=function(){return this._viewPort},c.prototype.setStart=function(r){var o=this._gantt;this._startPoint=r,this._startDate=o.dateFromPos(this._startPoint.relative.left),this._viewPort.callEvent("onBeforeDrag",[this._startPoint])},c.prototype.setEnd=function(r){var o=this._gantt;if(this._endPoint=r,this._singleRow){var n=this._getTaskPositionByTop(this._startPoint.relative.top);this._endPoint.relative.top=n.top}this._endDate=o.dateFromPos(this._endPoint.relative.left),this._startPoint.relative.left>this._endPoint.relative.left&&(this._positionPoint={relative:{left:this._endPoint.relative.left,top:this._positionPoint.relative.top},absolute:{left:this._endPoint.absolute.left,top:this._positionPoint.absolute.top}}),this._startPoint.relative.top>this._endPoint.relative.top&&(this._positionPoint={relative:{left:this._positionPoint.relative.left,top:this._endPoint.relative.top},absolute:{left:this._positionPoint.absolute.left,top:this._endPoint.absolute.top}}),this._viewPort.callEvent("onDrag",[this._startPoint,this._endPoint])},c.prototype.setPosition=function(r){this._positionPoint=r},c.prototype.dragEnd=function(r){var o,n=this._gantt;r.relative.left<0&&(r.relative.left=0),this._viewPort.callEvent("onBeforeDragEnd",[this._startPoint,r]),this.setEnd(r),this._endDate=this._endDate||n.getState().max_date,this._startDate.valueOf()>this._endDate.valueOf()&&(o=[this._endDate,this._startDate],this._startDate=o[0],this._endDate=o[1]),this.clear();var t=n.getTaskByTime(this._startDate,this._endDate),e=this._getTasksByTop(this._startPoint.relative.top,this._endPoint.relative.top);this._viewPort.callEvent("onDragEnd",[this._startPoint,this._endPoint]),this._callback&&this._callback(this._startPoint,this._endPoint,this._startDate,this._endDate,t,e)},c.prototype.getInBounds=function(){return this._singleRow},c.prototype._getTasksByTop=function(r,o){var n=this._gantt,t=r,e=o;r>o&&(t=o,e=r);for(var a=this._getTaskPositionByTop(t).index,i=this._getTaskPositionByTop(e).index,s=[],d=a;d<=i;d++)n.getTaskByIndex(d)&&s.push(n.getTaskByIndex(d));return s},c.prototype._getTaskPositionByTop=function(r){var o=this._gantt,n=this._view,t=n.getItemIndexByTopPosition(r),e=o.getTaskByIndex(t);if(e){var a=n.getItemHeight(e.id);return{top:n.getItemTop(e.id)||0,height:a||0,index:t}}var i=n.getTotalHeight();return{top:r>i?i:0,height:o.config.row_height,index:r>i?o.getTaskCount():0}},c}();C.SelectedRegion=l},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=u(1),h=function(){function l(c){this._mouseDown=!1,this._gantt=c,this._domEvents=c._createDomEventScope()}return l.prototype.attach=function(c,r,o){var n=this,t=this._gantt,e=c.getViewPort();this._originPosition=window.getComputedStyle(e).display,this._restoreOriginPosition=function(){e.style.position=n._originPosition},this._originPosition==="static"&&(e.style.position="relative");var a=t.$services.getService("state");a.registerProvider("clickDrag",function(){return{autoscroll:!1}});var i=null;this._domEvents.attach(e,"mousedown",function(d){i=null;var f=".gantt_task_line, .gantt_task_link";o!==void 0&&(f=o instanceof Array?o.join(", "):o),f&&t.utils.dom.closest(d.target,f)||(a.registerProvider("clickDrag",function(){return{autoscroll:n._mouseDown}}),r&&d[r]!==!0||(i=n._getCoordinates(d,c)))});var s=g.getRootNode(t.$root)||document.body;this._domEvents.attach(s,"mouseup",function(d){if(i=null,(!r||d[r]===!0)&&n._mouseDown===!0){n._mouseDown=!1;var f=n._getCoordinates(d,c);c.dragEnd(f)}}),this._domEvents.attach(e,"mousemove",function(d){if(!r||d[r]===!0){var f=n._gantt.ext.clickDrag,_=(n._gantt.config.drag_timeline||{}).useKey;if(!f||!_||r||!d[_]){var p=null;if(!n._mouseDown&&i)return p=n._getCoordinates(d,c),void(Math.abs(i.relative.left-p.relative.left)>5&&i&&(n._mouseDown=!0,c.setStart(t.copy(i)),c.setPosition(t.copy(i)),c.setEnd(t.copy(i)),i=null));n._mouseDown===!0&&(p=n._getCoordinates(d,c),c.setEnd(p),c.render())}}})},l.prototype.detach=function(){var c=this._gantt;this._domEvents.detachAll(),this._restoreOriginPosition&&this._restoreOriginPosition(),c.$services.getService("state").unregisterProvider("clickDrag")},l.prototype.destructor=function(){this.detach()},l.prototype._getCoordinates=function(c,r){var o=r.getViewPort(),n=o.getBoundingClientRect(),t=c.clientX,e=c.clientY;return{absolute:{left:t,top:e},relative:{left:t-n.left+o.scrollLeft,top:e-n.top+o.scrollTop}}},l}();C.EventsManager=h},function(T,C,u){var g=this&&this.__assign||function(){return(g=Object.assign||function(c){for(var r,o=1,n=arguments.length;o<n;o++)for(var t in r=arguments[o])Object.prototype.hasOwnProperty.call(r,t)&&(c[t]=r[t]);return c}).apply(this,arguments)};Object.defineProperty(C,"__esModule",{value:!0});var h=u(254),l=u(253);C.default=function(c){c.ext||(c.ext={});var r={className:"gantt_click_drag_rect",useRequestAnimationFrame:!0,callback:void 0,singleRow:!1},o=new h.EventsManager(c);c.ext.clickDrag=o,c.attachEvent("onGanttReady",function(){var n=g({viewPort:c.$task_data},r);if(c.config.click_drag){var t=c.config.click_drag;n.render=t.render||r.render,n.className=t.className||r.className,n.callback=t.callback||r.callback,n.viewPort=t.viewPort||c.$task_data,n.useRequestAnimationFrame=t.useRequestAnimationFrame===void 0?r.useRequestAnimationFrame:t.useRequestAnimationFrame,n.singleRow=t.singleRow===void 0?r.singleRow:t.singleRow;var e=c.$ui.getView("timeline"),a=new l.SelectedRegion(n,c,e);c.ext.clickDrag.attach(a,t.useKey,t.ignore)}}),c.attachEvent("onDestroy",function(){o.destructor()})}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=u(255),h=u(252),l=u(250),c=u(249),r=u(238),o=u(237),n=u(236),t=u(234),e=u(231);C.default={click_drag:g.default,drag_timeline:h.default,fullscreen:l.default,keyboard_navigation:c,quick_info:n.default,tooltip:t.default,undo:e.default,marker:r,multiselect:o}},function(T,C,u){Object.defineProperty(C,"__esModule",{value:!0});var g=u(256),h=u(228),l=u(16).gantt=h(g.default);C.gantt=l,C.default=l}])})})(Ft);const Bt={class:"new-page"},zt={id:"ganttDemo",ref:"ruleFormRef",class:"gantt-container"},Vt=It({__name:"index",setup($t){const Ct=Nt({ganttList:{data:[{id:1,type:!0,text:"牛爷爷",lyj:"8848",lxr:"糯米",progress:.6,open:!0,color:""},{id:11,text:"小头爸爸",lyj:"8848",progress:.6,parent:1,color:"",render:"split"},{id:111,text:"大头儿子1号",lyj:"8848",start_date:"2023-04-7-9",end_date:"2023-04-7-17 ",progress:.6,parent:11,color:"red"},{id:112,text:"大头儿子2号",start_date:"2023-04-9-9",end_date:"2023-04-9-17 ",progress:.6,parent:11,color:"pink"},{id:113,text:"大头儿子3号",start_date:"2023-04-11-9",end_date:"2023-04-11-17 ",progress:.6,parent:11,color:"#039af9"}],links:[{id:1,source:1,target:2,type:0},{id:3,source:2,target:3,type:0}]}});(()=>{lt.gantt.i18n.setLocale("cn"),lt.gantt.config.readonly=!1,lt.gantt.config.autoscroll=!0,lt.gantt.config.order_branch=!0,lt.gantt.config.drag_move=!0,lt.gantt.config.drag_progress=!0,lt.gantt.config.drag_resize=!0,lt.gantt.config.show_links=!0,lt.gantt.config.details_on_dblclick=!1,lt.gantt.config.show_errors=!1,lt.gantt.plugins({multiselect:!0}),lt.gantt.attachEvent("onTaskSelected",function(h){props.onChang(h,Ct.ganttList)}),lt.gantt.attachEvent("onContextMenu",function(h){}),lt.gantt.attachEvent("onTaskOpened",function(h){}),lt.gantt.attachEvent("onTaskClosed",function(h){}),lt.gantt.attachEvent("onBeforeTaskDrag",function(h,l,c){return lt.gantt.getTask(h).type!=="1"});const g={levels:[{name:"Days",scale_height:50,min_column_width:100,scales:[{unit:"day",step:1,format:" %M %d "},{unit:"day",step:1,format:"  %l"}]},{name:"Quarter",height:100,min_column_width:90,scales:[{unit:"month",step:1,format:"%M"}]},{name:"Year",scale_height:50,min_column_width:30,scales:[{unit:"year",step:1,format:"%Y"}]}]};lt.gantt.ext.zoom.init(g)})();const C=async()=>{const g=document.getElementById("ganttDemo");lt.gantt.clearAll(),lt.gantt.config.date_format="%Y-%m-%d %H:%i",lt.gantt.init(g),lt.gantt.parse(Ct.ganttList)},u=()=>{C(),lt.gantt.config.columns=[{name:"text",label:"图图的一家",tree:!0,width:"150"},{name:"start_time",label:"时间",align:"center",width:"150"},{name:"type",label:"状态",align:"center"}]};return Pt(()=>{u()}),(g,h)=>{const l=Dt("el-card"),c=Dt("el-col"),r=Dt("el-row");return Lt(),Ot("div",Bt,[Tt(r,{gutter:24},{default:St(()=>[Tt(c,{span:24},{default:St(()=>[Tt(l,{shadow:"always",style:{height:"87vh"}},{header:St(()=>[Tt(Rt(At),{className:"type-it2",values:["使用插件 【dhtmlx-gantt】"],cursor:!1,speed:80})]),default:St(()=>[Ht("div",zt,null,512)]),_:1})]),_:1})]),_:1})])}}});const qt=jt(Vt,[["__scopeId","data-v-6c42c74d"]]);export{qt as default};
