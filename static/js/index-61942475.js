import{useDept as A}from"./hook-4a7facb4.js";import{R as F,D as L,P as N}from"./refresh-78c96518.js";import{u as c}from"./hooks-10978ac7.js";import{d as P}from"./edit-pen-37b5ced2.js";import{S as z}from"./search-4b9e88d3.js";import{A as E}from"./add-circle-line-438b436c.js";import{d as k,r as h,c as a,e as I,k as O,g as o,w as l,u as e,h as i}from"./index-b9c76e4f.js";import"./system-9ed5aba3.js";import"./epTheme-69b04281.js";const j={class:"main"},q=k({name:"Dept"}),oe=k({...q,setup(G){const m=h(),d=h(),{form:r,loading:u,columns:y,dataList:v,onSearch:f,resetForm:C,handleUpdate:R,handleDelete:w,handleSelectionChange:x}=A();return(H,n)=>{var b;const V=a("el-input"),p=a("el-form-item"),_=a("el-option"),S=a("el-select"),s=a("el-button"),D=a("el-form"),T=a("el-popconfirm"),B=a("pure-table");return I(),O("div",j,[o(D,{ref_key:"formRef",ref:m,inline:!0,model:e(r),class:"bg-bg_color w-[99/100] pl-8 pt-4"},{default:l(()=>[o(p,{label:"部门名称：",prop:"user"},{default:l(()=>[o(V,{modelValue:e(r).user,"onUpdate:modelValue":n[0]||(n[0]=t=>e(r).user=t),placeholder:"请输入部门名称",clearable:"",class:"!w-[200px]"},null,8,["modelValue"])]),_:1}),o(p,{label:"状态：",prop:"status"},{default:l(()=>[o(S,{modelValue:e(r).status,"onUpdate:modelValue":n[1]||(n[1]=t=>e(r).status=t),placeholder:"请选择状态",clearable:"",class:"!w-[180px]"},{default:l(()=>[o(_,{label:"开启",value:"1"}),o(_,{label:"关闭",value:"0"})]),_:1},8,["modelValue"])]),_:1}),o(p,null,{default:l(()=>[o(s,{type:"primary",icon:e(c)(e(z)),loading:e(u),onClick:e(f)},{default:l(()=>[i(" 搜索 ")]),_:1},8,["icon","loading","onClick"]),o(s,{icon:e(c)(e(F)),onClick:n[2]||(n[2]=t=>e(C)(m.value))},{default:l(()=>[i(" 重置 ")]),_:1},8,["icon"])]),_:1})]),_:1},8,["model"]),o(e(N),{title:"部门列表",tableRef:(b=d.value)==null?void 0:b.getTableRef(),onRefresh:e(f)},{buttons:l(()=>[o(s,{type:"primary",icon:e(c)(e(E))},{default:l(()=>[i(" 新增部门 ")]),_:1},8,["icon"])]),default:l(({size:t,checkList:U})=>[o(B,{ref_key:"tableRef",ref:d,border:"","align-whole":"center","row-key":"id",showOverflowTooltip:"","table-layout":"auto","default-expand-all":"",loading:e(u),size:t,data:e(v),columns:e(y),checkList:U,"header-cell-style":{background:"var(--el-table-row-hover-bg-color)",color:"var(--el-text-color-primary)"},onSelectionChange:e(x)},{operation:l(({row:g})=>[o(s,{class:"reset-margin",link:"",type:"primary",size:t,onClick:$=>e(R)(g),icon:e(c)(e(P))},{default:l(()=>[i(" 修改 ")]),_:2},1032,["size","onClick","icon"]),o(T,{title:"是否确认删除?"},{reference:l(()=>[o(s,{class:"reset-margin",link:"",type:"primary",size:t,icon:e(c)(e(L)),onClick:$=>e(w)(g)},{default:l(()=>[i(" 删除 ")]),_:2},1032,["size","icon","onClick"])]),_:2},1024)]),_:2},1032,["loading","size","data","columns","checkList","header-cell-style","onSelectionChange"])]),_:1},8,["tableRef","onRefresh"])])}}});export{oe as default};
